var EM=Object.defineProperty,DM=Object.defineProperties;var TM=Object.getOwnPropertyDescriptors;var Pw=Object.getOwnPropertySymbols,bM=Object.getPrototypeOf,CM=Object.prototype.hasOwnProperty,AM=Object.prototype.propertyIsEnumerable,SM=Reflect.get;var Ow=(t,e,n)=>e in t?EM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,O=(t,e)=>{for(var n in e||={})CM.call(e,n)&&Ow(t,n,e[n]);if(Pw)for(var n of Pw(e))AM.call(e,n)&&Ow(t,n,e[n]);return t},he=(t,e)=>DM(t,TM(e));var _r=(t,e,n)=>SM(bM(t),n,e);var w=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{a(n.next(u))}catch(l){i(l)}},o=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);a((n=n.apply(t,e)).next())});var kw=null;var df=1,hf=Symbol("SIGNAL");function fe(t){let e=kw;return kw=t,e}var Fw={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function RM(t){if(!(gf(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===df)){if(!t.producerMustRecompute(t)&&!ff(t)){t.dirty=!1,t.lastCleanEpoch=df;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=df}}function Lw(t){return t&&(t.nextProducerIndex=0),fe(t)}function Vw(t,e){if(fe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(gf(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)pf(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ff(t){Xc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(RM(n),r!==n.version))return!0}return!1}function jw(t){if(Xc(t),gf(t))for(let e=0;e<t.producerNode.length;e++)pf(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function pf(t,e){if(MM(t),Xc(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)pf(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Xc(i),i.producerIndexOfThis[r]=e}}function gf(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Xc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function MM(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function NM(){throw new Error}var xM=NM;function Uw(t){xM=t}function Z(t){return typeof t=="function"}function rs(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var eu=rs(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ai(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Pe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Z(r))try{r()}catch(s){e=s instanceof eu?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{Bw(s)}catch(o){e=e??[],o instanceof eu?e=[...e,...o.errors]:e.push(o)}}if(e)throw new eu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Bw(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ai(n,e)}remove(e){let{_finalizers:n}=this;n&&ai(n,e),e instanceof t&&e._removeParent(this)}};Pe.EMPTY=(()=>{let t=new Pe;return t.closed=!0,t})();var mf=Pe.EMPTY;function tu(t){return t instanceof Pe||t&&"closed"in t&&Z(t.remove)&&Z(t.add)&&Z(t.unsubscribe)}function Bw(t){Z(t)?t():t.unsubscribe()}var Qt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var is={setTimeout(t,e,...n){let{delegate:r}=is;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=is;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function nu(t){is.setTimeout(()=>{let{onUnhandledError:e}=Qt;if(e)e(t);else throw t})}function Yo(){}var $w=yf("C",void 0,void 0);function Hw(t){return yf("E",void 0,t)}function qw(t){return yf("N",t,void 0)}function yf(t,e,n){return{kind:t,value:e,error:n}}var ci=null;function ss(t){if(Qt.useDeprecatedSynchronousErrorHandling){let e=!ci;if(e&&(ci={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ci;if(ci=null,n)throw r}}else t()}function zw(t){Qt.useDeprecatedSynchronousErrorHandling&&ci&&(ci.errorThrown=!0,ci.error=t)}var ui=class extends Pe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,tu(e)&&e.add(this)):this.destination=kM}static create(e,n,r){return new os(e,n,r)}next(e){this.isStopped?_f(qw(e),this):this._next(e)}error(e){this.isStopped?_f(Hw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?_f($w,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},PM=Function.prototype.bind;function vf(t,e){return PM.call(t,e)}var If=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ru(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ru(r)}else ru(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ru(n)}}},os=class extends ui{constructor(e,n,r){super();let i;if(Z(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Qt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&vf(e.next,s),error:e.error&&vf(e.error,s),complete:e.complete&&vf(e.complete,s)}):i=e}this.destination=new If(i)}};function ru(t){Qt.useDeprecatedSynchronousErrorHandling?zw(t):nu(t)}function OM(t){throw t}function _f(t,e){let{onStoppedNotification:n}=Qt;n&&is.setTimeout(()=>n(t,e))}var kM={closed:!0,next:Yo,error:OM,complete:Yo};var as=typeof Symbol=="function"&&Symbol.observable||"@@observable";function At(t){return t}function iu(...t){return wf(t)}function wf(t){return t.length===0?At:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var se=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=LM(n)?n:new os(n,r,i);return ss(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Gw(r),new r((i,s)=>{let o=new os({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[as](){return this}pipe(...n){return wf(n)(this)}toPromise(n){return n=Gw(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Gw(t){var e;return(e=t??Qt.Promise)!==null&&e!==void 0?e:Promise}function FM(t){return t&&Z(t.next)&&Z(t.error)&&Z(t.complete)}function LM(t){return t&&t instanceof ui||FM(t)&&tu(t)}function Ef(t){return Z(t?.lift)}function pe(t){return e=>{if(Ef(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ce(t,e,n,r,i){return new Df(t,e,n,r,i)}var Df=class extends ui{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function cs(){return pe((t,e)=>{let n=null;t._refCount++;let r=ce(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var us=class extends se{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Ef(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pe;let n=this.getSubject();e.add(this.source.subscribe(ce(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pe.EMPTY)}return e}refCount(){return cs()(this)}};var Ww=rs(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var be=(()=>{class t extends se{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new su(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Ww}next(n){ss(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ss(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ss(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?mf:(this.currentObservers=null,s.push(n),new Pe(()=>{this.currentObservers=null,ai(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new se;return n.source=this,n}}return t.create=(e,n)=>new su(e,n),t})(),su=class extends be{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:mf}};var Je=class extends be{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Tf={now(){return(Tf.delegate||Date).now()},delegate:void 0};var ou=class extends Pe{constructor(e,n){super()}schedule(e,n=0){return this}};var Jo={setInterval(t,e,...n){let{delegate:r}=Jo;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Jo;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ls=class extends ou{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Jo.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Jo.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ai(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ds=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};ds.now=Tf.now;var hs=class extends ds{constructor(e,n=ds.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var bf=new hs(ls);var au=class extends ls{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var cu=class extends hs{};var Cf=new cu(au);var St=new se(t=>t.complete());function Kw(t){return t&&Z(t.schedule)}function Qw(t){return t[t.length-1]}function uu(t){return Z(Qw(t))?t.pop():void 0}function Ir(t){return Kw(Qw(t))?t.pop():void 0}function Af(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Jw(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{l(r.next(h))}catch(p){o(p)}}function u(h){try{l(r.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function Yw(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function li(t){return this instanceof li?(this.v=t,this):new li(t)}function Zw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(m){r[m]&&(i[m]=function(v){return new Promise(function(A,M){s.push([m,v,A,M])>1||a(m,v)})})}function a(m,v){try{u(r[m](v))}catch(A){p(s[0][3],A)}}function u(m){m.value instanceof li?Promise.resolve(m.value.v).then(l,h):p(s[0][2],m)}function l(m){a("next",m)}function h(m){a("throw",m)}function p(m,v){m(v),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Xw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Yw=="function"?Yw(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}var lu=t=>t&&typeof t.length=="number"&&typeof t!="function";function du(t){return Z(t?.then)}function hu(t){return Z(t[as])}function fu(t){return Symbol.asyncIterator&&Z(t?.[Symbol.asyncIterator])}function pu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function VM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var gu=VM();function mu(t){return Z(t?.[gu])}function yu(t){return Zw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield li(n.read());if(i)return yield li(void 0);yield yield li(r)}}finally{n.releaseLock()}})}function vu(t){return Z(t?.getReader)}function Oe(t){if(t instanceof se)return t;if(t!=null){if(hu(t))return jM(t);if(lu(t))return UM(t);if(du(t))return BM(t);if(fu(t))return eE(t);if(mu(t))return $M(t);if(vu(t))return HM(t)}throw pu(t)}function jM(t){return new se(e=>{let n=t[as]();if(Z(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function UM(t){return new se(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function BM(t){return new se(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,nu)})}function $M(t){return new se(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function eE(t){return new se(e=>{qM(t,e).catch(n=>e.error(n))})}function HM(t){return eE(yu(t))}function qM(t,e){var n,r,i,s;return Jw(this,void 0,void 0,function*(){try{for(n=Xw(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Et(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function wr(t,e=0){return pe((n,r)=>{n.subscribe(ce(r,i=>Et(r,t,()=>r.next(i),e),()=>Et(r,t,()=>r.complete(),e),i=>Et(r,t,()=>r.error(i),e)))})}function Er(t,e=0){return pe((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function tE(t,e){return Oe(t).pipe(Er(e),wr(e))}function nE(t,e){return Oe(t).pipe(Er(e),wr(e))}function rE(t,e){return new se(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function iE(t,e){return new se(n=>{let r;return Et(n,e,()=>{r=t[gu](),Et(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>Z(r?.return)&&r.return()})}function _u(t,e){if(!t)throw new Error("Iterable cannot be null");return new se(n=>{Et(n,e,()=>{let r=t[Symbol.asyncIterator]();Et(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function sE(t,e){return _u(yu(t),e)}function oE(t,e){if(t!=null){if(hu(t))return tE(t,e);if(lu(t))return rE(t,e);if(du(t))return nE(t,e);if(fu(t))return _u(t,e);if(mu(t))return iE(t,e);if(vu(t))return sE(t,e)}throw pu(t)}function Te(t,e){return e?oE(t,e):Oe(t)}function G(...t){let e=Ir(t);return Te(t,e)}function fs(t,e){let n=Z(t)?t:()=>t,r=i=>i.error(n());return new se(e?i=>e.schedule(r,0,i):r)}function Sf(t){return!!t&&(t instanceof se||Z(t.lift)&&Z(t.subscribe))}var Vn=rs(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function J(t,e){return pe((n,r)=>{let i=0;n.subscribe(ce(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:zM}=Array;function GM(t,e){return zM(e)?t(...e):t(e)}function Iu(t){return J(e=>GM(t,e))}var{isArray:WM}=Array,{getPrototypeOf:KM,prototype:QM,keys:YM}=Object;function wu(t){if(t.length===1){let e=t[0];if(WM(e))return{args:e,keys:null};if(JM(e)){let n=YM(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function JM(t){return t&&typeof t=="object"&&KM(t)===QM}function Eu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Zo(...t){let e=Ir(t),n=uu(t),{args:r,keys:i}=wu(t);if(r.length===0)return Te([],e);let s=new se(ZM(r,e,i?o=>Eu(i,o):At));return n?s.pipe(Iu(n)):s}function ZM(t,e,n=At){return r=>{aE(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)aE(e,()=>{let l=Te(t[u],e),h=!1;l.subscribe(ce(r,p=>{s[u]=p,h||(h=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function aE(t,e,n){t?Et(n,t,e):e()}function cE(t,e,n,r,i,s,o,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},v=M=>l<r?A(M):u.push(M),A=M=>{s&&e.next(M),l++;let R=!1;Oe(n(M,h++)).subscribe(ce(e,F=>{i?.(F),s?v(F):e.next(F)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let F=u.shift();o?Et(e,o,()=>A(F)):A(F)}m()}catch(F){e.error(F)}}))};return t.subscribe(ce(e,v,()=>{p=!0,m()})),()=>{a?.()}}function ke(t,e,n=1/0){return Z(e)?ke((r,i)=>J((s,o)=>e(r,s,i,o))(Oe(t(r,i))),n):(typeof e=="number"&&(n=e),pe((r,i)=>cE(r,i,t,n)))}function ps(t=1/0){return ke(At,t)}function uE(){return ps(1)}function gs(...t){return uE()(Te(t,Ir(t)))}function Du(t){return new se(e=>{Oe(t()).subscribe(e)})}function Rf(...t){let e=uu(t),{args:n,keys:r}=wu(t),i=new se(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),u=o,l=o;for(let h=0;h<o;h++){let p=!1;Oe(n[h]).subscribe(ce(s,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||s.next(r?Eu(r,a):a),s.complete())}))}});return e?i.pipe(Iu(e)):i}function ht(t,e){return pe((n,r)=>{let i=0;n.subscribe(ce(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Dr(t){return pe((e,n)=>{let r=null,i=!1,s;r=e.subscribe(ce(n,void 0,void 0,o=>{s=Oe(t(o,Dr(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function lE(t,e,n,r,i){return(s,o)=>{let a=n,u=e,l=0;s.subscribe(ce(o,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function jn(t,e){return Z(e)?ke(t,e,1):ke(t,1)}function Tr(t){return pe((e,n)=>{let r=!1;e.subscribe(ce(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Un(t){return t<=0?()=>St:pe((e,n)=>{let r=0;e.subscribe(ce(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Mf(t){return J(()=>t)}function Tu(t=XM){return pe((e,n)=>{let r=!1;e.subscribe(ce(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function XM(){return new Vn}function ms(t){return pe((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function an(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ht((i,s)=>t(i,s,r)):At,Un(1),n?Tr(e):Tu(()=>new Vn))}function ys(t){return t<=0?()=>St:pe((e,n)=>{let r=[];e.subscribe(ce(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Nf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ht((i,s)=>t(i,s,r)):At,ys(1),n?Tr(e):Tu(()=>new Vn))}function bu(t,e){return pe(lE(t,e,arguments.length>=2,!0))}function Cu(...t){let e=Ir(t);return pe((n,r)=>{(e?gs(t,n,e):gs(t,n)).subscribe(r)})}function Rt(t,e){return pe((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(ce(r,u=>{i?.unsubscribe();let l=0,h=s++;Oe(t(u,h)).subscribe(i=ce(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function xf(t){return pe((e,n)=>{Oe(t).subscribe(ce(n,()=>n.complete(),Yo)),!n.closed&&e.subscribe(n)})}function Fe(t,e,n){let r=Z(t)||e||n?{next:t,error:e,complete:n}:t;return r?pe((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(ce(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):At}var QE="https://g.co/ng/security#xss",B=class extends Error{constructor(e,n){super(Wp(e,n)),this.code=e}};function Wp(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function fa(t){return{toString:t}.toString()}var Au="__parameters__";function eN(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function YE(t,e,n){return fa(()=>{let r=eN(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,l,h){let p=u.hasOwnProperty(Au)?u[Au]:Object.defineProperty(u,Au,{value:[]})[Au];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Bn=globalThis;function we(t){for(let e in t)if(t[e]===we)return e;throw Error("Could not find renamed property on target object.")}function tN(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function pt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(pt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Qf(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var nN=we({__forward_ref__:we});function fn(t){return t.__forward_ref__=fn,t.toString=function(){return pt(this())},t}function ft(t){return JE(t)?t():t}function JE(t){return typeof t=="function"&&t.hasOwnProperty(nN)&&t.__forward_ref__===fn}function V(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function en(t){return{providers:t.providers||[],imports:t.imports||[]}}function il(t){return dE(t,XE)||dE(t,eD)}function ZE(t){return il(t)!==null}function dE(t,e){return t.hasOwnProperty(e)?t[e]:null}function rN(t){let e=t&&(t[XE]||t[eD]);return e||null}function hE(t){return t&&(t.hasOwnProperty(fE)||t.hasOwnProperty(iN))?t[fE]:null}var XE=we({\u0275prov:we}),fE=we({\u0275inj:we}),eD=we({ngInjectableDef:we}),iN=we({ngInjectorDef:we}),$=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=V({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function tD(t){return t&&!!t.\u0275providers}var sN=we({\u0275cmp:we}),oN=we({\u0275dir:we}),aN=we({\u0275pipe:we}),cN=we({\u0275mod:we}),Vu=we({\u0275fac:we}),Xo=we({__NG_ELEMENT_ID__:we}),pE=we({__NG_ENV_ID__:we});function pa(t){return typeof t=="string"?t:t==null?"":String(t)}function uN(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():pa(t)}function lN(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new B(-200,t)}function Kp(t,e){throw new B(-201,!1)}var ie=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ie||{}),Yf;function nD(){return Yf}function Dt(t){let e=Yf;return Yf=t,e}function rD(t,e,n){let r=il(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ie.Optional)return null;if(e!==void 0)return e;Kp(t,"Injector")}var dN={},ea=dN,Jf="__NG_DI_FLAG__",ju="ngTempTokenPath",hN="ngTokenPath",fN=/\n/gm,pN="\u0275",gE="__source",Es;function gN(){return Es}function br(t){let e=Es;return Es=t,e}function mN(t,e=ie.Default){if(Es===void 0)throw new B(-203,!1);return Es===null?rD(t,void 0,e):Es.get(t,e&ie.Optional?null:void 0,e)}function U(t,e=ie.Default){return(nD()||mN)(ft(t),e)}function k(t,e=ie.Default){return U(t,sl(e))}function sl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Zf(t){let e=[];for(let n=0;n<t.length;n++){let r=ft(t[n]);if(Array.isArray(r)){if(r.length===0)throw new B(900,!1);let i,s=ie.Default;for(let o=0;o<r.length;o++){let a=r[o],u=yN(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(U(i,s))}else e.push(U(r))}return e}function iD(t,e){return t[Jf]=e,t.prototype[Jf]=e,t}function yN(t){return t[Jf]}function vN(t,e,n,r){let i=t[ju];throw e[gE]&&i.unshift(e[gE]),t.message=_N(`
`+t.message,i,n,r),t[hN]=i,t[ju]=null,t}function _N(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==pN?t.slice(2):t;let i=pt(e);if(Array.isArray(e))i=e.map(pt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):pt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(fN,`
  `)}`}var vt=iD(YE("Optional"),8);var sD=iD(YE("SkipSelf"),4);function fi(t,e){let n=t.hasOwnProperty(Vu);return n?t[Vu]:null}function Qp(t,e){t.forEach(n=>Array.isArray(n)?Qp(n,e):e(n))}function oD(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Uu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function IN(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function wN(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function Yp(t,e,n){let r=ga(t,e);return r>=0?t[r|1]=n:(r=~r,wN(t,r,e,n)),r}function Pf(t,e){let n=ga(t,e);if(n>=0)return t[n|1]}function ga(t,e){return EN(t,e,1)}function EN(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Ts={},Tt=[],bs=new $(""),aD=new $("",-1),cD=new $(""),Bu=class{get(e,n=ea){if(n===ea){let r=new Error(`NullInjectorError: No provider for ${pt(e)}!`);throw r.name="NullInjectorError",r}return n}},uD=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(uD||{}),ln=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ln||{}),Le=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Le||{});function DN(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Xf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];TN(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function lD(t){return t===3||t===4||t===6}function TN(t){return t.charCodeAt(0)===64}function ta(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?mE(t,n,i,null,e[++r]):mE(t,n,i,null,null))}}return t}function mE(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var dD="ng-template";function bN(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&DN(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Jp(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Jp(t){return t.type===4&&t.value!==dD}function CN(t,e,n){let r=t.type===4&&!n?dD:t.value;return e===r}function AN(t,e,n){let r=4,i=t.attrs,s=i!==null?MN(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!Yt(r)&&!Yt(u))return!1;if(o&&Yt(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!CN(t,u,n)||u===""&&e.length===1){if(Yt(r))return!1;o=!0}}else if(r&8){if(i===null||!bN(t,i,u,n)){if(Yt(r))return!1;o=!0}}else{let l=e[++a],h=SN(u,i,Jp(t),n);if(h===-1){if(Yt(r))return!1;o=!0;continue}if(l!==""){let p;if(h>s?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Yt(r))return!1;o=!0}}}}return Yt(r)||o}function Yt(t){return(t&1)===0}function SN(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return NN(e,t)}function hD(t,e,n=!1){for(let r=0;r<e.length;r++)if(AN(t,e[r],n))return!0;return!1}function RN(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function MN(t){for(let e=0;e<t.length;e++){let n=t[e];if(lD(n))return e}return t.length}function NN(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function xN(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function yE(t,e){return t?":not("+e.trim()+")":e}function PN(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Yt(o)&&(e+=yE(s,i),i=""),r=o,s=s||!Yt(r);n++}return i!==""&&(e+=yE(s,i)),e}function ON(t){return t.map(PN).join(",")}function kN(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Yt(i))break;i=s}r++}return{attrs:e,classes:n}}function ma(t){return fa(()=>{let e=vD(t),n=he(O({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===uD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ln.Emulated,styles:t.styles||Tt,_:null,schemas:t.schemas||null,tView:null,id:""});_D(n);let r=t.dependencies;return n.directiveDefs=_E(r,!1),n.pipeDefs=_E(r,!0),n.id=VN(n),n})}function FN(t){return Ar(t)||pD(t)}function LN(t){return t!==null}function tn(t){return fa(()=>({type:t.type,bootstrap:t.bootstrap||Tt,declarations:t.declarations||Tt,imports:t.imports||Tt,exports:t.exports||Tt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function vE(t,e){if(t==null)return Ts;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=Le.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==Le.None?[r,a]:r,e[s]=o):n[s]=r}return n}function Re(t){return fa(()=>{let e=vD(t);return _D(e),e})}function fD(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ar(t){return t[sN]||null}function pD(t){return t[oN]||null}function gD(t){return t[aN]||null}function mD(t){let e=Ar(t)||pD(t)||gD(t);return e!==null?e.standalone:!1}function yD(t,e){let n=t[cN]||null;if(!n&&e===!0)throw new Error(`Type ${pt(t)} does not have '\u0275mod' property.`);return n}function vD(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ts,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Tt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:vE(t.inputs,e),outputs:vE(t.outputs),debugInfo:null}}function _D(t){t.features?.forEach(e=>e(t))}function _E(t,e){if(!t)return null;let n=e?gD:FN;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(LN)}function VN(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function nn(t){return{\u0275providers:t}}function jN(...t){return{\u0275providers:ID(!0,t),\u0275fromNgModule:!0}}function ID(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Qp(e,o=>{let a=o;ep(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&wD(i,s),n}function wD(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Zp(i,s=>{e(s,r)})}}function ep(t,e,n,r){if(t=ft(t),!t)return!1;let i=null,s=hE(t),o=!s&&Ar(t);if(!s&&!o){let u=t.ngModule;if(s=hE(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)ep(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{Qp(s.imports,h=>{ep(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&wD(l,e)}if(!a){let l=fi(i)||(()=>new i);e({provide:i,useFactory:l,deps:Tt},i),e({provide:cD,useValue:i,multi:!0},i),e({provide:bs,useValue:()=>U(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let l=t;Zp(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Zp(t,e){for(let n of t)tD(n)&&(n=n.\u0275providers),Array.isArray(n)?Zp(n,e):e(n)}var UN=we({provide:String,useValue:we});function ED(t){return t!==null&&typeof t=="object"&&UN in t}function BN(t){return!!(t&&t.useExisting)}function $N(t){return!!(t&&t.useFactory)}function Cs(t){return typeof t=="function"}function HN(t){return!!t.useClass}var ol=new $(""),Pu={},qN={},Of;function Xp(){return Of===void 0&&(Of=new Bu),Of}var mt=class{},na=class extends mt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,np(e,o=>this.processProvider(o)),this.records.set(aD,vs(void 0,this)),i.has("environment")&&this.records.set(mt,vs(void 0,this));let s=this.records.get(ol);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(cD,Tt,ie.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=fe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),fe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=br(this),r=Dt(void 0),i;try{return e()}finally{br(n),Dt(r)}}get(e,n=ea,r=ie.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(pE))return e[pE](this);r=sl(r);let i,s=br(this),o=Dt(void 0);try{if(!(r&ie.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=QN(e)&&il(e);l&&this.injectableDefInScope(l)?u=vs(tp(e),Pu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&ie.Self?Xp():this.parent;return n=r&ie.Optional&&n===ea?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[ju]=a[ju]||[]).unshift(pt(e)),s)throw a;return vN(a,e,"R3InjectorError",this.source)}else throw a}finally{Dt(o),br(s)}}resolveInjectorInitializers(){let e=fe(null),n=br(this),r=Dt(void 0),i;try{let s=this.get(bs,Tt,ie.Self);for(let o of s)o()}finally{br(n),Dt(r),fe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(pt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new B(205,!1)}processProvider(e){e=ft(e);let n=Cs(e)?e:ft(e&&e.provide),r=GN(e);if(!Cs(e)&&e.multi===!0){let i=this.records.get(n);i||(i=vs(void 0,Pu,!0),i.factory=()=>Zf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=fe(null);try{return n.value===Pu&&(n.value=qN,n.value=n.factory()),typeof n.value=="object"&&n.value&&KN(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{fe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=ft(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function tp(t){let e=il(t),n=e!==null?e.factory:fi(t);if(n!==null)return n;if(t instanceof $)throw new B(204,!1);if(t instanceof Function)return zN(t);throw new B(204,!1)}function zN(t){if(t.length>0)throw new B(204,!1);let n=rN(t);return n!==null?()=>n.factory(t):()=>new t}function GN(t){if(ED(t))return vs(void 0,t.useValue);{let e=DD(t);return vs(e,Pu)}}function DD(t,e,n){let r;if(Cs(t)){let i=ft(t);return fi(i)||tp(i)}else if(ED(t))r=()=>ft(t.useValue);else if($N(t))r=()=>t.useFactory(...Zf(t.deps||[]));else if(BN(t))r=()=>U(ft(t.useExisting));else{let i=ft(t&&(t.useClass||t.provide));if(WN(t))r=()=>new i(...Zf(t.deps));else return fi(i)||tp(i)}return r}function vs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function WN(t){return!!t.deps}function KN(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function QN(t){return typeof t=="function"||typeof t=="object"&&t instanceof $}function np(t,e){for(let n of t)Array.isArray(n)?np(n,e):n&&tD(n)?np(n.\u0275providers,e):e(n)}function Gn(t,e){t instanceof na&&t.assertNotDestroyed();let n,r=br(t),i=Dt(void 0);try{return e()}finally{br(r),Dt(i)}}function TD(){return nD()!==void 0||gN()!=null}function YN(t){if(!TD())throw new B(-203,!1)}function JN(t){return typeof t=="function"}var pn=0,re=1,Q=2,st=3,Zt=4,Mt=5,As=6,ra=7,it=8,Ss=9,Xt=10,Ce=11,ia=12,IE=13,Os=14,jt=15,al=16,_s=17,Rs=18,cl=19,bD=20,Cr=21,kf=22,pi=23,yt=25,eg=1;var gi=7,$u=8,Hu=9,gt=10,tg=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(tg||{});function di(t){return Array.isArray(t)&&typeof t[eg]=="object"}function Wn(t){return Array.isArray(t)&&t[eg]===!0}function ng(t){return(t.flags&4)!==0}function ul(t){return t.componentOffset>-1}function ll(t){return(t.flags&1)===1}function $n(t){return!!t.template}function ZN(t){return(t[Q]&512)!==0}var rp=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function CD(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Kn(){return AD}function AD(t){return t.type.prototype.ngOnChanges&&(t.setInput=ex),XN}Kn.ngInherit=!0;function XN(){let t=RD(this),e=t?.current;if(e){let n=t.previous;if(n===Ts)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function ex(t,e,n,r,i){let s=this.declaredInputs[r],o=RD(t)||tx(t,{previous:Ts,current:null}),a=o.current||(o.current={}),u=o.previous,l=u[s];a[s]=new rp(l&&l.currentValue,n,u===Ts),CD(t,e,i,n)}var SD="__ngSimpleChanges__";function RD(t){return t[SD]||null}function tx(t,e){return t[SD]=e}var wE=null;var cn=function(t,e,n){wE?.(t,e,n)},nx="svg",rx="math",ix=!1;function sx(){return ix}function dn(t){for(;Array.isArray(t);)t=t[pn];return t}function ox(t){for(;Array.isArray(t);){if(typeof t[eg]=="object")return t;t=t[pn]}return null}function MD(t,e){return dn(e[t])}function Ut(t,e){return dn(e[t.index])}function rg(t,e){return t.data[e]}function ax(t,e){return t[e]}function Nr(t,e){let n=e[t];return di(n)?n:n[pn]}function ig(t){return(t[Q]&128)===128}function cx(t){return Wn(t[st])}function Ms(t,e){return e==null?null:t[e]}function ND(t){t[_s]=0}function ux(t){t[Q]&1024||(t[Q]|=1024,ig(t)&&sa(t))}function lx(t,e){for(;t>0;)e=e[Os],t--;return e}function sg(t){return!!(t[Q]&9216||t[pi]?.dirty)}function ip(t){t[Xt].changeDetectionScheduler?.notify(1),sg(t)?sa(t):t[Q]&64&&(sx()?(t[Q]|=1024,sa(t)):t[Xt].changeDetectionScheduler?.notify())}function sa(t){t[Xt].changeDetectionScheduler?.notify();let e=oa(t);for(;e!==null&&!(e[Q]&8192||(e[Q]|=8192,!ig(e)));)e=oa(e)}function xD(t,e){if((t[Q]&256)===256)throw new B(911,!1);t[Cr]===null&&(t[Cr]=[]),t[Cr].push(e)}function dx(t,e){if(t[Cr]===null)return;let n=t[Cr].indexOf(e);n!==-1&&t[Cr].splice(n,1)}function oa(t){let e=t[st];return Wn(e)?e[st]:e}var oe={lFrame:$D(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function hx(){return oe.lFrame.elementDepthCount}function fx(){oe.lFrame.elementDepthCount++}function px(){oe.lFrame.elementDepthCount--}function PD(){return oe.bindingsEnabled}function OD(){return oe.skipHydrationRootTNode!==null}function gx(t){return oe.skipHydrationRootTNode===t}function mx(){oe.skipHydrationRootTNode=null}function ae(){return oe.lFrame.lView}function Ve(){return oe.lFrame.tView}function og(t){return oe.lFrame.contextLView=t,t[it]}function ag(t){return oe.lFrame.contextLView=null,t}function _t(){let t=kD();for(;t!==null&&t.type===64;)t=t.parent;return t}function kD(){return oe.lFrame.currentTNode}function yx(){let t=oe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ii(t,e){let n=oe.lFrame;n.currentTNode=t,n.isParent=e}function cg(){return oe.lFrame.isParent}function ug(){oe.lFrame.isParent=!1}function FD(){let t=oe.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function vx(t){return oe.lFrame.bindingIndex=t}function wi(){return oe.lFrame.bindingIndex++}function LD(t){let e=oe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function _x(){return oe.lFrame.inI18n}function Ix(t,e){let n=oe.lFrame;n.bindingIndex=n.bindingRootIndex=t,sp(e)}function wx(){return oe.lFrame.currentDirectiveIndex}function sp(t){oe.lFrame.currentDirectiveIndex=t}function VD(t){let e=oe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function jD(t){oe.lFrame.currentQueryIndex=t}function Ex(t){let e=t[re];return e.type===2?e.declTNode:e.type===1?t[Mt]:null}function UD(t,e,n){if(n&ie.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&ie.Host);)if(i=Ex(s),i===null||(s=s[Os],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=oe.lFrame=BD();return r.currentTNode=e,r.lView=t,!0}function lg(t){let e=BD(),n=t[re];oe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function BD(){let t=oe.lFrame,e=t===null?null:t.child;return e===null?$D(t):e}function $D(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function HD(){let t=oe.lFrame;return oe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var qD=HD;function dg(){let t=HD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Dx(t){return(oe.lFrame.contextLView=lx(t,oe.lFrame.contextLView))[it]}function xr(){return oe.lFrame.selectedIndex}function mi(t){oe.lFrame.selectedIndex=t}function ya(){let t=oe.lFrame;return rg(t.tView,t.selectedIndex)}function Tx(){return oe.lFrame.currentNamespace}var zD=!0;function dl(){return zD}function hl(t){zD=t}function bx(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=AD(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function fl(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Ou(t,e,n){GD(t,e,3,n)}function ku(t,e,n,r){(t[Q]&3)===n&&GD(t,e,n,r)}function Ff(t,e){let n=t[Q];(n&3)===e&&(n&=16383,n+=1,t[Q]=n)}function GD(t,e,n,r){let i=r!==void 0?t[_s]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[_s]+=65536),(a<s||s==-1)&&(Cx(t,n,e,u),t[_s]=(t[_s]&4294901760)+u+2),u++}function EE(t,e){cn(4,t,e);let n=fe(null);try{e.call(t)}finally{fe(n),cn(5,t,e)}}function Cx(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[Q]>>14<t[_s]>>16&&(t[Q]&3)===e&&(t[Q]+=16384,EE(a,s)):EE(a,s)}var Ds=-1,yi=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function Ax(t){return t instanceof yi}function Sx(t){return(t.flags&8)!==0}function Rx(t){return(t.flags&16)!==0}function WD(t){return t!==Ds}function qu(t){return t&32767}function Mx(t){return t>>16}function zu(t,e){let n=Mx(t),r=e;for(;n>0;)r=r[Os],n--;return r}var op=!0;function Gu(t){let e=op;return op=t,e}var Nx=256,KD=Nx-1,QD=5,xx=0,un={};function Px(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Xo)&&(r=n[Xo]),r==null&&(r=n[Xo]=xx++);let i=r&KD,s=1<<i;e.data[t+(i>>QD)]|=s}function Wu(t,e){let n=YD(t,e);if(n!==-1)return n;let r=e[re];r.firstCreatePass&&(t.injectorIndex=e.length,Lf(r.data,t),Lf(e,null),Lf(r.blueprint,null));let i=hg(t,e),s=t.injectorIndex;if(WD(i)){let o=qu(i),a=zu(i,e),u=a[re].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function Lf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function YD(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function hg(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=tT(i),r===null)return Ds;if(n++,i=i[Os],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ds}function ap(t,e,n){Px(t,e,n)}function Ox(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(lD(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function JD(t,e,n){if(n&ie.Optional||t!==void 0)return t;Kp(e,"NodeInjector")}function ZD(t,e,n,r){if(n&ie.Optional&&r===void 0&&(r=null),!(n&(ie.Self|ie.Host))){let i=t[Ss],s=Dt(void 0);try{return i?i.get(e,r,n&ie.Optional):rD(e,r,n&ie.Optional)}finally{Dt(s)}}return JD(r,e,n)}function XD(t,e,n,r=ie.Default,i){if(t!==null){if(e[Q]&2048&&!(r&ie.Self)){let o=jx(t,e,n,r,un);if(o!==un)return o}let s=eT(t,e,n,r,un);if(s!==un)return s}return ZD(e,n,r,i)}function eT(t,e,n,r,i){let s=Lx(n);if(typeof s=="function"){if(!UD(e,t,r))return r&ie.Host?JD(i,n,r):ZD(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&ie.Optional))Kp(n);else return o}finally{qD()}}else if(typeof s=="number"){let o=null,a=YD(t,e),u=Ds,l=r&ie.Host?e[jt][Mt]:null;for((a===-1||r&ie.SkipSelf)&&(u=a===-1?hg(t,e):e[a+8],u===Ds||!TE(r,!1)?a=-1:(o=e[re],a=qu(u),e=zu(u,e)));a!==-1;){let h=e[re];if(DE(s,a,h.data)){let p=kx(a,e,n,o,r,l);if(p!==un)return p}u=e[a+8],u!==Ds&&TE(r,e[re].data[a+8]===l)&&DE(s,a,e)?(o=h,a=qu(u),e=zu(u,e)):a=-1}}return i}function kx(t,e,n,r,i,s){let o=e[re],a=o.data[t+8],u=r==null?ul(a)&&op:r!=o&&(a.type&3)!==0,l=i&ie.Host&&s===a,h=Fx(a,o,n,u,l);return h!==null?Ns(e,o,h,a):un}function Fx(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,u=t.directiveStart,l=t.directiveEnd,h=s>>20,p=r?a:a+h,m=i?a+h:l;for(let v=p;v<m;v++){let A=o[v];if(v<u&&n===A||v>=u&&A.type===n)return v}if(i){let v=o[u];if(v&&$n(v)&&v.type===n)return u}return null}function Ns(t,e,n,r){let i=t[n],s=e.data;if(Ax(i)){let o=i;o.resolving&&lN(uN(s[n]));let a=Gu(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?Dt(o.injectImpl):null,h=UD(t,r,ie.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&bx(n,s[n],e)}finally{l!==null&&Dt(l),Gu(a),o.resolving=!1,qD()}}return i}function Lx(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Xo)?t[Xo]:void 0;return typeof e=="number"?e>=0?e&KD:Vx:e}function DE(t,e,n){let r=1<<t;return!!(n[e+(t>>QD)]&r)}function TE(t,e){return!(t&ie.Self)&&!(t&ie.Host&&e)}var hi=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return XD(this._tNode,this._lView,e,sl(r),n)}};function Vx(){return new hi(_t(),ae())}function Pr(t){return fa(()=>{let e=t.prototype.constructor,n=e[Vu]||cp(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Vu]||cp(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function cp(t){return JE(t)?()=>{let e=cp(ft(t));return e&&e()}:fi(t)}function jx(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[Q]&2048&&!(o[Q]&512);){let a=eT(s,o,n,r|ie.Self,un);if(a!==un)return a;let u=s.parent;if(!u){let l=o[bD];if(l){let h=l.get(n,un,r);if(h!==un)return h}u=tT(o),o=o[Os]}s=u}return i}function tT(t){let e=t[re],n=e.type;return n===2?e.declTNode:n===1?t[Mt]:null}function fg(t){return Ox(_t(),t)}function bE(t,e=null,n=null,r){let i=nT(t,e,n,r);return i.resolveInjectorInitializers(),i}function nT(t,e=null,n=null,r,i=new Set){let s=[n||Tt,jN(t)];return r=r||(typeof t=="object"?void 0:pt(t)),new na(s,e||Xp(),r||null,i)}var Be=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return bE({name:""},i,r,"");{let s=r.name??"";return bE({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=ea,e.NULL=new Bu,e.\u0275prov=V({token:e,providedIn:"any",factory:()=>U(aD)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var Ux="ngOriginalError";function Vf(t){return t[Ux]}var hn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Vf(e);for(;n&&Vf(n);)n=Vf(n);return n||null}},rT=new $("",{providedIn:"root",factory:()=>k(hn).handleError.bind(void 0)}),pg=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Bx,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),up=class extends pg{constructor(e){super(),this._lView=e}onDestroy(e){return xD(this._lView,e),()=>dx(this._lView,e)}};function Bx(){return new up(ae())}function $x(){return pl(_t(),ae())}function pl(t,e){return new Bt(Ut(t,e))}var Bt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=$x;let t=e;return t})();var lp=class extends be{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,TD()&&(this.destroyRef=k(pg,{optional:!0})??void 0)}emit(e){let n=fe(null);try{super.next(e)}finally{fe(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=jf(s),i&&(i=jf(i)),o&&(o=jf(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Pe&&e.add(a),a}};function jf(t){return e=>{setTimeout(t,void 0,e)}}var Ze=lp;function iT(t){return(t.flags&128)===128}var sT=new Map,Hx=0;function qx(){return Hx++}function zx(t){sT.set(t[cl],t)}function Gx(t){sT.delete(t[cl])}var CE="__ngContext__";function Sr(t,e){di(e)?(t[CE]=e[cl],zx(e)):t[CE]=e}function oT(t){return cT(t[ia])}function aT(t){return cT(t[Zt])}function cT(t){for(;t!==null&&!Wn(t);)t=t[Zt];return t}var dp;function uT(t){dp=t}function lT(){if(dp!==void 0)return dp;if(typeof document<"u")return document;throw new B(210,!1)}var gg=new $("",{providedIn:"root",factory:()=>Wx}),Wx="ng",mg=new $(""),gn=new $("",{providedIn:"platform",factory:()=>"unknown"});var yg=new $("",{providedIn:"root",factory:()=>lT().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Kx="h",Qx="b";var Yx=()=>null;function vg(t,e,n=!1){return Yx(t,e,n)}var dT=!1,Jx=new $("",{providedIn:"root",factory:()=>dT});var Su;function Zx(){if(Su===void 0&&(Su=null,Bn.trustedTypes))try{Su=Bn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Su}function gl(t){return Zx()?.createHTML(t)||t}var Ru;function hT(){if(Ru===void 0&&(Ru=null,Bn.trustedTypes))try{Ru=Bn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ru}function AE(t){return hT()?.createHTML(t)||t}function SE(t){return hT()?.createScriptURL(t)||t}var Hn=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${QE})`}},hp=class extends Hn{getTypeName(){return"HTML"}},fp=class extends Hn{getTypeName(){return"Style"}},pp=class extends Hn{getTypeName(){return"Script"}},gp=class extends Hn{getTypeName(){return"URL"}},mp=class extends Hn{getTypeName(){return"ResourceURL"}};function $t(t){return t instanceof Hn?t.changingThisBreaksApplicationSecurity:t}function Qn(t,e){let n=Xx(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${QE})`)}return n===e}function Xx(t){return t instanceof Hn&&t.getTypeName()||null}function fT(t){return new hp(t)}function pT(t){return new fp(t)}function gT(t){return new pp(t)}function mT(t){return new gp(t)}function yT(t){return new mp(t)}function eP(t){let e=new vp(t);return tP()?new yp(e):e}var yp=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(gl(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},vp=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=gl(e),n}};function tP(){try{return!!new window.DOMParser().parseFromString(gl(""),"text/html")}catch{return!1}}var nP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ml(t){return t=String(t),t.match(nP)?t:"unsafe:"+t}function Yn(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function va(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var vT=Yn("area,br,col,hr,img,wbr"),_T=Yn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),IT=Yn("rp,rt"),rP=va(IT,_T),iP=va(_T,Yn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),sP=va(IT,Yn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),RE=va(vT,iP,sP,rP),wT=Yn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),oP=Yn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),aP=Yn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),cP=va(wT,oP,aP),uP=Yn("script,style,template"),_p=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=hP(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=dP(n);if(s){n=s;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=ME(e).toLowerCase();if(!RE.hasOwnProperty(n))return this.sanitizedSomething=!0,!uP.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,a=o.toLowerCase();if(!cP.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=s.value;wT[a]&&(u=ml(u)),this.buf.push(" ",o,'="',NE(u),'"')}return this.buf.push(">"),!0}endElement(e){let n=ME(e).toLowerCase();RE.hasOwnProperty(n)&&!vT.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(NE(e))}};function lP(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function dP(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw ET(e);return e}function hP(t){let e=t.firstChild;if(e&&lP(t,e))throw ET(e);return e}function ME(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function ET(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var fP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,pP=/([^\#-~ |!])/g;function NE(t){return t.replace(/&/g,"&amp;").replace(fP,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(pP,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Mu;function _g(t,e){let n=null;try{Mu=Mu||eP(t);let r=e?String(e):"";n=Mu.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Mu.getInertBodyElement(r)}while(r!==s);let a=new _p().sanitizeChildren(xE(n)||n);return gl(a)}finally{if(n){let r=xE(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function xE(t){return"content"in t&&gP(t)?t.content:null}function gP(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Nt=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Nt||{});function Ig(t){let e=wg();return e?AE(e.sanitize(Nt.HTML,t)||""):Qn(t,"HTML")?AE($t(t)):_g(lT(),pa(t))}function mP(t){let e=wg();return e?e.sanitize(Nt.URL,t)||"":Qn(t,"URL")?$t(t):ml(pa(t))}function yP(t){let e=wg();if(e)return SE(e.sanitize(Nt.RESOURCE_URL,t)||"");if(Qn(t,"ResourceURL"))return SE($t(t));throw new B(904,!1)}function vP(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?yP:mP}function DT(t,e,n){return vP(e,n)(t)}function wg(){let t=ae();return t&&t[Xt].sanitizer}var _P=/^>|^->|<!--|-->|--!>|<!-$/g,IP=/(<|>)/g,wP="\u200B$1\u200B";function EP(t){return t.replace(_P,e=>e.replace(IP,wP))}function TT(t){return t instanceof Function?t():t}function DP(t){return(t??k(Be)).get(gn)==="browser"}var qn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(qn||{}),TP;function Eg(t,e){return TP(t,e)}function Is(t,e,n,r,i){if(r!=null){let s,o=!1;Wn(r)?s=r:di(r)&&(o=!0,r=r[pn]);let a=dn(r);t===0&&n!==null?i==null?RT(e,n,a):Ku(e,n,a,i||null,!0):t===1&&n!==null?Ku(e,n,a,i||null,!0):t===2?UP(e,a,o):t===3&&e.destroyNode(a),s!=null&&$P(e,t,s,n,i)}}function bP(t,e){return t.createText(e)}function CP(t,e,n){t.setValue(e,n)}function AP(t,e){return t.createComment(EP(e))}function bT(t,e,n){return t.createElement(e,n)}function SP(t,e){CT(t,e),e[pn]=null,e[Mt]=null}function RP(t,e,n,r,i,s){r[pn]=i,r[Mt]=e,_l(t,r,n,1,i,s)}function CT(t,e){e[Xt].changeDetectionScheduler?.notify(1),_l(t,e,e[Ce],2,null,null)}function MP(t){let e=t[ia];if(!e)return Uf(t[re],t);for(;e;){let n=null;if(di(e))n=e[ia];else{let r=e[gt];r&&(n=r)}if(!n){for(;e&&!e[Zt]&&e!==t;)di(e)&&Uf(e[re],e),e=e[st];e===null&&(e=t),di(e)&&Uf(e[re],e),n=e&&e[Zt]}e=n}}function NP(t,e,n,r){let i=gt+r,s=n.length;r>0&&(n[i-1][Zt]=e),r<s-gt?(e[Zt]=n[i],oD(n,gt+r,e)):(n.push(e),e[Zt]=null),e[st]=n;let o=e[al];o!==null&&n!==o&&xP(o,e);let a=e[Rs];a!==null&&a.insertView(t),ip(e),e[Q]|=128}function xP(t,e){let n=t[Hu],i=e[st][st][jt];e[jt]!==i&&(t[Q]|=tg.HasTransplantedViews),n===null?t[Hu]=[e]:n.push(e)}function AT(t,e){let n=t[Hu],r=n.indexOf(e);n.splice(r,1)}function aa(t,e){if(t.length<=gt)return;let n=gt+e,r=t[n];if(r){let i=r[al];i!==null&&i!==t&&AT(i,r),e>0&&(t[n-1][Zt]=r[Zt]);let s=Uu(t,gt+e);SP(r[re],r);let o=s[Rs];o!==null&&o.detachView(s[re]),r[st]=null,r[Zt]=null,r[Q]&=-129}return r}function yl(t,e){if(!(e[Q]&256)){let n=e[Ce];n.destroyNode&&_l(t,e,n,3,null,null),MP(e)}}function Uf(t,e){if(e[Q]&256)return;let n=fe(null);try{e[Q]&=-129,e[Q]|=256,e[pi]&&jw(e[pi]),OP(t,e),PP(t,e),e[re].type===1&&e[Ce].destroy();let r=e[al];if(r!==null&&Wn(e[st])){r!==e[st]&&AT(r,e);let i=e[Rs];i!==null&&i.detachView(t)}Gx(e)}finally{fe(n)}}function PP(t,e){let n=t.cleanup,r=e[ra];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[ra]=null);let i=e[Cr];if(i!==null){e[Cr]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function OP(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof yi)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];cn(4,a,u);try{u.call(a)}finally{cn(5,a,u)}}else{cn(4,i,s);try{s.call(i)}finally{cn(5,i,s)}}}}}function ST(t,e,n){return kP(t,e.parent,n)}function kP(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[pn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===ln.None||s===ln.Emulated)return null}return Ut(r,n)}}function Ku(t,e,n,r,i){t.insertBefore(e,n,r,i)}function RT(t,e,n){t.appendChild(e,n)}function PE(t,e,n,r,i){r!==null?Ku(t,e,n,r,i):RT(t,e,n)}function FP(t,e,n,r){t.removeChild(e,n,r)}function Dg(t,e){return t.parentNode(e)}function LP(t,e){return t.nextSibling(e)}function MT(t,e,n){return jP(t,e,n)}function VP(t,e,n){return t.type&40?Ut(t,n):null}var jP=VP,OE;function vl(t,e,n,r){let i=ST(t,r,e),s=e[Ce],o=r.parent||e[Mt],a=MT(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)PE(s,i,n[u],a,!1);else PE(s,i,n,a,!1);OE!==void 0&&OE(s,r,e,n,i)}function Fu(t,e){if(e!==null){let n=e.type;if(n&3)return Ut(e,t);if(n&4)return Ip(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Fu(t,r);{let i=t[e.index];return Wn(i)?Ip(-1,i):dn(i)}}else{if(n&32)return Eg(e,t)()||dn(t[e.index]);{let r=NT(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=oa(t[jt]);return Fu(i,r)}else return Fu(t,e.next)}}}return null}function NT(t,e){if(e!==null){let r=t[jt][Mt],i=e.projection;return r.projection[i]}return null}function Ip(t,e){let n=gt+t+1;if(n<e.length){let r=e[n],i=r[re].firstChild;if(i!==null)return Fu(r,i)}return e[gi]}function UP(t,e,n){let r=Dg(t,e);r&&FP(t,r,e,n)}function Tg(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],u=n.type;if(o&&e===0&&(a&&Sr(dn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Tg(t,e,n.child,r,i,s,!1),Is(e,t,i,a,s);else if(u&32){let l=Eg(n,r),h;for(;h=l();)Is(e,t,i,h,s);Is(e,t,i,a,s)}else u&16?xT(t,e,r,n,i,s):Is(e,t,i,a,s);n=o?n.projectionNext:n.next}}function _l(t,e,n,r,i,s){Tg(n,r,t.firstChild,e,i,s,!1)}function BP(t,e,n){let r=e[Ce],i=ST(t,n,e),s=n.parent||e[Mt],o=MT(s,n,e);xT(r,0,e,n,i,o)}function xT(t,e,n,r,i,s){let o=n[jt],u=o[Mt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Is(e,t,i,h,s)}else{let l=u,h=o[st];iT(r)&&(l.flags|=128),Tg(t,e,l,h,i,s,!0)}}function $P(t,e,n,r,i){let s=n[gi],o=dn(n);s!==o&&Is(e,t,r,s,i);for(let a=gt;a<n.length;a++){let u=n[a];_l(u[re],u,t,e,r,s)}}function HP(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:qn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=qn.Important),t.setStyle(n,r,i,s))}}function qP(t,e,n){t.setAttribute(e,"style",n)}function PT(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function OT(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Xf(t,e,r),i!==null&&PT(t,e,i),s!==null&&qP(t,e,s)}var mn={};function $e(t=1){kT(Ve(),ae(),xr()+t,!1)}function kT(t,e,n,r){if(!r)if((e[Q]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Ou(e,s,n)}else{let s=t.preOrderHooks;s!==null&&ku(e,s,0,n)}mi(n)}function H(t,e=ie.Default){let n=ae();if(n===null)return U(t,e);let r=_t();return XD(r,n,ft(t),e)}function FT(){let t="invalid";throw new Error(t)}function LT(t,e,n,r,i,s){let o=fe(null);try{let a=null;i&Le.SignalBased&&(a=e[r][hf]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Le.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):CD(e,a,r,s)}finally{fe(o)}}function zP(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)mi(~i);else{let s=i,o=n[++r],a=n[++r];Ix(o,s);let u=e[s];a(2,u)}}}finally{mi(-1)}}function Il(t,e,n,r,i,s,o,a,u,l,h){let p=e.blueprint.slice();return p[pn]=i,p[Q]=r|4|128|8|64,(l!==null||t&&t[Q]&2048)&&(p[Q]|=2048),ND(p),p[st]=p[Os]=t,p[it]=n,p[Xt]=o||t&&t[Xt],p[Ce]=a||t&&t[Ce],p[Ss]=u||t&&t[Ss]||null,p[Mt]=s,p[cl]=qx(),p[As]=h,p[bD]=l,p[jt]=e.type==2?t[jt]:p,p}function ks(t,e,n,r,i){let s=t.data[e];if(s===null)s=GP(t,e,n,r,i),_x()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=yx();s.injectorIndex=o===null?-1:o.injectorIndex}return Ii(s,!0),s}function GP(t,e,n,r,i){let s=kD(),o=cg(),a=o?s:s&&s.parent,u=t.data[e]=JP(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function VT(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function jT(t,e,n,r,i){let s=xr(),o=r&2;try{mi(-1),o&&e.length>yt&&kT(t,e,yt,!1),cn(o?2:0,i),n(r,i)}finally{mi(s),cn(o?3:1,i)}}function bg(t,e,n){if(ng(e)){let r=fe(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let u=n[o];a.contentQueries(1,u,o)}}}finally{fe(r)}}}function Cg(t,e,n){PD()&&(rO(t,e,n,Ut(n,e)),(n.flags&64)===64&&$T(t,e,n))}function Ag(t,e,n=Ut){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function UT(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Sg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Sg(t,e,n,r,i,s,o,a,u,l,h){let p=yt+r,m=p+i,v=WP(p,m),A=typeof l=="function"?l():l;return v[re]={type:t,blueprint:v,template:n,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:h}}function WP(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:mn);return n}function KP(t,e,n,r){let s=r.get(Jx,dT)||n===ln.ShadowDom,o=t.selectRootElement(e,s);return QP(o),o}function QP(t){YP(t)}var YP=()=>null;function JP(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return OD()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function kE(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=Le.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?FE(r,n,l,a,u):FE(r,n,l,a)}return r}function FE(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function ZP(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=s[h],m=n?n.get(p):null,v=m?m.inputs:null,A=m?m.outputs:null;u=kE(0,p.inputs,h,u,v),l=kE(1,p.outputs,h,l,A);let M=u!==null&&o!==null&&!Jp(e)?pO(u,h,o):null;a.push(M)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function XP(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function wl(t,e,n,r,i,s,o,a){let u=Ut(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(Mg(t,n,h,r,i),ul(e)&&eO(n,e.index)):e.type&3?(r=XP(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function eO(t,e){let n=Nr(e,t);n[Q]&16||(n[Q]|=64)}function Rg(t,e,n,r){if(PD()){let i=r===null?null:{"":-1},s=sO(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&BT(t,e,n,o,i,a),i&&oO(n,r,i)}n.mergedAttrs=ta(n.mergedAttrs,n.attrs)}function BT(t,e,n,r,i,s){for(let l=0;l<r.length;l++)ap(Wu(n,e),t,r[l].type);cO(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,u=VT(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=ta(n.mergedAttrs,h.hostAttrs),uO(t,n,e,u,h),aO(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}ZP(t,n,s)}function tO(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;nO(o)!=a&&o.push(a),o.push(n,r,s)}}function nO(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function rO(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;ul(n)&&lO(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Wu(n,e),Sr(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let u=t.data[a],l=Ns(e,t,a,n);if(Sr(l,e),o!==null&&fO(e,a-i,l,u,n,o),$n(u)){let h=Nr(n.index,e);h[it]=Ns(e,t,a,n)}}}function $T(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=wx();try{mi(s);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];sp(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&iO(u,l)}}finally{mi(-1),sp(o)}}function iO(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function sO(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(hD(e,o.selectors,!1))if(r||(r=[]),$n(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;wp(t,e,u)}else r.unshift(o),wp(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function wp(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function oO(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new B(-301,!1);r.push(e[i],s)}}}function aO(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;$n(e)&&(n[""]=t)}}function cO(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function uO(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=fi(i.type,!0)),o=new yi(s,$n(i),H);t.blueprint[r]=o,n[r]=o,tO(t,e,r,VT(t,n,i.hostVars,mn),i)}function lO(t,e,n){let r=Ut(e,t),i=UT(n),s=t[Xt].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=El(t,Il(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function dO(t,e,n,r,i,s){let o=Ut(t,e);hO(e[Ce],o,s,t.value,n,r,i)}function hO(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?pa(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function fO(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],l=o[a++],h=o[a++],p=o[a++];LT(r,n,u,l,h,p)}}function pO(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function HT(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function qT(t,e){let n=t.contentQueries;if(n!==null){let r=fe(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];jD(s),a.contentQueries(2,e[o],o)}}}finally{fe(r)}}}function El(t,e){return t[ia]?t[IE][Zt]=e:t[ia]=e,t[IE]=e,e}function Ep(t,e,n){jD(0);let r=fe(null);try{e(t,n)}finally{fe(r)}}function gO(t){return t[ra]||(t[ra]=[])}function mO(t){return t.cleanup||(t.cleanup=[])}function yO(t,e,n){return(t===null||$n(t))&&(n=ox(n[e.index])),n[Ce]}function zT(t,e){let n=t[Ss],r=n?n.get(hn,null):null;r&&r.handleError(e)}function Mg(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],u=n[s++],l=e[o],h=t.data[o];LT(h,l,r,a,u,i)}}function vO(t,e,n){let r=MD(e,t);CP(t[Ce],r,n)}function _O(t,e){let n=Nr(e,t),r=n[re];IO(r,n);let i=n[pn];i!==null&&n[As]===null&&(n[As]=vg(i,n[Ss])),Ng(r,n,n[it])}function IO(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Ng(t,e,n){lg(e);try{let r=t.viewQuery;r!==null&&Ep(1,r,n);let i=t.template;i!==null&&jT(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Rs]?.finishViewCreation(t),t.staticContentQueries&&qT(t,e),t.staticViewQueries&&Ep(2,t.viewQuery,n);let s=t.components;s!==null&&wO(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Q]&=-5,dg()}}function wO(t,e){for(let n=0;n<e.length;n++)_O(t,e[n])}function Dl(t,e,n,r){let i=fe(null);try{let s=e.tView,a=t[Q]&4096?4096:16,u=Il(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[al]=l;let h=t[Rs];return h!==null&&(u[Rs]=h.createEmbeddedView(s)),Ng(s,u,n),u}finally{fe(i)}}function GT(t,e){let n=gt+e;if(n<t.length)return t[n]}function ca(t,e){return!e||e.firstChild===null||iT(t)}function Tl(t,e,n,r=!0){let i=e[re];if(NP(i,e,t,n),r){let o=Ip(n,t),a=e[Ce],u=Dg(a,t[gi]);u!==null&&RP(i,t[Mt],a,e,u,o)}let s=e[As];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function WT(t,e){let n=aa(t,e);return n!==void 0&&yl(n[re],n),n}function Qu(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(dn(s)),Wn(s)&&EO(s,r);let o=n.type;if(o&8)Qu(t,e,n.child,r);else if(o&32){let a=Eg(n,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=NT(e,n);if(Array.isArray(a))r.push(...a);else{let u=oa(e[jt]);Qu(u[re],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function EO(t,e){for(let n=gt;n<t.length;n++){let r=t[n],i=r[re].firstChild;i!==null&&Qu(r[re],r,i,e)}t[gi]!==t[pn]&&e.push(t[gi])}var KT=[];function DO(t){return t[pi]??TO(t)}function TO(t){let e=KT.pop()??Object.create(CO);return e.lView=t,e}function bO(t){t.lView[pi]!==t&&(t.lView=null,KT.push(t))}var CO=he(O({},Fw),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{sa(t.lView)},consumerOnSignalRead(){this.lView[pi]=this}}),QT=100;function YT(t,e=!0,n=0){let r=t[Xt],i=r.rendererFactory,s=!1;s||i.begin?.();try{AO(t,n)}catch(o){throw e&&zT(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function AO(t,e){Dp(t,e);let n=0;for(;sg(t);){if(n===QT)throw new B(103,!1);n++,Dp(t,1)}}function SO(t,e,n,r){let i=e[Q];if((i&256)===256)return;let s=!1;!s&&e[Xt].inlineEffectRunner?.flush(),lg(e);let o=null,a=null;!s&&RO(t)&&(a=DO(e),o=Lw(a));try{ND(e),vx(t.bindingStartIndex),n!==null&&jT(t,e,n,2,r);let u=(i&3)===3;if(!s)if(u){let p=t.preOrderCheckHooks;p!==null&&Ou(e,p,null)}else{let p=t.preOrderHooks;p!==null&&ku(e,p,0,null),Ff(e,0)}if(MO(e),JT(e,0),t.contentQueries!==null&&qT(t,e),!s)if(u){let p=t.contentCheckHooks;p!==null&&Ou(e,p)}else{let p=t.contentHooks;p!==null&&ku(e,p,1),Ff(e,1)}zP(t,e);let l=t.components;l!==null&&XT(e,l,0);let h=t.viewQuery;if(h!==null&&Ep(2,h,r),!s)if(u){let p=t.viewCheckHooks;p!==null&&Ou(e,p)}else{let p=t.viewHooks;p!==null&&ku(e,p,2),Ff(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[kf]){for(let p of e[kf])p();e[kf]=null}s||(e[Q]&=-73)}catch(u){throw sa(e),u}finally{a!==null&&(Vw(a,o),bO(a)),dg()}}function RO(t){return t.type!==2}function JT(t,e){for(let n=oT(t);n!==null;n=aT(n))for(let r=gt;r<n.length;r++){let i=n[r];ZT(i,e)}}function MO(t){for(let e=oT(t);e!==null;e=aT(e)){if(!(e[Q]&tg.HasTransplantedViews))continue;let n=e[Hu];for(let r=0;r<n.length;r++){let i=n[r],s=i[st];ux(i)}}}function NO(t,e,n){let r=Nr(e,t);ZT(r,n)}function ZT(t,e){ig(t)&&Dp(t,e)}function Dp(t,e){let r=t[re],i=t[Q],s=t[pi],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&ff(s)),s&&(s.dirty=!1),t[Q]&=-9217,o)SO(r,t,r.template,t[it]);else if(i&8192){JT(t,1);let a=r.components;a!==null&&XT(t,a,1)}}function XT(t,e,n){for(let r=0;r<e.length;r++)NO(t,e[r],n)}function xg(t){for(t[Xt].changeDetectionScheduler?.notify();t;){t[Q]|=64;let e=oa(t);if(ZN(t)&&!e)return t;t=e}return null}var vi=class{get rootNodes(){let e=this._lView,n=e[re];return Qu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[it]}set context(e){this._lView[it]=e}get destroyed(){return(this._lView[Q]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[st];if(Wn(e)){let n=e[$u],r=n?n.indexOf(this):-1;r>-1&&(aa(e,r),Uu(n,r))}this._attachedToViewContainer=!1}yl(this._lView[re],this._lView)}onDestroy(e){xD(this._lView,e)}markForCheck(){xg(this._cdRefInjectingView||this._lView)}detach(){this._lView[Q]&=-129}reattach(){ip(this._lView),this._lView[Q]|=128}detectChanges(){this._lView[Q]|=1024,YT(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new B(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,CT(this._lView[re],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new B(902,!1);this._appRef=e,ip(this._lView)}},Pg=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=OO;let t=e;return t})(),xO=Pg,PO=class extends xO{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Dl(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new vi(i)}};function OO(){return kO(_t(),ae())}function kO(t,e){return t.type&4?new PO(e,t,pl(t,e)):null}var P9=new RegExp(`^(\\d+)*(${Qx}|${Kx})*(.*)`);var FO=()=>null;function ua(t,e){return FO(t,e)}var Yu=class{},Tp=class{},Ju=class{};function LO(t){let e=Error(`No component factory found for ${pt(t)}.`);return e[VO]=t,e}var VO="ngComponent";var bp=class{resolveComponentFactory(e){throw LO(e)}},Fs=(()=>{let e=class e{};e.NULL=new bp;let t=e;return t})(),la=class{},yn=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>jO();let t=e;return t})();function jO(){let t=ae(),e=_t(),n=Nr(e.index,t);return(di(n)?n:t)[Ce]}var UO=(()=>{let e=class e{};e.\u0275prov=V({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Bf={};var LE=new Set;function _a(t){LE.has(t)||(LE.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function VE(...t){}function BO(){let t=typeof Bn.requestAnimationFrame=="function",e=Bn[t?"requestAnimationFrame":"setTimeout"],n=Bn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var ge=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ze(!1),this.onMicrotaskEmpty=new Ze(!1),this.onStable=new Ze(!1),this.onError=new Ze(!1),typeof Zone>"u")throw new B(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=BO().nativeRequestAnimationFrame,qO(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new B(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new B(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,$O,VE,VE);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},$O={};function Og(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function HO(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Bn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Cp(t),t.isCheckStableRunning=!0,Og(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Cp(t))}function qO(t){let e=()=>{HO(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(zO(a))return n.invokeTask(i,s,o,a);try{return jE(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),UE(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return jE(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),UE(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Cp(t),Og(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Cp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function jE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function UE(t){t._nesting--,Og(t)}function zO(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var ws=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(ws||{}),GO={destroy(){}};function bl(t,e){!e&&YN(bl);let n=e?.injector??k(Be);if(!DP(n))return GO;_a("NgAfterNextRender");let r=n.get(kg),i=r.handler??=new Sp,s=e?.phase??ws.MixedReadWrite,o=()=>{i.unregister(u),a()},a=n.get(pg).onDestroy(o),u=Gn(n,()=>new Ap(s,()=>{o(),t()}));return i.register(u),{destroy:o}}var Ap=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=k(ge),this.errorHandler=k(hn,{optional:!0}),k(Yu,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Sp=class{constructor(){this.executingCallbacks=!1,this.buckets={[ws.EarlyRead]:new Set,[ws.Write]:new Set,[ws.MixedReadWrite]:new Set,[ws.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},kg=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=V({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Zu(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=Qf(i,a);else if(s==2){let u=a,l=e[++o];r=Qf(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Xu=class extends Fs{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Ar(e);return new xs(n,this.ngModule)}};function BE(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function WO(t){let e=t.toLowerCase();return e==="svg"?nx:e==="math"?rx:null}var Rp=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=sl(r);let i=this.injector.get(e,Bf,r);return i!==Bf||n===Bf?i:this.parentInjector.get(e,n,r)}},xs=class extends Ju{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=BE(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return BE(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=ON(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=fe(null);try{i=i||this.ngModule;let o=i instanceof mt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Rp(e,o):e,u=a.get(la,null);if(u===null)throw new B(407,!1);let l=a.get(UO,null),h=a.get(kg,null),p=a.get(Yu,null),m={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:h,changeDetectionScheduler:p},v=u.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",M=r?KP(v,r,this.componentDef.encapsulation,a):bT(v,A,WO(A)),R=512;this.componentDef.signals?R|=4096:this.componentDef.onPush||(R|=16);let F=null;M!==null&&(F=vg(M,a,!0));let Y=Sg(0,null,null,1,0,null,null,null,null,null,null),z=Il(null,Y,null,R,null,null,m,v,a,null,F);lg(z);let de,Ae;try{let te=this.componentDef,D,y=null;te.findHostDirectiveDefs?(D=[],y=new Map,te.findHostDirectiveDefs(te,D,y),D.push(te)):D=[te];let _=KO(z,M),E=QO(_,M,te,D,z,m,v);Ae=rg(Y,yt),M&&ZO(v,te,M,r),n!==void 0&&XO(Ae,this.ngContentSelectors,n),de=JO(E,te,D,y,z,[ek]),Ng(Y,z,null)}finally{dg()}return new Mp(this.componentType,de,pl(Ae,z),z,Ae)}finally{fe(s)}}},Mp=class extends Tp{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new vi(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Mg(s[re],s,i,e,n),this.previousInputValues.set(e,n);let o=Nr(this._tNode.index,s);xg(o)}}get injector(){return new hi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function KO(t,e){let n=t[re],r=yt;return t[r]=e,ks(n,r,2,"#host",null)}function QO(t,e,n,r,i,s,o){let a=i[re];YO(r,t,e,o);let u=null;e!==null&&(u=vg(e,i[Ss]));let l=s.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=Il(i,UT(n),null,h,i[t.index],t,s,l,null,null,u);return a.firstCreatePass&&wp(a,t,r.length-1),El(i,p),i[t.index]=p}function YO(t,e,n,r){for(let i of t)e.mergedAttrs=ta(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Zu(e,e.mergedAttrs,!0),n!==null&&OT(r,n,e))}function JO(t,e,n,r,i,s){let o=_t(),a=i[re],u=Ut(o,i);BT(a,i,o,n,null,r);for(let h=0;h<n.length;h++){let p=o.directiveStart+h,m=Ns(i,a,p,o);Sr(m,i)}$T(a,i,o),u&&Sr(u,i);let l=Ns(i,a,o.directiveStart+o.componentOffset,o);if(t[it]=i[it]=l,s!==null)for(let h of s)h(l,e);return bg(a,o,i),l}function ZO(t,e,n,r){if(r)Xf(t,n,["ng-version","17.3.10"]);else{let{attrs:i,classes:s}=kN(e.selectors[0]);i&&Xf(t,n,i),s&&s.length>0&&PT(t,n,s.join(" "))}}function XO(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function ek(){let t=_t();fl(ae()[re],t)}var Ia=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=tk;let t=e;return t})();function tk(){let t=_t();return rk(t,ae())}var nk=Ia,eb=class extends nk{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return pl(this._hostTNode,this._hostLView)}get injector(){return new hi(this._hostTNode,this._hostLView)}get parentInjector(){let e=hg(this._hostTNode,this._hostLView);if(WD(e)){let n=zu(e,this._hostLView),r=qu(e),i=n[re].data[r+8];return new hi(i,n)}else return new hi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=$E(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-gt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=ua(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,ca(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!JN(e),a;if(o)a=n;else{let A=n||{};a=A.index,r=A.injector,i=A.projectableNodes,s=A.environmentInjector||A.ngModuleRef}let u=o?e:new xs(Ar(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let M=(o?l:this.parentInjector).get(mt,null);M&&(s=M)}let h=Ar(u.componentType??{}),p=ua(this._lContainer,h?.id??null),m=p?.firstChild??null,v=u.create(l,i,m,s);return this.insertImpl(v.hostView,a,ca(this._hostTNode,p)),v}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(cx(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[st],l=new eb(u,u[Mt],u[st]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return Tl(o,i,s,r),e.attachToViewContainerRef(),oD($f(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=$E(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=aa(this._lContainer,n);r&&(Uu($f(this._lContainer),n),yl(r[re],r))}detach(e){let n=this._adjustIndex(e,-1),r=aa(this._lContainer,n);return r&&Uu($f(this._lContainer),n)!=null?new vi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function $E(t){return t[$u]}function $f(t){return t[$u]||(t[$u]=[])}function rk(t,e){let n,r=e[t.index];return Wn(r)?n=r:(n=HT(r,e,null,t),e[t.index]=n,El(e,n)),sk(n,e,t,r),new eb(n,t,e)}function ik(t,e){let n=t[Ce],r=n.createComment(""),i=Ut(e,t),s=Dg(n,i);return Ku(n,s,r,LP(n,i),!1),r}var sk=ck,ok=()=>!1;function ak(t,e,n){return ok(t,e,n)}function ck(t,e,n,r){if(t[gi])return;let i;n.type&8?i=dn(r):i=ik(e,n),t[gi]=i}function uk(t){return typeof t=="function"&&t[hf]!==void 0}function tb(t){return uk(t)&&typeof t.set=="function"}function lk(t){return Object.getPrototypeOf(t.prototype).constructor}function Ht(t){let e=lk(t.type),n=!0,r=[t];for(;e;){let i;if($n(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new B(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Nu(t.inputs),o.inputTransforms=Nu(t.inputTransforms),o.declaredInputs=Nu(t.declaredInputs),o.outputs=Nu(t.outputs);let a=i.hostBindings;a&&gk(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&fk(t,u),l&&pk(t,l),dk(t,i),tN(t.outputs,i.outputs),$n(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Ht&&(n=!1)}}e=Object.getPrototypeOf(e)}hk(r)}function dk(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function hk(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ta(i.hostAttrs,n=ta(n,i.hostAttrs))}}function Nu(t){return t===Ts?{}:t===Tt?[]:t}function fk(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function pk(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function gk(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Fg(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Rr=class{},da=class{};var Np=class extends Rr{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Xu(this);let i=yD(e);this._bootstrapComponents=TT(i.bootstrap),this._r3Injector=nT(e,n,[{provide:Rr,useValue:this},{provide:Fs,useValue:this.componentFactoryResolver},...r],pt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},xp=class extends da{constructor(e){super(),this.moduleType=e}create(e){return new Np(this.moduleType,e,[])}};var el=class extends Rr{constructor(e){super(),this.componentFactoryResolver=new Xu(this),this.instance=null;let n=new na([...e.providers,{provide:Rr,useValue:this},{provide:Fs,useValue:this.componentFactoryResolver}],e.parent||Xp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Cl(t,e,n=null){return new el({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Al=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Je(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function mk(t,e,n){return t[e]=n}function vn(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function yk(t){return(t.flags&32)===32}function vk(t,e,n,r,i,s,o,a,u){let l=e.consts,h=ks(e,t,4,o||null,Ms(l,a));Rg(e,n,h,Ms(l,u)),fl(e,h);let p=h.tView=Sg(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function Mr(t,e,n,r,i,s,o,a){let u=ae(),l=Ve(),h=t+yt,p=l.firstCreatePass?vk(h,l,u,e,n,r,i,s,o):l.data[h];Ii(p,!1);let m=_k(l,u,p,t);dl()&&vl(l,u,m,p),Sr(m,u);let v=HT(m,u,m,p);return u[h]=v,El(u,v),ak(v,p,u),ll(p)&&Cg(l,u,p),o!=null&&Ag(u,p,a),Mr}var _k=Ik;function Ik(t,e,n,r){return hl(!0),e[Ce].createComment("")}function Jn(t,e,n,r){let i=ae(),s=wi();if(vn(i,s,e)){let o=Ve(),a=ya();dO(a,i,t,e,n,r)}return Jn}function nb(t,e,n,r){return vn(t,wi(),n)?e+pa(n)+r:mn}function xu(t,e){return t<<17|e<<2}function _i(t){return t>>17&32767}function wk(t){return(t&2)==2}function Ek(t,e){return t&131071|e<<17}function Pp(t){return t|2}function Ps(t){return(t&131068)>>2}function Hf(t,e){return t&-131069|e<<2}function Dk(t){return(t&1)===1}function Op(t){return t|1}function Tk(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=_i(o),u=Ps(o);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||ga(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=_i(t[a+1]);t[r+1]=xu(m,a),m!==0&&(t[m+1]=Hf(t[m+1],r)),t[a+1]=Ek(t[a+1],r)}else t[r+1]=xu(a,0),a!==0&&(t[a+1]=Hf(t[a+1],r)),a=r;else t[r+1]=xu(u,0),a===0?a=r:t[u+1]=Hf(t[u+1],r),u=r;l&&(t[r+1]=Pp(t[r+1])),HE(t,h,r,!0),HE(t,h,r,!1),bk(e,h,t,r,s),o=xu(a,u),s?e.classBindings=o:e.styleBindings=o}function bk(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&ga(s,e)>=0&&(n[r+1]=Op(n[r+1]))}function HE(t,e,n,r){let i=t[n+1],s=e===null,o=r?_i(i):Ps(i),a=!1;for(;o!==0&&(a===!1||s);){let u=t[o],l=t[o+1];Ck(u,e)&&(a=!0,t[o+1]=r?Op(l):Pp(l)),o=r?_i(l):Ps(l)}a&&(t[n+1]=r?Pp(i):Op(i))}function Ck(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?ga(t,e)>=0:!1}var Jt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ak(t){return t.substring(Jt.key,Jt.keyEnd)}function Sk(t){return Rk(t),rb(t,ib(t,0,Jt.textEnd))}function rb(t,e){let n=Jt.textEnd;return n===e?-1:(e=Jt.keyEnd=Mk(t,Jt.key=e,n),ib(t,e,n))}function Rk(t){Jt.key=0,Jt.keyEnd=0,Jt.value=0,Jt.valueEnd=0,Jt.textEnd=t.length}function ib(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Mk(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function ot(t,e,n){let r=ae(),i=wi();if(vn(r,i,e)){let s=Ve(),o=ya();wl(s,o,r,t,e,r[Ce],n,!1)}return ot}function kp(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Mg(t,n,s[o],o,r)}function Ei(t,e,n){return sb(t,e,n,!1),Ei}function Sl(t,e){return sb(t,e,null,!0),Sl}function Zn(t){xk(Vk,Nk,t,!0)}function Nk(t,e){for(let n=Sk(e);n>=0;n=rb(e,n))Yp(t,Ak(e),!0)}function sb(t,e,n,r){let i=ae(),s=Ve(),o=LD(2);if(s.firstUpdatePass&&ab(s,t,o,r),e!==mn&&vn(i,o,e)){let a=s.data[xr()];cb(s,a,i,i[Ce],t,i[o+1]=Uk(e,n),r,o)}}function xk(t,e,n,r){let i=Ve(),s=LD(2);i.firstUpdatePass&&ab(i,null,s,r);let o=ae();if(n!==mn&&vn(o,s,n)){let a=i.data[xr()];if(ub(a,r)&&!ob(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;u!==null&&(n=Qf(u,n||"")),kp(i,a,o,n,r)}else jk(i,a,o,o[Ce],o[s+1],o[s+1]=Lk(t,e,n),r,s)}}function ob(t,e){return e>=t.expandoStartIndex}function ab(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[xr()],o=ob(t,n);ub(s,r)&&e===null&&!o&&(e=!1),e=Pk(i,s,e,r),Tk(i,s,e,n,o,r)}}function Pk(t,e,n,r){let i=VD(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=qf(null,t,e,n,r),n=ha(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=qf(i,t,e,n,r),s===null){let u=Ok(t,e,r);u!==void 0&&Array.isArray(u)&&(u=qf(null,t,e,u[1],r),u=ha(u,e.attrs,r),kk(t,e,r,u))}else s=Fk(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function Ok(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ps(r)!==0)return t[_i(r)]}function kk(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[_i(i)]=r}function Fk(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=ha(r,o,n)}return ha(r,e.attrs,n)}function qf(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=ha(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ha(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Yp(t,o,n?!0:e[++s]))}return t===void 0?null:t}function Lk(t,e,n){if(n==null||n==="")return Tt;let r=[],i=$t(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function Vk(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&Yp(t,r,n)}function jk(t,e,n,r,i,s,o,a){i===mn&&(i=Tt);let u=0,l=0,h=0<i.length?i[0]:null,p=0<s.length?s[0]:null;for(;h!==null||p!==null;){let m=u<i.length?i[u+1]:void 0,v=l<s.length?s[l+1]:void 0,A=null,M;h===p?(u+=2,l+=2,m!==v&&(A=p,M=v)):p===null||h!==null&&h<p?(u+=2,A=h):(l+=2,A=p,M=v),A!==null&&cb(t,e,n,r,A,M,o,a),h=u<i.length?i[u]:null,p=l<s.length?s[l]:null}}function cb(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=Dk(l)?qE(u,e,n,i,Ps(l),o):void 0;if(!tl(h)){tl(s)||wk(l)&&(s=qE(u,null,n,i,a,o));let p=MD(xr(),n);HP(r,o,p,i,s)}}function qE(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===mn&&(m=p?Tt:void 0);let v=p?Pf(m,r):h===r?m:void 0;if(l&&!tl(v)&&(v=Pf(u,r)),tl(v)&&(a=v,o))return a;let A=t[i+1];i=o?_i(A):Ps(A)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=Pf(u,r))}return a}function tl(t){return t!==void 0}function Uk(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=pt($t(t)))),t}function ub(t,e){return(t.flags&(e?8:16))!==0}var Fp=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}};function zf(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function Bk(t,e,n){let r,i,s=0,o=t.length-1;if(Array.isArray(e)){let a=e.length-1;for(;s<=o&&s<=a;){let u=t.at(s),l=e[s],h=zf(s,u,s,l,n);if(h!==0){h<0&&t.updateValue(s,l),s++;continue}let p=t.at(o),m=e[a],v=zf(o,p,a,m,n);if(v!==0){v<0&&t.updateValue(o,m),o--,a--;continue}let A=n(s,u),M=n(o,p),R=n(s,l);if(Object.is(R,M)){let F=n(a,m);Object.is(F,A)?(t.swap(s,o),t.updateValue(o,m),a--,o--):t.move(o,s),t.updateValue(s,l),s++;continue}if(r??=new nl,i??=GE(t,s,o,n),Lp(t,r,s,R))t.updateValue(s,l),s++,o++;else if(i.has(R))r.set(A,t.detach(s)),o--;else{let F=t.create(s,e[s]);t.attach(s,F),s++,o++}}for(;s<=a;)zE(t,r,n,s,e[s]),s++}else if(e!=null){let a=e[Symbol.iterator](),u=a.next();for(;!u.done&&s<=o;){let l=t.at(s),h=u.value,p=zf(s,l,s,h,n);if(p!==0)p<0&&t.updateValue(s,h),s++,u=a.next();else{r??=new nl,i??=GE(t,s,o,n);let m=n(s,h);if(Lp(t,r,s,m))t.updateValue(s,h),s++,o++,u=a.next();else if(!i.has(m))t.attach(s,t.create(s,h)),s++,o++,u=a.next();else{let v=n(s,l);r.set(v,t.detach(s)),o--}}}for(;!u.done;)zE(t,r,n,t.length,u.value),u=a.next()}for(;s<=o;)t.destroy(t.detach(o--));r?.forEach(a=>{t.destroy(a)})}function Lp(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function zE(t,e,n,r,i){if(Lp(t,e,r,n(r,i)))t.updateValue(r,i);else{let s=t.create(r,i);t.attach(r,s)}}function GE(t,e,n,r){let i=new Set;for(let s=e;s<=n;s++)i.add(r(s,t.at(s)));return i}var nl=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function k9(t,e,n){_a("NgControlFlow");let r=ae(),i=wi(),s=Bp(r,yt+t),o=0;if(vn(r,i,e)){let a=fe(null);try{if(WT(s,o),e!==-1){let u=$p(r[re],yt+e),l=ua(s,u.tView.ssrId),h=Dl(r,u,n,{dehydratedView:l});Tl(s,h,o,ca(u,l))}}finally{fe(a)}}else{let a=GT(s,o);a!==void 0&&(a[it]=n)}}var Vp=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-gt}};function F9(t,e){return e}var jp=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function L9(t,e,n,r,i,s,o,a,u,l,h,p,m){_a("NgControlFlow");let v=u!==void 0,A=ae(),M=a?o.bind(A[jt][it]):o,R=new jp(v,M);A[yt+t]=R,Mr(t+1,e,n,r,i,s),v&&Mr(t+2,u,l,h,p,m)}var Up=class extends Fp{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-gt}at(e){return this.getLView(e)[it].$implicit}attach(e,n){let r=n[As];this.needsIndexUpdate||=e!==this.length,Tl(this.lContainer,n,e,ca(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,$k(this.lContainer,e)}create(e,n){let r=ua(this.lContainer,this.templateTNode.tView.ssrId);return Dl(this.hostLView,this.templateTNode,new Vp(this.lContainer,n,e),{dehydratedView:r})}destroy(e){yl(e[re],e)}updateValue(e,n){this.getLView(e)[it].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[it].$index=e}getLView(e){return Hk(this.lContainer,e)}};function V9(t){let e=fe(null),n=xr();try{let r=ae(),i=r[re],s=r[n];if(s.liveCollection===void 0){let a=n+1,u=Bp(r,a),l=$p(i,a);s.liveCollection=new Up(u,r,l)}else s.liveCollection.reset();let o=s.liveCollection;if(Bk(o,t,s.trackByFn),o.updateIndexes(),s.hasEmptyBlock){let a=wi(),u=o.length===0;if(vn(r,a,u)){let l=n+2,h=Bp(r,l);if(u){let p=$p(i,l),m=ua(h,p.tView.ssrId),v=Dl(r,p,void 0,{dehydratedView:m});Tl(h,v,0,ca(p,m))}else WT(h,0)}}}finally{fe(e)}}function Bp(t,e){return t[e]}function $k(t,e){return aa(t,e)}function Hk(t,e){return GT(t,e)}function $p(t,e){return rg(t,e)}function qk(t,e,n,r,i,s){let o=e.consts,a=Ms(o,i),u=ks(e,t,2,r,a);return Rg(e,n,u,Ms(o,s)),u.attrs!==null&&Zu(u,u.attrs,!1),u.mergedAttrs!==null&&Zu(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function xt(t,e,n,r){let i=ae(),s=Ve(),o=yt+t,a=i[Ce],u=s.firstCreatePass?qk(o,s,i,e,n,r):s.data[o],l=zk(s,i,u,a,e,t);i[o]=l;let h=ll(u);return Ii(u,!0),OT(a,l,u),!yk(u)&&dl()&&vl(s,i,l,u),hx()===0&&Sr(l,i),fx(),h&&(Cg(s,i,u),bg(s,u,i)),r!==null&&Ag(i,u),xt}function rn(){let t=_t();cg()?ug():(t=t.parent,Ii(t,!1));let e=t;gx(e)&&mx(),px();let n=Ve();return n.firstCreatePass&&(fl(n,t),ng(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&Sx(e)&&kp(n,e,ae(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Rx(e)&&kp(n,e,ae(),e.stylesWithoutHost,!1),rn}function Or(t,e,n,r){return xt(t,e,n,r),rn(),Or}var zk=(t,e,n,r,i,s)=>(hl(!0),bT(r,i,Tx()));function Gk(t,e,n,r,i){let s=e.consts,o=Ms(s,r),a=ks(e,t,8,"ng-container",o);o!==null&&Zu(a,o,!0);let u=Ms(s,i);return Rg(e,n,a,u),e.queries!==null&&e.queries.elementStart(e,a),a}function Rl(t,e,n){let r=ae(),i=Ve(),s=t+yt,o=i.firstCreatePass?Gk(s,i,r,e,n):i.data[s];Ii(o,!0);let a=Wk(i,r,o,t);return r[s]=a,dl()&&vl(i,r,a,o),Sr(a,r),ll(o)&&(Cg(i,r,o),bg(i,o,r)),n!=null&&Ag(r,o),Rl}function Ml(){let t=_t(),e=Ve();return cg()?ug():(t=t.parent,Ii(t,!1)),e.firstCreatePass&&(fl(e,t),ng(t)&&e.queries.elementEnd(t)),Ml}var Wk=(t,e,n,r)=>(hl(!0),AP(e[Ce],""));function Lg(){return ae()}function Vg(t,e,n){let r=ae(),i=wi();if(vn(r,i,e)){let s=Ve(),o=ya(),a=VD(s.data),u=yO(a,o,r);wl(s,o,r,t,e,u,n,!0)}return Vg}var rl="en-US";var Kk=rl;function Qk(t){typeof t=="string"&&(Kk=t.toLowerCase().replace(/_/g,"-"))}function bt(t,e,n,r){let i=ae(),s=Ve(),o=_t();return lb(s,i,i[Ce],o,t,e,r),bt}function Yk(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[ra],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function lb(t,e,n,r,i,s,o){let a=ll(r),l=t.firstCreatePass&&mO(t),h=e[it],p=gO(e),m=!0;if(r.type&3||o){let M=Ut(r,e),R=o?o(M):M,F=p.length,Y=o?de=>o(dn(de[r.index])):r.index,z=null;if(!o&&a&&(z=Yk(t,e,i,r.index)),z!==null){let de=z.__ngLastListenerFn__||z;de.__ngNextListenerFn__=s,z.__ngLastListenerFn__=s,m=!1}else{s=KE(r,e,h,s,!1);let de=n.listen(R,i,s);p.push(s,de),l&&l.push(i,Y,F,F+1)}}else s=KE(r,e,h,s,!1);let v=r.outputs,A;if(m&&v!==null&&(A=v[i])){let M=A.length;if(M)for(let R=0;R<M;R+=2){let F=A[R],Y=A[R+1],Ae=e[F][Y].subscribe(s),te=p.length;p.push(s,Ae),l&&l.push(i,r.index,te,-(te+1))}}}function WE(t,e,n,r){let i=fe(null);try{return cn(6,e,n),n(r)!==!1}catch(s){return zT(t,s),!1}finally{cn(7,e,n),fe(i)}}function KE(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?Nr(t.index,e):e;xg(a);let u=WE(e,n,r,o),l=s.__ngNextListenerFn__;for(;l;)u=WE(e,n,l,o)&&u,l=l.__ngNextListenerFn__;return i&&u===!1&&o.preventDefault(),u}}function Pt(t=1){return Dx(t)}function Jk(t,e){let n=null,r=RN(t);for(let i=0;i<e.length;i++){let s=e[i];if(s==="*"){n=i;continue}if(r===null?hD(t,s,!0):xN(r,s))return i}return n}function j9(t){let e=ae()[jt][Mt];if(!e.projection){let n=t?t.length:1,r=e.projection=IN(n,null),i=r.slice(),s=e.child;for(;s!==null;){let o=t?Jk(s,t):0;o!==null&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function U9(t,e=0,n){let r=ae(),i=Ve(),s=ks(i,yt+t,16,null,n||null);s.projection===null&&(s.projection=e),ug(),(!r[As]||OD())&&(s.flags&32)!==32&&BP(i,r,s)}function Zk(t,e,n){return db(t,"",e,"",n),Zk}function db(t,e,n,r,i){let s=ae(),o=nb(s,e,n,r);if(o!==mn){let a=Ve(),u=ya();wl(a,u,s,t,o,s[Ce],i,!1)}return db}function Xk(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function Xn(t,e=""){let n=ae(),r=Ve(),i=t+yt,s=r.firstCreatePass?ks(r,i,1,e,null):r.data[i],o=e1(r,n,s,e,t);n[i]=o,dl()&&vl(r,n,o,s),Ii(s,!1)}var e1=(t,e,n,r,i)=>(hl(!0),bP(e[Ce],r));function t1(t){return er("",t,""),t1}function er(t,e,n){let r=ae(),i=nb(r,t,e,n);return i!==mn&&vO(r,xr(),i),er}function n1(t,e,n){tb(e)&&(e=e());let r=ae(),i=wi();if(vn(r,i,e)){let s=Ve(),o=ya();wl(s,o,r,t,e,r[Ce],n,!1)}return n1}function B9(t,e){let n=tb(t);return n&&t.set(e),n}function r1(t,e){let n=ae(),r=Ve(),i=_t();return lb(r,n,n[Ce],i,t,e),r1}function i1(t,e,n){let r=Ve();if(r.firstCreatePass){let i=$n(t);Hp(n,r.data,r.blueprint,i,!0),Hp(e,r.data,r.blueprint,i,!1)}}function Hp(t,e,n,r,i){if(t=ft(t),Array.isArray(t))for(let s=0;s<t.length;s++)Hp(t[s],e,n,r,i);else{let s=Ve(),o=ae(),a=_t(),u=Cs(t)?t:ft(t.provide),l=DD(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(Cs(t)||!t.multi){let v=new yi(l,i,H),A=Wf(u,e,i?h:h+m,p);A===-1?(ap(Wu(a,o),s,u),Gf(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),o.push(v)):(n[A]=v,o[A]=v)}else{let v=Wf(u,e,h+m,p),A=Wf(u,e,h,h+m),M=v>=0&&n[v],R=A>=0&&n[A];if(i&&!R||!i&&!M){ap(Wu(a,o),s,u);let F=a1(i?o1:s1,n.length,i,r,l);!i&&R&&(n[A].providerFactory=F),Gf(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(F),o.push(F)}else{let F=hb(n[i?A:v],l,!i&&r);Gf(s,t,v>-1?v:A,F)}!i&&r&&R&&n[A].componentProviders++}}}function Gf(t,e,n,r){let i=Cs(e),s=HN(e);if(i||s){let u=(s?ft(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function hb(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Wf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function s1(t,e,n,r){return qp(this.multi,[])}function o1(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Ns(n,n[re],this.providerFactory.index,r);s=a.slice(0,o),qp(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],qp(i,s);return s}function qp(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function a1(t,e,n,r,i){let s=new yi(t,n,H);return s.multi=[],s.index=e,s.componentProviders=0,hb(s,i,r&&!n),s}function kr(t,e=[]){return n=>{n.providersResolver=(r,i)=>i1(r,i?i(t):t,e)}}var c1=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=ID(!1,r.type),s=i.length>0?Cl([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=V({token:e,providedIn:"environment",factory:()=>new e(U(mt))});let t=e;return t})();function wa(t){_a("NgStandalone"),t.getStandaloneInjector=e=>e.get(c1).getOrCreateStandaloneInjector(t)}function $9(t,e,n,r){return fb(ae(),FD(),t,e,n,r)}function u1(t,e){let n=t[e];return n===mn?void 0:n}function fb(t,e,n,r,i,s){let o=e+n;return vn(t,o,i)?mk(t,o+1,s?r.call(s,i):r(i)):u1(t,o+1)}function H9(t,e){let n=Ve(),r,i=t+yt;n.firstCreatePass?(r=l1(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=fi(r.type,!0)),o,a=Dt(H);try{let u=Gu(!1),l=s();return Gu(u),Xk(n,ae(),i,l),l}finally{Dt(a)}}function l1(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function q9(t,e,n){let r=t+yt,i=ae(),s=ax(i,r);return d1(i,r)?fb(i,FD(),e,s.transform,n,s):s.transform(n)}function d1(t,e){return t[re].data[e].pure}var zn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},pb=new zn("17.3.10"),Nl=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var gb=new $("");function Di(t){return!!t&&typeof t.then=="function"}function mb(t){return!!t&&typeof t.subscribe=="function"}var xl=new $(""),yb=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=k(xl,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(Di(o))r.push(o);else if(mb(o)){let a=new Promise((u,l)=>{o.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Pl=new $("");function h1(){Uw(()=>{throw new B(600,!1)})}function f1(t){return t.isBoundToModule}function p1(t,e,n){try{let r=n();return Di(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var tr=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(rT),this.afterRenderEffectManager=k(kg),this.externalTestViews=new Set,this.beforeRender=new be,this.afterTick=new be,this.componentTypes=[],this.components=[],this.isStable=k(Al).hasPendingTasks.pipe(J(r=>!r)),this._injector=k(mt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Ju;if(!this._injector.get(yb).done){let v=!s&&mD(r),A=!1;throw new B(405,A)}let a;s?a=r:a=this._injector.get(Fs).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=f1(a)?void 0:this._injector.get(Rr),l=i||a.selector,h=a.create(Be.NULL,[],l,u),p=h.location.nativeElement,m=h.injector.get(gb,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),Kf(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new B(101,!1);let i=fe(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,fe(i)}}detectChangesInAttachedViews(r){let i=0,s=this.afterRenderEffectManager;for(;;){if(i===QT)throw new B(103,!1);if(r){let o=i===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:u}of this._views)g1(a,o,u)}if(i++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>zp(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>zp(o))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Kf(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Pl,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Kf(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new B(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Kf(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function g1(t,e,n){!e&&!zp(t)||m1(t,n,e)}function zp(t){return sg(t)}function m1(t,e,n){let r;n?(r=0,t[Q]|=1024):t[Q]&64?r=0:r=1,YT(t,e,r)}var Gp=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Ol=(()=>{let e=class e{compileModuleSync(r){return new xp(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=yD(r),o=TT(s.declarations).reduce((a,u)=>{let l=Ar(u);return l&&a.push(new xs(l)),a},[]);return new Gp(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var y1=(()=>{let e=class e{constructor(){this.zone=k(ge),this.applicationRef=k(tr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function v1(t){return[{provide:ge,useFactory:t},{provide:bs,multi:!0,useFactory:()=>{let e=k(y1,{optional:!0});return()=>e.initialize()}},{provide:bs,multi:!0,useFactory:()=>{let e=k(E1);return()=>{e.initialize()}}},{provide:rT,useFactory:_1}]}function _1(){let t=k(ge),e=k(hn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function I1(t){let e=v1(()=>new ge(w1(t)));return nn([[],e])}function w1(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var E1=(()=>{let e=class e{constructor(){this.subscription=new Pe,this.initialized=!1,this.zone=k(ge),this.pendingTasks=k(Al)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ge.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ge.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function D1(){return typeof $localize<"u"&&$localize.locale||rl}var jg=new $("",{providedIn:"root",factory:()=>k(jg,ie.Optional|ie.SkipSelf)||D1()});var vb=new $("");var Lu=null;function T1(t=[],e){return Be.create({name:e,providers:[{provide:ol,useValue:"platform"},{provide:vb,useValue:new Set([()=>Lu=null])},...t]})}function b1(t=[]){if(Lu)return Lu;let e=T1(t);return Lu=e,h1(),C1(e),e}function C1(t){t.get(mg,null)?.forEach(n=>n())}var Ti=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=A1;let t=e;return t})();function A1(t){return S1(_t(),ae(),(t&16)===16)}function S1(t,e,n){if(ul(t)&&!n){let r=Nr(t.index,e);return new vi(r,r)}else if(t.type&47){let r=e[jt];return new vi(r,e)}return null}function _b(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=b1(r),s=[I1(),...n||[]],a=new el({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=a.get(ge);return u.run(()=>{a.resolveInjectorInitializers();let l=a.get(hn,null),h;u.runOutsideAngular(()=>{h=u.onError.subscribe({next:v=>{l.handleError(v)}})});let p=()=>a.destroy(),m=i.get(vb);return m.add(p),a.onDestroy(()=>{h.unsubscribe(),m.delete(p)}),p1(l,u,()=>{let v=a.get(yb);return v.runInitializers(),v.donePromise.then(()=>{let A=a.get(jg,rl);Qk(A||rl);let M=a.get(tr);return e!==void 0&&M.bootstrap(e),M})})})}catch(e){return Promise.reject(e)}}function bi(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Ib(t){let e=Ar(t);if(!e)return null;let n=new xs(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var bb=null;function rr(){return bb}function Cb(t){bb??=t}var kl=class{};var Ge=new $(""),qg=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:()=>k(R1),providedIn:"platform"});let t=e;return t})(),Ab=new $(""),R1=(()=>{let e=class e extends qg{constructor(){super(),this._doc=k(Ge),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return rr().getBaseHref(this._doc)}onPopState(r){let i=rr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=rr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function zg(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function wb(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function nr(t){return t&&t[0]!=="?"?"?"+t:t}var ir=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:()=>k(Gg),providedIn:"root"});let t=e;return t})(),Sb=new $(""),Gg=(()=>{let e=class e extends ir{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??k(Ge).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return zg(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+nr(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+nr(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+nr(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(U(qg),U(Sb,8))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Rb=(()=>{let e=class e extends ir{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=zg(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+nr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+nr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(U(qg),U(Sb,8))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})(),Ls=(()=>{let e=class e{constructor(r){this._subject=new Ze,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=x1(wb(Eb(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+nr(i))}normalize(r){return e.stripTrailingSlash(N1(this._basePath,Eb(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+nr(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+nr(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=nr,e.joinWithSlash=zg,e.stripTrailingSlash=wb,e.\u0275fac=function(i){return new(i||e)(U(ir))},e.\u0275prov=V({token:e,factory:()=>M1(),providedIn:"root"});let t=e;return t})();function M1(){return new Ls(U(ir))}function N1(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Eb(t){return t.replace(/\/index.html$/,"")}function x1(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Mb(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Ug=/\s+/,Db=[],g6=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=Db,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(Ug):Db}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(Ug):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let s=this.stateMap.get(r);s!==void 0?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(Ug).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(i){return new(i||e)(H(Bt),H(yn))},e.\u0275dir=Re({type:e,selectors:[["","ngClass",""]],inputs:{klass:[Le.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var Wg=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Bg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){Tb("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){Tb("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(H(Ia),H(Pg))},e.\u0275dir=Re({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Bg=class{constructor(){this.$implicit=null,this.ngIf=null}};function Tb(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${pt(e)}'.`)}function P1(t,e){return new B(2100,!1)}var m6=(()=>{let e=class e{transform(r){if(r==null)return null;if(typeof r!="string")throw P1(e,r);return r.toUpperCase()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=fD({name:"uppercase",type:e,pure:!0,standalone:!0});let t=e;return t})();var O1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=tn({type:e}),e.\u0275inj=en({});let t=e;return t})(),Kg="browser",k1="server";function F1(t){return t===Kg}function Qg(t){return t===k1}var Nb=(()=>{let e=class e{};e.\u0275prov=V({token:e,providedIn:"root",factory:()=>F1(k(gn))?new $g(k(Ge),window):new Hg});let t=e;return t})(),$g=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=L1(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function L1(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var Hg=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Fl=class{};var Jg=class{};var Vs=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Zg=class{encodeKey(e){return xb(e)}encodeValue(e){return xb(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function j1(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}var U1=/%(\d[a-f0-9])/gi,B1={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function xb(t){return encodeURIComponent(t).replace(U1,(e,n)=>B1[n]??e)}function Ll(t){return`${t}`}var Lr=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Zg,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=j1(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Ll):[Ll(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Ll(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Ll(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Xg=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function $1(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Pb(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Ob(t){return typeof Blob<"u"&&t instanceof Blob}function kb(t){return typeof FormData<"u"&&t instanceof FormData}function H1(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Ea=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if($1(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Vs,this.context??=new Xg,!this.params)this.params=new Lr,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Pb(this.body)||Ob(this.body)||kb(this.body)||H1(this.body)?this.body:this.body instanceof Lr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||kb(this.body)?null:Ob(this.body)?this.body.type||null:Pb(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Lr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,v)=>m.set(v,e.setHeaders[v]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((m,v)=>m.set(v,e.setParams[v]),h)),new t(n,r,o,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:s})}},Fb=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Fb||{}),em=class{constructor(e,n=Lb.Ok,r="OK"){this.headers=e.headers||new Vs,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var tm=class t extends em{constructor(e={}){super(e),this.type=Fb.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};var Lb=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(Lb||{});function Yg(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var w6=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof Ea)o=r;else{let l;s.headers instanceof Vs?l=s.headers:l=new Vs(s.headers);let h;s.params&&(s.params instanceof Lr?h=s.params:h=new Lr({fromObject:s.params})),o=new Ea(r,i,s.body!==void 0?s.body:null,{headers:l,context:s.context,params:h,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=G(o).pipe(jn(l=>this.handler.handle(l)));if(r instanceof Ea||s.observe==="events")return a;let u=a.pipe(ht(l=>l instanceof tm));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return u.pipe(J(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return u.pipe(J(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return u.pipe(J(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return u.pipe(J(l=>l.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new Lr().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,Yg(s,i))}post(r,i,s={}){return this.request("POST",r,Yg(s,i))}put(r,i,s={}){return this.request("PUT",r,Yg(s,i))}};e.\u0275fac=function(i){return new(i||e)(U(Jg))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})();var im=class extends kl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},sm=class t extends im{static makeCurrent(){Cb(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=q1();return n==null?null:z1(n)}resetBaseElement(){Da=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Mb(document.cookie,e)}},Da=null;function q1(){return Da=Da||document.querySelector("base"),Da?Da.getAttribute("href"):null}function z1(t){return new URL(t,document.baseURI).pathname}var G1=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})(),om=new $(""),Bb=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new B(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(U(om),U(ge))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})(),Vl=class{constructor(e){this._doc=e}},nm="ng-app-id",$b=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Qg(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${nm}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(nm),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(nm,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(U(Ge),U(gg),U(yg,8),U(gn))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})(),rm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},cm=/%COMP%/g,Hb="%COMP%",W1=`_nghost-${Hb}`,K1=`_ngcontent-${Hb}`,Q1=!0,Y1=new $("",{providedIn:"root",factory:()=>Q1});function J1(t){return K1.replace(cm,t)}function Z1(t){return W1.replace(cm,t)}function qb(t,e){return e.map(n=>n.replace(cm,t))}var Vb=(()=>{let e=class e{constructor(r,i,s,o,a,u,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=Qg(u),this.defaultRenderer=new Ta(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===ln.ShadowDom&&(i=he(O({},i),{encapsulation:ln.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof jl?s.applyToHost(r):s instanceof ba&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,u=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case ln.Emulated:o=new jl(l,h,i,this.appId,p,a,u,m);break;case ln.ShadowDom:return new am(l,h,r,i,a,u,this.nonce,m);default:o=new ba(l,h,i,p,a,u,m);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(U(Bb),U($b),U(gg),U(Y1),U(Ge),U(gn),U(ge),U(yg))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})(),Ta=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(rm[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(jb(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(jb(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new B(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=rm[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=rm[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(qn.DashCase|qn.Important)?e.style.setProperty(n,r,i&qn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&qn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=rr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function jb(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var am=class extends Ta{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=qb(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ba=class extends Ta{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?qb(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},jl=class extends ba{constructor(e,n,r,i,s,o,a,u){let l=i+"-"+r.id;super(e,n,r,s,o,a,u,l),this.contentAttr=J1(l),this.hostAttr=Z1(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},X1=(()=>{let e=class e extends Vl{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(U(Ge))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})(),Ub=["alt","control","meta","shift"],eF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},tF={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},nF=(()=>{let e=class e extends Vl{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>rr().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),Ub.forEach(h=>{let p=i.indexOf(h);p>-1&&(i.splice(p,1),a+=h+".")}),a+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=eF[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),Ub.forEach(a=>{if(a!==s){let u=tF[a];u(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(U(Ge))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})();function B6(t,e){return _b(O({rootComponent:t},rF(e)))}function rF(t){return{appProviders:[...cF,...t?.providers??[]],platformProviders:aF}}function iF(){sm.makeCurrent()}function sF(){return new hn}function oF(){return uT(document),document}var aF=[{provide:gn,useValue:Kg},{provide:mg,useValue:iF,multi:!0},{provide:Ge,useFactory:oF,deps:[]}];var cF=[{provide:ol,useValue:"root"},{provide:hn,useFactory:sF,deps:[]},{provide:om,useClass:X1,multi:!0,deps:[Ge,ge,gn]},{provide:om,useClass:nF,multi:!0,deps:[Ge]},Vb,$b,Bb,{provide:la,useExisting:Vb},{provide:Fl,useClass:G1,deps:[]},[]];var zb=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(U(Ge))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var um=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:function(i){let s=null;return i?s=new(i||e):s=U(uF),s},providedIn:"root"});let t=e;return t})(),uF=(()=>{let e=class e extends um{constructor(r){super(),this._doc=r}sanitize(r,i){if(i==null)return null;switch(r){case Nt.NONE:return i;case Nt.HTML:return Qn(i,"HTML")?$t(i):_g(this._doc,String(i)).toString();case Nt.STYLE:return Qn(i,"Style")?$t(i):i;case Nt.SCRIPT:if(Qn(i,"Script"))return $t(i);throw new B(5200,!1);case Nt.URL:return Qn(i,"URL")?$t(i):ml(String(i));case Nt.RESOURCE_URL:if(Qn(i,"ResourceURL"))return $t(i);throw new B(5201,!1);default:throw new B(5202,!1)}}bypassSecurityTrustHtml(r){return fT(r)}bypassSecurityTrustStyle(r){return pT(r)}bypassSecurityTrustScript(r){return gT(r)}bypassSecurityTrustUrl(r){return mT(r)}bypassSecurityTrustResourceUrl(r){return yT(r)}};e.\u0275fac=function(i){return new(i||e)(U(Ge))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ne="primary",Ba=Symbol("RouteTitle"),pm=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Hs(t){return new pm(t)}function lF(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function dF(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!_n(t[n],e[n]))return!1;return!0}function _n(t,e){let n=t?gm(t):void 0,r=e?gm(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!tC(t[i],e[i]))return!1;return!0}function gm(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function tC(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function nC(t){return t.length>0?t[t.length-1]:null}function $r(t){return Sf(t)?t:Di(t)?Te(Promise.resolve(t)):G(t)}var hF={exact:iC,subset:sC},rC={exact:fF,subset:pF,ignored:()=>!0};function Wb(t,e,n){return hF[n.paths](t.root,e.root,n.matrixParams)&&rC[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function fF(t,e){return _n(t,e)}function iC(t,e,n){if(!Ai(t.segments,e.segments)||!$l(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!iC(t.children[r],e.children[r],n))return!1;return!0}function pF(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>tC(t[n],e[n]))}function sC(t,e,n){return oC(t,e,e.segments,n)}function oC(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Ai(i,n)||e.hasChildren()||!$l(i,n,r))}else if(t.segments.length===n.length){if(!Ai(t.segments,n)||!$l(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!sC(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Ai(t.segments,i)||!$l(t.segments,i,r)||!t.children[ne]?!1:oC(t.children[ne],e,s,r)}}function $l(t,e,n){return e.every((r,i)=>rC[n](t[i].parameters,r.parameters))}var Vr=class{constructor(e=new _e([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Hs(this.queryParams),this._queryParamMap}toString(){return yF.serialize(this)}},_e=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Hl(this)}},Ci=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Hs(this.parameters),this._parameterMap}toString(){return cC(this)}};function gF(t,e){return Ai(t,e)&&t.every((n,r)=>_n(n.parameters,e[r].parameters))}function Ai(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function mF(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ne&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ne&&(n=n.concat(e(i,r)))}),n}var $a=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:()=>new xa,providedIn:"root"});let t=e;return t})(),xa=class{parse(e){let n=new ym(e);return new Vr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ca(e.root,!0)}`,r=IF(e.queryParams),i=typeof e.fragment=="string"?`#${vF(e.fragment)}`:"";return`${n}${r}${i}`}},yF=new xa;function Hl(t){return t.segments.map(e=>cC(e)).join("/")}function Ca(t,e){if(!t.hasChildren())return Hl(t);if(e){let n=t.children[ne]?Ca(t.children[ne],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ne&&r.push(`${i}:${Ca(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=mF(t,(r,i)=>i===ne?[Ca(t.children[ne],!1)]:[`${i}:${Ca(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ne]!=null?`${Hl(t)}/${n[0]}`:`${Hl(t)}/(${n.join("//")})`}}function aC(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ul(t){return aC(t).replace(/%3B/gi,";")}function vF(t){return encodeURI(t)}function mm(t){return aC(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ql(t){return decodeURIComponent(t)}function Kb(t){return ql(t.replace(/\+/g,"%20"))}function cC(t){return`${mm(t.path)}${_F(t.parameters)}`}function _F(t){return Object.entries(t).map(([e,n])=>`;${mm(e)}=${mm(n)}`).join("")}function IF(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Ul(n)}=${Ul(i)}`).join("&"):`${Ul(n)}=${Ul(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var wF=/^[^\/()?;#]+/;function lm(t){let e=t.match(wF);return e?e[0]:""}var EF=/^[^\/()?;=#]+/;function DF(t){let e=t.match(EF);return e?e[0]:""}var TF=/^[^=?&#]+/;function bF(t){let e=t.match(TF);return e?e[0]:""}var CF=/^[^&#]+/;function AF(t){let e=t.match(CF);return e?e[0]:""}var ym=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new _e([],{}):new _e([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ne]=new _e(e,n)),r}parseSegment(){let e=lm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new B(4009,!1);return this.capture(e),new Ci(ql(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=DF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=lm(this.remaining);i&&(r=i,this.capture(r))}e[ql(n)]=ql(r)}parseQueryParam(e){let n=bF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=AF(this.remaining);o&&(r=o,this.capture(r))}let i=Kb(n),s=Kb(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=lm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new B(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ne);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[ne]:new _e([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new B(4011,!1)}};function uC(t){return t.segments.length>0?new _e([],{[ne]:t}):t}function lC(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=lC(i);if(r===ne&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new _e(t.segments,e);return SF(n)}function SF(t){if(t.numberOfChildren===1&&t.children[ne]){let e=t.children[ne];return new _e(t.segments.concat(e.segments),e.children)}return t}function qs(t){return t instanceof Vr}function RF(t,e,n=null,r=null){let i=dC(t);return hC(i,e,n,r)}function dC(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let a=new _e(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=uC(r);return e??i}function hC(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return dm(i,i,i,n,r);let s=MF(e);if(s.toRoot())return dm(i,i,new _e([],{}),n,r);let o=NF(s,i,t),a=o.processChildren?Ra(o.segmentGroup,o.index,s.commands):pC(o.segmentGroup,o.index,s.commands);return dm(i,o.segmentGroup,a,n,r)}function zl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Pa(t){return typeof t=="object"&&t!=null&&t.outlets}function dm(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let o;t===e?o=n:o=fC(t,e,n);let a=uC(lC(o));return new Vr(a,s,i)}function fC(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=fC(s,e,n)}),new _e(t.segments,r)}var Gl=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&zl(r[0]))throw new B(4003,!1);let i=r.find(Pa);if(i&&i!==nC(r))throw new B(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function MF(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Gl(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Gl(n,e,r)}var Bs=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function NF(t,e,n){if(t.isAbsolute)return new Bs(e,!0,0);if(!n)return new Bs(e,!1,NaN);if(n.parent===null)return new Bs(n,!0,0);let r=zl(t.commands[0])?0:1,i=n.segments.length-1+r;return xF(n,i,t.numberOfDoubleDots)}function xF(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new B(4005,!1);i=r.segments.length}return new Bs(r,!1,i-s)}function PF(t){return Pa(t[0])?t[0].outlets:{[ne]:t}}function pC(t,e,n){if(t??=new _e([],{}),t.segments.length===0&&t.hasChildren())return Ra(t,e,n);let r=OF(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new _e(t.segments.slice(0,r.pathIndex),{});return s.children[ne]=new _e(t.segments.slice(r.pathIndex),t.children),Ra(s,0,i)}else return r.match&&i.length===0?new _e(t.segments,{}):r.match&&!t.hasChildren()?vm(t,e,n):r.match?Ra(t,0,i):vm(t,e,n)}function Ra(t,e,n){if(n.length===0)return new _e(t.segments,{});{let r=PF(n),i={};if(Object.keys(r).some(s=>s!==ne)&&t.children[ne]&&t.numberOfChildren===1&&t.children[ne].segments.length===0){let s=Ra(t.children[ne],e,n);return new _e(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=pC(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new _e(t.segments,i)}}function OF(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Pa(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!Yb(u,l,o))return s;r+=2}else{if(!Yb(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function vm(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Pa(s)){let u=kF(s.outlets);return new _e(r,u)}if(i===0&&zl(n[0])){let u=t.segments[e];r.push(new Ci(u.path,Qb(n[0]))),i++;continue}let o=Pa(s)?s.outlets[ne]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&zl(a)?(r.push(new Ci(o,Qb(a))),i+=2):(r.push(new Ci(o,{})),i++)}return new _e(r,{})}function kF(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=vm(new _e([],{}),0,r))}),e}function Qb(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Yb(t,e,n){return t==n.path&&_n(e,n.parameters)}var Ma="imperative",We=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(We||{}),qt=class{constructor(e,n){this.id=e,this.url=n}},zs=class extends qt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=We.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},In=class extends qt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=We.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},kt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(kt||{}),Wl=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Wl||{}),jr=class extends qt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=We.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ur=class extends qt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=We.NavigationSkipped}},Oa=class extends qt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=We.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Kl=class extends qt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=We.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_m=class extends qt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=We.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Im=class extends qt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=We.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},wm=class extends qt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=We.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Em=class extends qt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=We.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dm=class{constructor(e){this.route=e,this.type=We.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Tm=class{constructor(e){this.route=e,this.type=We.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},bm=class{constructor(e){this.snapshot=e,this.type=We.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cm=class{constructor(e){this.snapshot=e,this.type=We.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Am=class{constructor(e){this.snapshot=e,this.type=We.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Sm=class{constructor(e){this.snapshot=e,this.type=We.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ql=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=We.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},ka=class{},Fa=class{constructor(e){this.url=e}};var Rm=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ha,this.attachRef=null}},Ha=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Rm,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Yl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Mm(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Mm(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Nm(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Nm(e,this._root).map(n=>n.value)}};function Mm(t,e){if(t===e.value)return e;for(let n of e.children){let r=Mm(t,n);if(r)return r}return null}function Nm(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Nm(t,n);if(r.length)return r.unshift(e),r}return[]}var Ot=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Us(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Jl=class extends Yl{constructor(e,n){super(e),this.snapshot=n,Bm(this,e)}toString(){return this.snapshot.toString()}};function gC(t){let e=FF(t),n=new Je([new Ci("",{})]),r=new Je({}),i=new Je({}),s=new Je({}),o=new Je(""),a=new Br(n,r,s,o,i,ne,t,e.root);return a.snapshot=e.root,new Jl(new Ot(a,[]),e)}function FF(t){let e={},n={},r={},i="",s=new La([],e,r,i,n,ne,t,null,{});return new Zl("",new Ot(s,[]))}var Br=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(J(l=>l[Ba]))??G(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(J(e=>Hs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(J(e=>Hs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Um(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:O(O({},e.params),t.params),data:O(O({},e.data),t.data),resolve:O(O(O(O({},t.data),e.data),i?.data),t._resolvedData)}:r={params:O({},t.params),data:O({},t.data),resolve:O(O({},t.data),t._resolvedData??{})},i&&yC(i)&&(r.resolve[Ba]=i.title),r}var La=class{get title(){return this.data?.[Ba]}constructor(e,n,r,i,s,o,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Hs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Hs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Zl=class extends Yl{constructor(e,n){super(n),this.url=e,Bm(this,n)}toString(){return mC(this._root)}};function Bm(t,e){e.value._routerState=t,e.children.forEach(n=>Bm(t,n))}function mC(t){let e=t.children.length>0?` { ${t.children.map(mC).join(", ")} } `:"";return`${t.value}${e}`}function hm(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,_n(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),_n(e.params,n.params)||t.paramsSubject.next(n.params),dF(e.url,n.url)||t.urlSubject.next(n.url),_n(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function xm(t,e){let n=_n(t.params,e.params)&&gF(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||xm(t.parent,e.parent))}function yC(t){return typeof t.title=="string"||t.title===null}var LF=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ne,this.activateEvents=new Ze,this.deactivateEvents=new Ze,this.attachEvents=new Ze,this.detachEvents=new Ze,this.parentContexts=k(Ha),this.location=k(Ia),this.changeDetector=k(Ti),this.environmentInjector=k(mt),this.inputBinder=k(nd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new B(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new B(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new B(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new B(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new Pm(r,u,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Re({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Kn]});let t=e;return t})(),Pm=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Br?this.route:e===Ha?this.childContexts:this.parent.get(e,n)}},nd=new $(""),Jb=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=Zo([i.queryParams,i.params,i.data]).pipe(Rt(([o,a,u],l)=>(u=O(O(O({},o),a),u),l===0?G(u):Promise.resolve(u)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=Ib(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:u}of a.inputs)r.activatedComponentRef.setInput(u,o[u])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})();function VF(t,e,n){let r=Va(t,e._root,n?n._root:void 0);return new Jl(r,e)}function Va(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=jF(t,e,n);return new Ot(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Va(t,a)),o}}let r=UF(e.value),i=e.children.map(s=>Va(t,s));return new Ot(r,i)}}function jF(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Va(t,r,i);return Va(t,r)})}function UF(t){return new Br(new Je(t.url),new Je(t.params),new Je(t.queryParams),new Je(t.fragment),new Je(t.data),t.outlet,t.component,t)}var vC="ngNavigationCancelingError";function _C(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=qs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=IC(!1,kt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function IC(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[vC]=!0,n.cancellationCode=e,n}function BF(t){return wC(t)&&qs(t.url)}function wC(t){return!!t&&t[vC]}var $F=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ma({type:e,selectors:[["ng-component"]],standalone:!0,features:[wa],decls:1,vars:0,template:function(i,s){i&1&&Or(0,"router-outlet")},dependencies:[LF],encapsulation:2});let t=e;return t})();function HF(t,e){return t.providers&&!t._injector&&(t._injector=Cl(t.providers,e,`Route: ${t.path}`)),t._injector??e}function $m(t){let e=t.children&&t.children.map($m),n=e?he(O({},t),{children:e}):O({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ne&&(n.component=$F),n}function wn(t){return t.outlet||ne}function qF(t,e){let n=t.filter(r=>wn(r)===e);return n.push(...t.filter(r=>wn(r)!==e)),n}function qa(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var zF=(t,e,n,r)=>J(i=>(new Om(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Om=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),hm(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Us(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Us(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Us(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Us(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Sm(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Cm(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(hm(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),hm(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=qa(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},Xl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},$s=class{constructor(e,n){this.component=e,this.route=n}};function GF(t,e,n){let r=t._root,i=e?e._root:null;return Aa(r,i,n,[r.value])}function WF(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ws(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!ZE(t)?t:e.get(t):r}function Aa(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Us(e);return t.children.forEach(o=>{KF(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Na(a,n.getContext(o),i)),i}function KF(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=QF(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Xl(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Aa(t,e,a?a.children:null,r,i):Aa(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new $s(a.outlet.component,o))}else o&&Na(e,a,i),i.canActivateChecks.push(new Xl(r)),s.component?Aa(t,null,a?a.children:null,r,i):Aa(t,null,n,r,i);return i}function QF(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Ai(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ai(t.url,e.url)||!_n(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xm(t,e)||!_n(t.queryParams,e.queryParams);case"paramsChange":default:return!xm(t,e)}}function Na(t,e,n){let r=Us(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Na(o,e.children.getContext(s),n):Na(o,null,n):Na(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new $s(e.outlet.component,i)):n.canDeactivateChecks.push(new $s(null,i)):n.canDeactivateChecks.push(new $s(null,i))}function za(t){return typeof t=="function"}function YF(t){return typeof t=="boolean"}function JF(t){return t&&za(t.canLoad)}function ZF(t){return t&&za(t.canActivate)}function XF(t){return t&&za(t.canActivateChild)}function eL(t){return t&&za(t.canDeactivate)}function tL(t){return t&&za(t.canMatch)}function EC(t){return t instanceof Vn||t?.name==="EmptyError"}var Bl=Symbol("INITIAL_VALUE");function Gs(){return Rt(t=>Zo(t.map(e=>e.pipe(Un(1),Cu(Bl)))).pipe(J(e=>{for(let n of e)if(n!==!0){if(n===Bl)return Bl;if(n===!1||n instanceof Vr)return n}return!0}),ht(e=>e!==Bl),Un(1)))}function nL(t,e){return ke(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?G(he(O({},n),{guardsResult:!0})):rL(o,r,i,t).pipe(ke(a=>a&&YF(a)?iL(r,s,t,e):G(a)),J(a=>he(O({},n),{guardsResult:a})))})}function rL(t,e,n,r){return Te(t).pipe(ke(i=>uL(i.component,i.route,n,e,r)),an(i=>i!==!0,!0))}function iL(t,e,n,r){return Te(e).pipe(jn(i=>gs(oL(i.route.parent,r),sL(i.route,r),cL(t,i.path,n),aL(t,i.route,n))),an(i=>i!==!0,!0))}function sL(t,e){return t!==null&&e&&e(new Am(t)),G(!0)}function oL(t,e){return t!==null&&e&&e(new bm(t)),G(!0)}function aL(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return G(!0);let i=r.map(s=>Du(()=>{let o=qa(e)??n,a=Ws(s,o),u=ZF(a)?a.canActivate(e,t):Gn(o,()=>a(e,t));return $r(u).pipe(an())}));return G(i).pipe(Gs())}function cL(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>WF(o)).filter(o=>o!==null).map(o=>Du(()=>{let a=o.guards.map(u=>{let l=qa(o.node)??n,h=Ws(u,l),p=XF(h)?h.canActivateChild(r,t):Gn(l,()=>h(r,t));return $r(p).pipe(an())});return G(a).pipe(Gs())}));return G(s).pipe(Gs())}function uL(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return G(!0);let o=s.map(a=>{let u=qa(e)??i,l=Ws(a,u),h=eL(l)?l.canDeactivate(t,e,n,r):Gn(u,()=>l(t,e,n,r));return $r(h).pipe(an())});return G(o).pipe(Gs())}function lL(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return G(!0);let s=i.map(o=>{let a=Ws(o,t),u=JF(a)?a.canLoad(e,n):Gn(t,()=>a(e,n));return $r(u)});return G(s).pipe(Gs(),DC(r))}function DC(t){return iu(Fe(e=>{if(qs(e))throw _C(t,e)}),J(e=>e===!0))}function dL(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return G(!0);let s=i.map(o=>{let a=Ws(o,t),u=tL(a)?a.canMatch(e,n):Gn(t,()=>a(e,n));return $r(u)});return G(s).pipe(Gs(),DC(r))}var ja=class{constructor(e){this.segmentGroup=e||null}},ed=class extends Error{constructor(e){super(),this.urlTree=e}};function js(t){return fs(new ja(t))}function hL(t){return fs(new B(4e3,!1))}function fL(t){return fs(IC(!1,kt.GuardRejected))}var km=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return G(r);if(i.numberOfChildren>1||!i.children[ne])return hL(e.redirectTo);i=i.children[ne]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new ed(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Vr(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new _e(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new B(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Fm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function pL(t,e,n,r,i){let s=Hm(t,e,n);return s.matched?(r=HF(e,r),dL(r,e,n,i).pipe(J(o=>o===!0?s:O({},Fm)))):G(s)}function Hm(t,e,n){if(e.path==="**")return gL(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?O({},Fm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||lF)(n,t,e);if(!i)return O({},Fm);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?O(O({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function gL(t){return{matched:!0,parameters:t.length>0?nC(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Zb(t,e,n,r){return n.length>0&&vL(t,n,r)?{segmentGroup:new _e(e,yL(r,new _e(n,t.children))),slicedSegments:[]}:n.length===0&&_L(t,n,r)?{segmentGroup:new _e(t.segments,mL(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new _e(t.segments,t.children),slicedSegments:n}}function mL(t,e,n,r){let i={};for(let s of n)if(rd(t,e,s)&&!r[wn(s)]){let o=new _e([],{});i[wn(s)]=o}return O(O({},r),i)}function yL(t,e){let n={};n[ne]=e;for(let r of t)if(r.path===""&&wn(r)!==ne){let i=new _e([],{});n[wn(r)]=i}return n}function vL(t,e,n){return n.some(r=>rd(t,e,r)&&wn(r)!==ne)}function _L(t,e,n){return n.some(r=>rd(t,e,r))}function rd(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function IL(t,e,n,r){return wn(t)!==r&&(r===ne||!rd(e,n,t))?!1:Hm(e,t,n).matched}function wL(t,e,n){return e.length===0&&!t.children[n]}var Lm=class{};function EL(t,e,n,r,i,s,o="emptyOnly"){return new Vm(t,e,n,r,i,o,s).recognize()}var DL=31,Vm=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new km(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new B(4002,`'${e.segmentGroup}'`)}recognize(){let e=Zb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(J(n=>{let r=new La([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,{},ne,this.rootComponentType,null,{}),i=new Ot(r,n),s=new Zl("",i),o=RF(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,ne).pipe(Dr(r=>{if(r instanceof ed)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ja?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Um(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(J(s=>s instanceof Ot?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return Te(i).pipe(jn(s=>{let o=r.children[s],a=qF(n,s);return this.processSegmentGroup(e,a,o,s)}),bu((s,o)=>(s.push(...o),s)),Tr(null),Nf(),ke(s=>{if(s===null)return js(r);let o=TC(s);return TL(o),G(o)}))}processSegment(e,n,r,i,s,o){return Te(n).pipe(jn(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Dr(u=>{if(u instanceof ja)return G(null);throw u}))),an(a=>!!a),Dr(a=>{if(EC(a))return wL(r,i,s)?G(new Lm):js(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return IL(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):js(i):js(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:u,positionalParamSegments:l,remainingSegments:h}=Hm(n,i,s);if(!a)return js(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>DL&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,p).pipe(ke(m=>this.processSegment(e,r,n,m.concat(h),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=pL(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(Rt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Rt(({routes:u})=>{let l=r._loadedInjector??e,{consumedSegments:h,remainingSegments:p,parameters:m}=a,v=new La(h,m,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,CL(r),wn(r),r.component??r._loadedComponent??null,r,AL(r)),{segmentGroup:A,slicedSegments:M}=Zb(n,h,p,u);if(M.length===0&&A.hasChildren())return this.processChildren(l,u,A).pipe(J(F=>F===null?null:new Ot(v,F)));if(u.length===0&&M.length===0)return G(new Ot(v,[]));let R=wn(r)===s;return this.processSegment(l,u,A,M,R?ne:s,!0).pipe(J(F=>new Ot(v,F instanceof Ot?[F]:[])))}))):js(n)))}getChildConfig(e,n,r){return n.children?G({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?G({routes:n._loadedRoutes,injector:n._loadedInjector}):lL(e,n,r,this.urlSerializer).pipe(ke(i=>i?this.configLoader.loadChildren(e,n).pipe(Fe(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):fL(n))):G({routes:[],injector:e})}};function TL(t){t.sort((e,n)=>e.value.outlet===ne?-1:n.value.outlet===ne?1:e.value.outlet.localeCompare(n.value.outlet))}function bL(t){let e=t.value.routeConfig;return e&&e.path===""}function TC(t){let e=[],n=new Set;for(let r of t){if(!bL(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=TC(r.children);e.push(new Ot(r.value,i))}return e.filter(r=>!n.has(r))}function CL(t){return t.data||{}}function AL(t){return t.resolve||{}}function SL(t,e,n,r,i,s){return ke(o=>EL(t,e,n,r,o.extractedUrl,i,s).pipe(J(({state:a,tree:u})=>he(O({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function RL(t,e){return ke(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return G(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of bC(u))o.add(l);let a=0;return Te(o).pipe(jn(u=>s.has(u)?ML(u,r,t,e):(u.data=Um(u,u.parent,t).resolve,G(void 0))),Fe(()=>a++),ys(1),ke(u=>a===o.size?G(n):St))})}function bC(t){let e=t.children.map(n=>bC(n)).flat();return[t,...e]}function ML(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!yC(i)&&(s[Ba]=i.title),NL(s,t,e,r).pipe(J(o=>(t._resolvedData=o,t.data=Um(t,t.parent,n).resolve,null)))}function NL(t,e,n,r){let i=gm(t);if(i.length===0)return G({});let s={};return Te(i).pipe(ke(o=>xL(t[o],e,n,r).pipe(an(),Fe(a=>{s[o]=a}))),ys(1),Mf(s),Dr(o=>EC(o)?St:fs(o)))}function xL(t,e,n,r){let i=qa(e)??r,s=Ws(t,i),o=s.resolve?s.resolve(e,n):Gn(i,()=>s(e,n));return $r(o)}function fm(t){return Rt(e=>{let n=t(e);return n?Te(n).pipe(J(()=>e)):G(e)})}var CC=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===ne);return i}getResolvedTitleForRoute(r){return r.data[Ba]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:()=>k(PL),providedIn:"root"});let t=e;return t})(),PL=(()=>{let e=class e extends CC{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(U(zb))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ga=new $("",{providedIn:"root",factory:()=>({})}),Ua=new $(""),qm=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(Ol)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return G(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=$r(r.loadComponent()).pipe(J(AC),Fe(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),ms(()=>{this.componentLoaders.delete(r)})),s=new us(i,()=>new be).pipe(cs());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return G({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=OL(i,this.compiler,r,this.onLoadEndListener).pipe(ms(()=>{this.childrenLoaders.delete(i)})),a=new us(o,()=>new be).pipe(cs());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function OL(t,e,n,r){return $r(t.loadChildren()).pipe(J(AC),ke(i=>i instanceof da||Array.isArray(i)?G(i):Te(e.compileModuleAsync(i))),J(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Ua,[],{optional:!0,self:!0}).flat()),{routes:o.map($m),injector:s}}))}function kL(t){return t&&typeof t=="object"&&"default"in t}function AC(t){return kL(t)?t.default:t}var zm=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:()=>k(FL),providedIn:"root"});let t=e;return t})(),FL=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),SC=new $(""),RC=new $("");function LL(t,e,n){let r=t.get(RC),i=t.get(Ge);return t.get(ge).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),VL(t))),{onViewTransitionCreated:u}=r;return u&&Gn(t,()=>u({transition:a,from:e,to:n})),o})}function VL(t){return new Promise(e=>{bl(e,{injector:t})})}var Gm=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new be,this.transitionAbortSubject=new be,this.configLoader=k(qm),this.environmentInjector=k(mt),this.urlSerializer=k($a),this.rootContexts=k(Ha),this.location=k(Ls),this.inputBindingEnabled=k(nd,{optional:!0})!==null,this.titleStrategy=k(CC),this.options=k(Ga,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(zm),this.createViewTransition=k(SC,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>G(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Dm(s)),i=s=>this.events.next(new Tm(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(he(O(O({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Je({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ma,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ht(o=>o.id!==0),J(o=>he(O({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Rt(o=>{let a=!1,u=!1;return G(o).pipe(Rt(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",kt.SupersededByNewNavigation),St;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?he(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!h&&p!=="reload"){let m="";return this.events.next(new Ur(l.id,this.urlSerializer.serialize(l.rawUrl),m,Wl.IgnoredSameUrlNavigation)),l.resolve(null),St}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return G(l).pipe(Rt(m=>{let v=this.transitions?.getValue();return this.events.next(new zs(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),v!==this.transitions?.getValue()?St:Promise.resolve(m)}),SL(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Fe(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=he(O({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let v=new Kl(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:v,source:A,restoredState:M,extras:R}=l,F=new zs(m,this.urlSerializer.serialize(v),A,M);this.events.next(F);let Y=gC(this.rootComponentType).snapshot;return this.currentTransition=o=he(O({},l),{targetSnapshot:Y,urlAfterRedirects:v,extras:he(O({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=v,G(o)}else{let m="";return this.events.next(new Ur(l.id,this.urlSerializer.serialize(l.extractedUrl),m,Wl.IgnoredByUrlHandlingStrategy)),l.resolve(null),St}}),Fe(l=>{let h=new _m(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),J(l=>(this.currentTransition=o=he(O({},l),{guards:GF(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),nL(this.environmentInjector,l=>this.events.next(l)),Fe(l=>{if(o.guardsResult=l.guardsResult,qs(l.guardsResult))throw _C(this.urlSerializer,l.guardsResult);let h=new Im(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),ht(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",kt.GuardRejected),!1)),fm(l=>{if(l.guards.canActivateChecks.length)return G(l).pipe(Fe(h=>{let p=new wm(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),Rt(h=>{let p=!1;return G(h).pipe(RL(this.paramsInheritanceStrategy,this.environmentInjector),Fe({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",kt.NoDataFromResolver)}}))}),Fe(h=>{let p=new Em(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),fm(l=>{let h=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(Fe(v=>{p.component=v}),J(()=>{})));for(let v of p.children)m.push(...h(v));return m};return Zo(h(l.targetSnapshot.root)).pipe(Tr(null),Un(1))}),fm(()=>this.afterPreactivation()),Rt(()=>{let{currentSnapshot:l,targetSnapshot:h}=o,p=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return p?Te(p).pipe(J(()=>o)):G(o)}),J(l=>{let h=VF(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=he(O({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,o}),Fe(()=>{this.events.next(new ka)}),zF(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Un(1),Fe({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new In(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),xf(this.transitionAbortSubject.pipe(Fe(l=>{throw l}))),ms(()=>{!a&&!u&&this.cancelNavigationTransition(o,"",kt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Dr(l=>{if(u=!0,wC(l))this.events.next(new jr(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),BF(l)?this.events.next(new Fa(l.url)):o.resolve(!1);else{this.events.next(new Oa(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(l))}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return St}))}))}cancelNavigationTransition(r,i,s){let o=new jr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function jL(t){return t!==Ma}var UL=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:()=>k(BL),providedIn:"root"});let t=e;return t})(),jm=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},BL=(()=>{let e=class e extends jm{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Pr(e)))(s||e)}})(),e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),MC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:()=>k($L),providedIn:"root"});let t=e;return t})(),$L=(()=>{let e=class e extends MC{constructor(){super(...arguments),this.location=k(Ls),this.urlSerializer=k($a),this.options=k(Ga,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(zm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Vr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=gC(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof zs)this.stateMemento=this.createStateMemento();else if(r instanceof Ur)this.rawUrlTree=i.initialUrl;else if(r instanceof Kl){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof ka?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof jr&&(r.code===kt.GuardRejected||r.code===kt.NoDataFromResolver)?this.restoreHistory(i):r instanceof Oa?this.restoreHistory(i,!0):r instanceof In&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=O(O({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=O(O({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Pr(e)))(s||e)}})(),e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Sa=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Sa||{});function NC(t,e){t.events.pipe(ht(n=>n instanceof In||n instanceof jr||n instanceof Oa||n instanceof Ur),J(n=>n instanceof In||n instanceof Ur?Sa.COMPLETE:(n instanceof jr?n.code===kt.Redirect||n.code===kt.SupersededByNewNavigation:!1)?Sa.REDIRECTING:Sa.FAILED),ht(n=>n!==Sa.REDIRECTING),Un(1)).subscribe(()=>{e()})}function HL(t){throw t}var qL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},zL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},sr=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=k(Nl),this.stateManager=k(MC),this.options=k(Ga,{optional:!0})||{},this.pendingTasks=k(Al),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(Gm),this.urlSerializer=k($a),this.location=k(Ls),this.urlHandlingStrategy=k(zm),this._events=new be,this.errorHandler=this.options.errorHandler||HL,this.navigated=!1,this.routeReuseStrategy=k(UL),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k(Ua,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(nd,{optional:!0}),this.eventsSubscription=new Pe,this.isNgZoneEnabled=k(ge)instanceof ge&&ge.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof jr&&i.code!==kt.Redirect&&i.code!==kt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof In)this.navigated=!0;else if(i instanceof Fa){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),u={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||jL(s.source)};this.scheduleNavigation(a,Ma,null,u,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}WL(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ma,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let l=O({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map($m),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a,p=null;switch(u){case"merge":p=O(O({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let v=s?s.snapshot:this.routerState.snapshot.root;m=dC(v)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),m=this.currentUrlTree.root}return hC(m,r,p,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=qs(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Ma,null,i)}navigate(r,i={skipLocationChange:!1}){return GL(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=O({},qL):i===!1?s=O({},zL):s=i,qs(r))return Wb(this.currentUrlTree,r,s);let o=this.parseUrl(r);return Wb(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let u,l,h;a?(u=a.resolve,l=a.reject,h=a.promise):h=new Promise((m,v)=>{u=m,l=v});let p=this.pendingTasks.add();return NC(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function GL(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new B(4008,!1)}function WL(t){return!(t instanceof ka)&&!(t instanceof Fa)}var c5=(()=>{let e=class e{constructor(r,i,s,o,a,u){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new be,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(h=>{h instanceof In&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:DT(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(H(sr),H(Br),fg("tabindex"),H(yn),H(Bt),H(ir))},e.\u0275dir=Re({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&bt("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Jn("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Le.HasDecoratorInputTransform,"preserveFragment","preserveFragment",bi],skipLocationChange:[Le.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",bi],replaceUrl:[Le.HasDecoratorInputTransform,"replaceUrl","replaceUrl",bi],routerLink:"routerLink"},standalone:!0,features:[Fg,Kn]});let t=e;return t})();var td=class{};var KL=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(ht(r=>r instanceof In),jn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Cl(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,u=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(u,o.children??o._loadedRoutes))}return Te(s).pipe(ps())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=G(null);let o=s.pipe(ke(a=>a===null?G(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return Te([o,a]).pipe(ps())}else return o})}};e.\u0275fac=function(i){return new(i||e)(U(sr),U(Ol),U(mt),U(td),U(qm))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xC=new $(""),QL=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=k(mt),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof zs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof In?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Ur&&r.code===Wl.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Ql&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>w(this,null,function*(){yield new Promise(s=>{setTimeout(()=>{s()}),bl(()=>{s()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new Ql(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){FT()},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})();function u5(t,...e){return nn([{provide:Ua,multi:!0,useValue:t},[],{provide:Br,useFactory:PC,deps:[sr]},{provide:Pl,multi:!0,useFactory:OC},e.map(n=>n.\u0275providers)])}function PC(t){return t.routerState.root}function Wa(t,e){return{\u0275kind:t,\u0275providers:e}}function OC(){let t=k(Be);return e=>{let n=t.get(tr);if(e!==n.components[0])return;let r=t.get(sr),i=t.get(kC);t.get(Wm)===1&&r.initialNavigation(),t.get(FC,null,ie.Optional)?.setUpPreloading(),t.get(xC,null,ie.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var kC=new $("",{factory:()=>new be}),Wm=new $("",{providedIn:"root",factory:()=>1});function YL(){return Wa(2,[{provide:Wm,useValue:0},{provide:xl,multi:!0,deps:[Be],useFactory:e=>{let n=e.get(Ab,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(sr),s=e.get(kC);NC(i,()=>{r(!0)}),e.get(Gm).afterPreactivation=()=>(r(!0),s.closed?G(void 0):s),i.initialNavigation()}))}}])}function JL(){return Wa(3,[{provide:xl,multi:!0,useFactory:()=>{let e=k(sr);return()=>{e.setUpLocationChangeListener()}}},{provide:Wm,useValue:2}])}var FC=new $("");function ZL(t){return Wa(0,[{provide:FC,useExisting:KL},{provide:td,useExisting:t}])}function XL(){return Wa(8,[Jb,{provide:nd,useExisting:Jb}])}function eV(t){let e=[{provide:SC,useValue:LL},{provide:RC,useValue:O({skipNextTransition:!!t?.skipInitialTransition},t)}];return Wa(9,e)}var Xb=new $("ROUTER_FORROOT_GUARD"),tV=[Ls,{provide:$a,useClass:xa},sr,Ha,{provide:Br,useFactory:PC,deps:[sr]},qm,[]],l5=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[tV,[],{provide:Ua,multi:!0,useValue:r},{provide:Xb,useFactory:sV,deps:[[sr,new vt,new sD]]},{provide:Ga,useValue:i||{}},i?.useHash?rV():iV(),nV(),i?.preloadingStrategy?ZL(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?oV(i):[],i?.bindToComponentInputs?XL().\u0275providers:[],i?.enableViewTransitions?eV().\u0275providers:[],aV()]}}static forChild(r){return{ngModule:e,providers:[{provide:Ua,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(U(Xb,8))},e.\u0275mod=tn({type:e}),e.\u0275inj=en({});let t=e;return t})();function nV(){return{provide:xC,useFactory:()=>{let t=k(Nb),e=k(ge),n=k(Ga),r=k(Gm),i=k($a);return n.scrollOffset&&t.setOffset(n.scrollOffset),new QL(i,r,t,e,n)}}}function rV(){return{provide:ir,useClass:Rb}}function iV(){return{provide:ir,useClass:Gg}}function sV(t){return"guarded"}function oV(t){return[t.initialNavigation==="disabled"?JL().\u0275providers:[],t.initialNavigation==="enabledBlocking"?YL().\u0275providers:[]]}var eC=new $("");function aV(){return[{provide:eC,useFactory:OC},{provide:Pl,multi:!0,useExisting:eC}]}var VC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},cV=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},jC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=s>>2,p=(s&3)<<4|a>>4,m=(a&15)<<2|l>>6,v=l&63;u||(v=64,o||(m=64)),r.push(n[h],n[p],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(VC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):cV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||p==null)throw new Qm;let m=s<<2|a>>4;if(r.push(m),l!==64){let v=a<<4&240|l>>2;if(r.push(v),p!==64){let A=l<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Qm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},uV=function(t){let e=VC(t);return jC.encodeByteArray(e,!0)},Ka=function(t){return uV(t).replace(/\./g,"")},Jm=function(t){try{return jC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function lV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var dV=()=>lV().__FIREBASE_DEFAULTS__,hV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},fV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Jm(t[1]);return e&&JSON.parse(e)},sd=()=>{try{return dV()||hV()||fV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Zm=t=>{var e,n;return(n=(e=sd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},UC=t=>{let e=Zm(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Xm=()=>{var t;return(t=sd())===null||t===void 0?void 0:t.config},ey=t=>{var e;return(e=sd())===null||e===void 0?void 0:e[`_${t}`]};var id=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function BC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ka(JSON.stringify(n)),Ka(JSON.stringify(o)),""].join(".")}function He(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $C(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(He())}function pV(){var t;let e=(t=sd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HC(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function qC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zC(){let t=He();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function GC(){return!pV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ty(){try{return typeof indexedDB=="object"}catch{return!1}}function WC(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var gV="FirebaseError",Ft=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=gV,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,or.prototype.create)}},or=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?mV(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ft(i,a,r)}};function mV(t,e){return t.replace(yV,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var yV=/\{\$([^}]+)}/g;function KC(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Si(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(LC(s)&&LC(o)){if(!Si(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function LC(t){return t!==null&&typeof t=="object"}function Qa(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ks(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Qs(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function QC(t,e){let n=new Ym(t,e);return n.subscribe.bind(n)}var Ym=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");vV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Km),i.error===void 0&&(i.error=Km),i.complete===void 0&&(i.complete=Km);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function vV(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Km(){}var f5=4*60*60*1e3;function Ke(t){return t&&t._delegate?t._delegate:t}var zt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ri="[DEFAULT]";var ny=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new id;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IV(e))try{this.getOrInitializeService({instanceIdentifier:Ri})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ri){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ri){return this.instances.has(e)}getOptions(e=Ri){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_V(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ri){return this.component?this.component.multipleInstances?e:Ri:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function _V(t){return t===Ri?void 0:t}function IV(t){return t.instantiationMode==="EAGER"}var od=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new ny(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var wV=[],ue=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ue||{}),EV={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},DV=ue.INFO,TV={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},bV=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=TV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Hr=class{constructor(e){this.name=e,this._logLevel=DV,this._logHandler=bV,this._userLogHandler=null,wV.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}};var CV=(t,e)=>e.some(n=>t instanceof n),YC,JC;function AV(){return YC||(YC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SV(){return JC||(JC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var ZC=new WeakMap,iy=new WeakMap,XC=new WeakMap,ry=new WeakMap,oy=new WeakMap;function RV(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(En(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ZC.set(n,t)}).catch(()=>{}),oy.set(e,t),e}function MV(t){if(iy.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});iy.set(t,e)}var sy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return iy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||XC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return En(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function e0(t){sy=t(sy)}function NV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(ad(this),e,...n);return XC.set(r,e.sort?e.sort():[e]),En(r)}:SV().includes(t)?function(...e){return t.apply(ad(this),e),En(ZC.get(this))}:function(...e){return En(t.apply(ad(this),e))}}function xV(t){return typeof t=="function"?NV(t):(t instanceof IDBTransaction&&MV(t),CV(t,AV())?new Proxy(t,sy):t)}function En(t){if(t instanceof IDBRequest)return RV(t);if(ry.has(t))return ry.get(t);let e=xV(t);return e!==t&&(ry.set(t,e),oy.set(e,t)),e}var ad=t=>oy.get(t);function n0(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=En(o);return r&&o.addEventListener("upgradeneeded",u=>{r(En(o.result),u.oldVersion,u.newVersion,En(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var PV=["get","getKey","getAll","getAllKeys","count"],OV=["put","add","delete","clear"],ay=new Map;function t0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ay.get(e))return ay.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=OV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||PV.includes(n)))return;let s=function(o,...a){return w(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return ay.set(e,s),s}e0(t=>he(O({},t),{get:(e,n,r)=>t0(e,n)||t.get(e,n,r),has:(e,n)=>!!t0(e,n)||t.has(e,n)}));var uy=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kV(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function kV(t){let e=t.getComponent();return e?.type==="VERSION"}var ly="@firebase/app",r0="0.10.5";var Mi=new Hr("@firebase/app"),FV="@firebase/app-compat",LV="@firebase/analytics-compat",VV="@firebase/analytics",jV="@firebase/app-check-compat",UV="@firebase/app-check",BV="@firebase/auth",$V="@firebase/auth-compat",HV="@firebase/database",qV="@firebase/database-compat",zV="@firebase/functions",GV="@firebase/functions-compat",WV="@firebase/installations",KV="@firebase/installations-compat",QV="@firebase/messaging",YV="@firebase/messaging-compat",JV="@firebase/performance",ZV="@firebase/performance-compat",XV="@firebase/remote-config",ej="@firebase/remote-config-compat",tj="@firebase/storage",nj="@firebase/storage-compat",rj="@firebase/firestore",ij="@firebase/vertexai-preview",sj="@firebase/firestore-compat",oj="firebase",aj="10.12.2";var dy="[DEFAULT]",cj={[ly]:"fire-core",[FV]:"fire-core-compat",[VV]:"fire-analytics",[LV]:"fire-analytics-compat",[UV]:"fire-app-check",[jV]:"fire-app-check-compat",[BV]:"fire-auth",[$V]:"fire-auth-compat",[HV]:"fire-rtdb",[qV]:"fire-rtdb-compat",[zV]:"fire-fn",[GV]:"fire-fn-compat",[WV]:"fire-iid",[KV]:"fire-iid-compat",[QV]:"fire-fcm",[YV]:"fire-fcm-compat",[JV]:"fire-perf",[ZV]:"fire-perf-compat",[XV]:"fire-rc",[ej]:"fire-rc-compat",[tj]:"fire-gcs",[nj]:"fire-gcs-compat",[rj]:"fire-fst",[sj]:"fire-fst-compat",[ij]:"fire-vertex","fire-js":"fire-js",[oj]:"fire-js-all"};var Ya=new Map,uj=new Map,hy=new Map;function i0(t,e){try{t.container.addComponent(e)}catch(n){Mi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function zr(t){let e=t.name;if(hy.has(e))return Mi.debug(`There were multiple attempts to register component ${e}.`),!1;hy.set(e,t);for(let n of Ya.values())i0(n,t);for(let n of uj.values())i0(n,t);return!0}function Za(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function sn(t){return t.settings!==void 0}var lj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qr=new or("app","Firebase",lj);var fy=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}};var Gr=aj;function my(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:dy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw qr.create("bad-app-name",{appName:String(i)});if(n||(n=Xm()),!n)throw qr.create("no-options");let s=Ya.get(i);if(s){if(Si(n,s.options)&&Si(r,s.config))return s;throw qr.create("duplicate-app",{appName:i})}let o=new od(i);for(let u of hy.values())o.addComponent(u);let a=new fy(n,r,o);return Ya.set(i,a),a}function Ys(t=dy){let e=Ya.get(t);if(!e&&t===dy&&Xm())return my();if(!e)throw qr.create("no-app",{appName:t});return e}function cd(){return Array.from(Ya.values())}function qe(t,e,n){var r;let i=(r=cj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mi.warn(a.join(" "));return}zr(new zt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var dj="firebase-heartbeat-database",hj=1,Ja="firebase-heartbeat-store",cy=null;function c0(){return cy||(cy=n0(dj,hj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ja)}catch(n){console.warn(n)}}}}).catch(t=>{throw qr.create("idb-open",{originalErrorMessage:t.message})})),cy}function fj(t){return w(this,null,function*(){try{let n=(yield c0()).transaction(Ja),r=yield n.objectStore(Ja).get(u0(t));return yield n.done,r}catch(e){if(e instanceof Ft)Mi.warn(e.message);else{let n=qr.create("idb-get",{originalErrorMessage:e?.message});Mi.warn(n.message)}}})}function s0(t,e){return w(this,null,function*(){try{let r=(yield c0()).transaction(Ja,"readwrite");yield r.objectStore(Ja).put(e,u0(t)),yield r.done}catch(n){if(n instanceof Ft)Mi.warn(n.message);else{let r=qr.create("idb-set",{originalErrorMessage:n?.message});Mi.warn(r.message)}}})}function u0(t){return`${t.name}!${t.options.appId}`}var pj=1024,gj=30*24*60*60*1e3,py=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new gy(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=o0();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=gj}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return w(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=o0(),{heartbeatsToSend:r,unsentEntries:i}=mj(this._heartbeatsCache.heartbeats),s=Ka(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function o0(){return new Date().toISOString().substring(0,10)}function mj(t,e=pj){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),a0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),a0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var gy=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return ty()?WC().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield fj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return s0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return s0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function a0(t){return Ka(JSON.stringify({version:2,heartbeats:t})).length}function yj(t){zr(new zt("platform-logger",e=>new uy(e),"PRIVATE")),zr(new zt("heartbeat",e=>new py(e),"PRIVATE")),qe(ly,r0,t),qe(ly,r0,"esm2017"),qe("fire-js","")}yj("");var vj="firebase",_j="10.12.2";qe(vj,_j,"app");var xi=new zn("ANGULARFIRE2_VERSION");function ld(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Xa=(t,e)=>{let n=e?[e]:cd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Zs=class{constructor(){return Xa(Ij)}},Ij="app-check";function Js(){}var ud=class{zone;delegate;constructor(e,n=Cf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},yy=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Js,{},Js,Js)),n.pipe(Fe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Xs=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new ud(Zone.current)),this.insideAngular=n.run(()=>new ud(Zone.current,bf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(U(ge))};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function dd(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function wj(t){return dd().ngZone.runOutsideAngular(()=>t())}function Ni(t){return dd().ngZone.run(()=>t())}function Ej(t){return Dj(dd())(t)}function Dj(t){return function(n){return n=n.lift(new yy(t.ngZone)),n.pipe(Er(t.outsideAngular),wr(t.insideAngular))}}var Tj=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Ni(()=>t.apply(void 0,r))},at=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Ni(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Js,{},Js,Js))),r[s]=Tj(r[s],n));let i=wj(()=>t.apply(this,r));if(!e)if(i instanceof se){let s=dd();return i.pipe(Er(s.outsideAngular),wr(s.insideAngular))}else return Ni(()=>i);return i instanceof se?i.pipe(Ej):i instanceof Promise?Ni(()=>new Promise((s,o)=>i.then(a=>Ni(()=>s(a)),a=>Ni(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Ni(()=>i)};var ar=class{constructor(e){return e}},Pi=class{constructor(){return cd()}};function bj(t){return t&&t.length===1?t[0]:new ar(Ys())}var vy=new $("angularfire2._apps"),Cj={provide:ar,useFactory:bj,deps:[[new vt,vy]]},Aj={provide:Pi,deps:[[new vt,vy]]};function Sj(t){return(e,n)=>{let r=n.get(gn);qe("angularfire",xi.full,"core"),qe("angularfire",xi.full,"app"),qe("angular",pb.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new ar(i)}}function Z5(t,...e){return nn([Cj,Aj,{provide:vy,useFactory:Sj(t),multi:!0,deps:[ge,Be,Xs,...e]}])}var X5=at(my,!0);function C0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var A0=C0,S0=new or("auth","Firebase",C0());var yd=new Hr("@firebase/auth");function Rj(t,...e){yd.logLevel<=ue.WARN&&yd.warn(`Auth (${Gr}): ${t}`,...e)}function fd(t,...e){yd.logLevel<=ue.ERROR&&yd.error(`Auth (${Gr}): ${t}`,...e)}function Tn(t,...e){throw By(t,...e)}function Oi(t,...e){return By(t,...e)}function R0(t,e,n){let r=Object.assign(Object.assign({},A0()),{[e]:n});return new or("auth","Firebase",r).create(e,{appName:t.name})}function lr(t){return R0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function By(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return S0.create(t,...e)}function W(t,e,...n){if(!t)throw By(e,...n)}function cr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw fd(e),new Error(e)}function Kr(t,e){t||cr(e)}function Ey(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Mj(){return l0()==="http:"||l0()==="https:"}function l0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function Nj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Mj()||HC()||"connection"in navigator)?navigator.onLine:!0}function xj(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ki=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Kr(n>e,"Short delay should be less than long delay!"),this.isMobile=$C()||qC()}get(){return Nj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function $y(t,e){Kr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var vd=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Pj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Oj=new ki(3e4,6e4);function Qr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Yr(s,o,a,u){return w(this,arguments,function*(t,e,n,r,i={}){return M0(t,i,()=>w(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Qa(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();return m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode),vd.fetch()(N0(t,t.config.apiHost,n,p),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},l))}))})}function M0(t,e,n){return w(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},Pj),e);try{let i=new Dy(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw hd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw hd(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw hd(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw hd(t,"user-disabled",o);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw R0(t,h,l);Tn(t,h)}}catch(i){if(i instanceof Ft)throw i;Tn(t,"network-request-failed",{message:String(i)})}})}function ac(s,o,a,u){return w(this,arguments,function*(t,e,n,r,i={}){let l=yield Yr(t,e,n,r,i);return"mfaPendingCredential"in l&&Tn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function N0(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?$y(t.config,i):`${t.config.apiScheme}://${i}`}function kj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Dy=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Oi(this.auth,"network-request-failed")),Oj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function hd(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Oi(t,e,r);return i.customData._tokenResponse=n,i}function d0(t){return t!==void 0&&t.enterprise!==void 0}var Ty=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return kj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function Fj(t,e){return w(this,null,function*(){return Yr(t,"GET","/v2/recaptchaConfig",Qr(t,e))})}function Lj(t,e){return w(this,null,function*(){return Yr(t,"POST","/v1/accounts:delete",e)})}function x0(t,e){return w(this,null,function*(){return Yr(t,"POST","/v1/accounts:lookup",e)})}function ec(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Hy(t,e=!1){return w(this,null,function*(){let n=Ke(t),r=yield n.getIdToken(e),i=qy(r);W(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:ec(_y(i.auth_time)),issuedAtTime:ec(_y(i.iat)),expirationTime:ec(_y(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function _y(t){return Number(t)*1e3}function qy(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return fd("JWT malformed, contained fewer than 3 sections"),null;try{let i=Jm(n);return i?JSON.parse(i):(fd("Failed to decode base64 JWT payload"),null)}catch(i){return fd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function h0(t){let e=qy(t);return W(e,"internal-error"),W(typeof e.exp<"u","internal-error"),W(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function nc(t,e,n=!1){return w(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Ft&&Vj(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function Vj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var by=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),n)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var rc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ec(this.lastLoginAt),this.creationTime=ec(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function _d(t){return w(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield nc(t,x0(n,{idToken:r}));W(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?P0(s.providerUserInfo):[],a=jj(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,h=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new rc(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function zy(t){return w(this,null,function*(){let e=Ke(t);yield _d(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function jj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function P0(t){return t.map(e=>{var{providerId:n}=e,r=Af(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Uj(t,e){return w(this,null,function*(){let n=yield M0(t,{},()=>w(this,null,function*(){let r=Qa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=N0(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",vd.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function Bj(t,e){return w(this,null,function*(){return Yr(t,"POST","/v2/accounts:revokeToken",Qr(t,e))})}var tc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){W(e.idToken,"internal-error"),W(typeof e.idToken<"u","internal-error"),W(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):h0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){W(e.length!==0,"internal-error");let n=h0(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return w(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(W(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield Uj(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(W(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(W(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(W(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return cr("not implemented")}};function Wr(t,e){W(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var eo=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Af(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new by(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new rc(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let n=yield nc(this,this.stsTokenManager.getToken(this.auth,e));return W(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Hy(this,e)}reload(){return zy(this)}_assign(e){this!==e&&(W(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield _d(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(sn(this.auth.app))return Promise.reject(lr(this.auth));let e=yield this.getIdToken();return yield nc(this,Lj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,A=(o=n.photoURL)!==null&&o!==void 0?o:void 0,M=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,F=(l=n.createdAt)!==null&&l!==void 0?l:void 0,Y=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:z,emailVerified:de,isAnonymous:Ae,providerData:te,stsTokenManager:D}=n;W(z&&D,e,"internal-error");let y=tc.fromJSON(this.name,D);W(typeof z=="string",e,"internal-error"),Wr(p,e.name),Wr(m,e.name),W(typeof de=="boolean",e,"internal-error"),W(typeof Ae=="boolean",e,"internal-error"),Wr(v,e.name),Wr(A,e.name),Wr(M,e.name),Wr(R,e.name),Wr(F,e.name),Wr(Y,e.name);let _=new t({uid:z,auth:e,email:m,emailVerified:de,displayName:p,isAnonymous:Ae,photoURL:A,phoneNumber:v,tenantId:M,stsTokenManager:y,createdAt:F,lastLoginAt:Y});return te&&Array.isArray(te)&&(_.providerData=te.map(E=>Object.assign({},E))),R&&(_._redirectEventId=R),_}static _fromIdTokenResponse(e,n,r=!1){return w(this,null,function*(){let i=new tc;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield _d(s),s})}static _fromGetAccountInfoResponse(e,n,r){return w(this,null,function*(){let i=n.users[0];W(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?P0(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new tc;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new rc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var f0=new Map;function ur(t){Kr(t instanceof Function,"Expected a class definition");let e=f0.get(t);return e?(Kr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,f0.set(t,e),e)}var $j=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(n,r){return w(this,null,function*(){this.storage[n]=r})}_get(n){return w(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return w(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Cy=$j;function pd(t,e,n){return`firebase:${t}:${e}:${n}`}var Id=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=pd(this.userKey,i.apiKey,s),this.fullPersistenceKey=pd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?eo._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return w(this,null,function*(){if(!n.length)return new t(ur(Cy),e,r);let i=(yield Promise.all(n.map(l=>w(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||ur(Cy),o=pd(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(o);if(h){let p=eo._fromJSON(e,h);l!==s&&(a=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>w(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function p0(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(F0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(O0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(V0(e))return"Blackberry";if(j0(e))return"Webos";if(Gy(e))return"Safari";if((e.includes("chrome/")||k0(e))&&!e.includes("edge/"))return"Chrome";if(L0(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function O0(t=He()){return/firefox\//i.test(t)}function Gy(t=He()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function k0(t=He()){return/crios\//i.test(t)}function F0(t=He()){return/iemobile/i.test(t)}function L0(t=He()){return/android/i.test(t)}function V0(t=He()){return/blackberry/i.test(t)}function j0(t=He()){return/webos/i.test(t)}function Sd(t=He()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Hj(t=He()){var e;return Sd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function qj(){return zC()&&document.documentMode===10}function U0(t=He()){return Sd(t)||L0(t)||j0(t)||V0(t)||/windows phone/i.test(t)||F0(t)}function zj(){try{return!!(window&&window!==window.top)}catch{return!1}}function B0(t,e=[]){let n;switch(t){case"Browser":n=p0(He());break;case"Worker":n=`${p0(He())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Gr}/${r}`}var Ay=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Gj(n){return w(this,arguments,function*(t,e={}){return Yr(t,"GET","/v2/passwordPolicy",Qr(t,e))})}var Wj=6,Sy=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Wj,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Ry=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wd(this),this.idTokenSubscription=new wd(this),this.beforeStateQueue=new Ay(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=S0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ur(n)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Id.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let n=yield x0(this,{idToken:e}),r=yield eo._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var n;if(sn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return W(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield _d(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=xj()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(sn(this.app))return Promise.reject(lr(this));let n=e?Ke(e):null;return n&&W(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return w(this,null,function*(){if(!this._deleted)return e&&W(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return sn(this.app)?Promise.reject(lr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return sn(this.app)?Promise.reject(lr(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(ur(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield Gj(this),n=new Sy(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new or("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Bj(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&ur(e)||this._popupRedirectResolver;W(n,this,"argument-error"),this.redirectPersistenceManager=yield Id.create(this,[ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(W(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=B0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return w(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&Rj(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Li(t){return Ke(t)}var wd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=QC(n=>this.observer=n)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Rd={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Kj(t){Rd=t}function $0(t){return Rd.loadJS(t)}function Qj(){return Rd.recaptchaEnterpriseScript}function Yj(){return Rd.gapiScript}function H0(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var Jj="recaptcha-enterprise",Zj="NO_RECAPTCHA",My=class{constructor(e){this.type=Jj,this.auth=Li(e)}verify(e="verify",n=!1){return w(this,null,function*(){function r(s){return w(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>w(this,null,function*(){Fj(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Ty(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(s,o,a){let u=window.grecaptcha;d0(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(Zj)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&d0(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Qj();u.length!==0&&(u+=a),$0(u).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})})}};function g0(t,e,n,r=!1){return w(this,null,function*(){let i=new My(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function Ny(t,e,n,r){return w(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield g0(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>w(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield g0(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function Wy(t,e){let n=Za(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Si(s,e??{}))return i;Tn(i,"already-initialized")}return n.initialize({options:e})}function Xj(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ur);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Ky(t,e,n){let r=Li(t);W(r._canInitEmulator,r,"emulator-config-failed"),W(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=q0(e),{host:o,port:a}=eU(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||tU()}function q0(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function eU(t){let e=q0(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:m0(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:m0(o)}}}function m0(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function tU(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var ic=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return cr("not implemented")}_getIdTokenResponse(e){return cr("not implemented")}_linkToIdToken(e,n){return cr("not implemented")}_getReauthenticationResolver(e){return cr("not implemented")}};function nU(t,e){return w(this,null,function*(){return Yr(t,"POST","/v1/accounts:signUp",e)})}function rU(t,e){return w(this,null,function*(){return ac(t,"POST","/v1/accounts:signInWithPassword",Qr(t,e))})}function iU(t,e){return w(this,null,function*(){return ac(t,"POST","/v1/accounts:signInWithEmailLink",Qr(t,e))})}function sU(t,e){return w(this,null,function*(){return ac(t,"POST","/v1/accounts:signInWithEmailLink",Qr(t,e))})}var sc=class t extends ic{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return w(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ny(e,n,"signInWithPassword",rU);case"emailLink":return iU(e,{email:this._email,oobCode:this._password});default:Tn(e,"internal-error")}})}_linkToIdToken(e,n){return w(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ny(e,r,"signUpPassword",nU);case"emailLink":return sU(e,{idToken:n,email:this._email,oobCode:this._password});default:Tn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Iy(t,e){return w(this,null,function*(){return ac(t,"POST","/v1/accounts:signInWithIdp",Qr(t,e))})}function oU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function aU(t){let e=Ks(Qs(t)).link,n=e?Ks(Qs(e)).deep_link_id:null,r=Ks(Qs(t)).deep_link_id;return(r?Ks(Qs(r)).link:null)||r||n||e||t}var Ed=class t{constructor(e){var n,r,i,s,o,a;let u=Ks(Qs(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=oU((i=u.mode)!==null&&i!==void 0?i:null);W(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=aU(e);try{return new t(n)}catch{return null}}};var z0=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return sc._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Ed.parseLink(r);return W(i,"argument-error"),sc._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Dd=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var xy=class extends Dd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function cU(t,e){return w(this,null,function*(){return ac(t,"POST","/v1/accounts:signUp",Qr(t,e))})}var to=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return w(this,null,function*(){let s=yield eo._fromIdTokenResponse(e,r,i),o=y0(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=y0(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function y0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Py=class t extends Ft{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function G0(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Py._fromErrorAndOperation(t,s,e,r):s})}function uU(t,e,n=!1){return w(this,null,function*(){let r=yield nc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return to._forOperation(t,"link",r)})}function lU(t,e,n=!1){return w(this,null,function*(){let{auth:r}=t;if(sn(r.app))return Promise.reject(lr(r));let i="reauthenticate";try{let s=yield nc(t,G0(r,i,e,t),n);W(s.idToken,r,"internal-error");let o=qy(s.idToken);W(o,r,"internal-error");let{sub:a}=o;return W(t.uid===a,r,"user-mismatch"),to._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Tn(r,"user-mismatch"),s}})}function W0(t,e,n=!1){return w(this,null,function*(){if(sn(t.app))return Promise.reject(lr(t));let r="signIn",i=yield G0(t,r,e),s=yield to._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function Qy(t,e){return w(this,null,function*(){return W0(Li(t),e)})}function K0(t){return w(this,null,function*(){let e=Li(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Yy(t,e,n){return w(this,null,function*(){if(sn(t.app))return Promise.reject(lr(t));let r=Li(t),o=yield Ny(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cU).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&K0(t),u}),a=yield to._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function Jy(t,e,n){return sn(t.app)?Promise.reject(lr(t)):Qy(Ke(t),z0.credential(e,n)).catch(r=>w(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&K0(t),r}))}function Zy(t,e,n,r){return Ke(t).onIdTokenChanged(e,n,r)}function Xy(t,e,n){return Ke(t).beforeAuthStateChanged(e,n)}var Td="__sak";var bd=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Td,"1"),this.storage.removeItem(Td),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function dU(){let t=He();return Gy(t)||Sd(t)}var hU=1e3,fU=10,pU=(()=>{class t extends bd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=dU()&&zj(),this.fallbackToPolling=U0(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);qj()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,fU):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},hU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return w(this,null,function*(){yield _r(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return w(this,null,function*(){let r=yield _r(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return w(this,null,function*(){yield _r(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),Q0=pU;var gU=(()=>{class t extends bd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),ev=gU;function mU(t){return Promise.all(t.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var yU=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return w(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(h=>w(this,null,function*(){return h(r.origin,o)})),l=yield mU(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Y0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Oy=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let l=Y0("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function Dn(){return window}function vU(t){Dn().location.href=t}function J0(){return typeof Dn().WorkerGlobalScope<"u"&&typeof Dn().importScripts=="function"}function _U(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function IU(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function wU(){return J0()?self:null}var Z0="firebaseLocalStorageDb",EU=1,Cd="firebaseLocalStorage",X0="fbase_key",Fi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Md(t,e){return t.transaction([Cd],e?"readwrite":"readonly").objectStore(Cd)}function DU(){let t=indexedDB.deleteDatabase(Z0);return new Fi(t).toPromise()}function ky(){let t=indexedDB.open(Z0,EU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Cd,{keyPath:X0})}catch(i){n(i)}}),t.addEventListener("success",()=>w(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Cd)?e(r):(r.close(),yield DU(),e(yield ky()))}))})}function v0(t,e,n){return w(this,null,function*(){let r=Md(t,!0).put({[X0]:e,value:n});return new Fi(r).toPromise()})}function TU(t,e){return w(this,null,function*(){let n=Md(t,!1).get(e),r=yield new Fi(n).toPromise();return r===void 0?null:r.value})}function _0(t,e){let n=Md(t,!0).delete(e);return new Fi(n).toPromise()}var bU=800,CU=3,AU=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield ky(),this.db)})}_withRetries(n){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>CU)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return J0()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=yU._getInstance(wU()),this.receiver._subscribe("keyChanged",(n,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var n,r;if(this.activeServiceWorker=yield _U(),!this.activeServiceWorker)return;this.sender=new Oy(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||IU()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let n=yield ky();return yield v0(n,Td,"1"),yield _0(n,Td),!0}catch{}return!1})}_withPendingWrite(n){return w(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>v0(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return w(this,null,function*(){let r=yield this._withRetries(i=>TU(i,n));return this.localCache[n]=r,r})}_remove(n){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>_0(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return w(this,null,function*(){let n=yield this._withRetries(s=>{let o=Md(s,!1).getAll();return new Fi(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),bU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),eA=AU;var a8=H0("rcb"),c8=new ki(3e4,6e4);function SU(t,e){return e?ur(e):(W(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var oc=class extends ic{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Iy(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Iy(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Iy(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function RU(t){return W0(t.auth,new oc(t),t.bypassAuthState)}function MU(t){let{auth:e,user:n}=t;return W(n,e,"internal-error"),lU(n,new oc(t),t.bypassAuthState)}function NU(t){return w(this,null,function*(){let{auth:e,user:n}=t;return W(n,e,"internal-error"),uU(n,new oc(t),t.bypassAuthState)})}var Fy=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RU;case"linkViaPopup":case"linkViaRedirect":return NU;case"reauthViaPopup":case"reauthViaRedirect":return MU;default:Tn(this.auth,"internal-error")}}resolve(e){Kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var u8=new ki(2e3,1e4);var xU="pendingRedirect",gd=new Map,Ly=class t extends Fy{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=gd.get(this.auth._key());if(!e){try{let r=(yield PU(this.resolver,this.auth))?yield _r(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}gd.set(this.auth._key(),e)}return this.bypassAuthState||gd.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return _r(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,_r(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function PU(t,e){return w(this,null,function*(){let n=FU(e),r=kU(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function OU(t,e){gd.set(t._key(),e)}function kU(t){return ur(t._redirectPersistence)}function FU(t){return pd(xU,t.config.apiKey,t.name)}function LU(t,e,n=!1){return w(this,null,function*(){if(sn(t.app))return Promise.reject(lr(t));let r=Li(t),i=SU(r,e),o=yield new Ly(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var VU=10*60*1e3,Vy=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!tA(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Oi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=VU&&this.cachedEventUids.clear(),this.cachedEventUids.has(I0(e))}saveEventToCache(e){this.cachedEventUids.add(I0(e)),this.lastProcessedEventTime=Date.now()}};function I0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function tA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function jU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tA(t);default:return!1}}function UU(n){return w(this,arguments,function*(t,e={}){return Yr(t,"GET","/v1/projects",e)})}var BU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$U=/^https?/;function HU(t){return w(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield UU(t);for(let n of e)try{if(qU(n))return}catch{}Tn(t,"unauthorized-domain")})}function qU(t){let e=Ey(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!$U.test(n))return!1;if(BU.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var zU=new ki(3e4,6e4);function w0(){let t=Dn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function GU(t){return new Promise((e,n)=>{var r,i,s;function o(){w0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{w0(),n(Oi(t,"network-request-failed"))},timeout:zU.get()})}if(!((i=(r=Dn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Dn().gapi)===null||s===void 0)&&s.load)o();else{let a=H0("iframefcb");return Dn()[a]=()=>{gapi.load?o():n(Oi(t,"network-request-failed"))},$0(`${Yj()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw md=null,e})}var md=null;function WU(t){return md=md||GU(t),md}var KU=new ki(5e3,15e3),QU="__/auth/iframe",YU="emulator/auth/iframe",JU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XU(t){let e=t.config;W(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?$y(e,YU):`https://${t.config.authDomain}/${QU}`,r={apiKey:e.apiKey,appName:t.name,v:Gr},i=ZU.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Qa(r).slice(1)}`}function e2(t){return w(this,null,function*(){let e=yield WU(t),n=Dn().gapi;return W(n,t,"internal-error"),e.open({where:document.body,url:XU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JU,dontclear:!0},r=>new Promise((i,s)=>w(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Oi(t,"network-request-failed"),a=Dn().setTimeout(()=>{s(o)},KU.get());function u(){Dn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var t2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},n2=500,r2=600,i2="_blank",s2="http://localhost",Ad=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function o2(t,e,n,r=n2,i=r2){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},t2),{width:r.toString(),height:i.toString(),top:s,left:o}),l=He().toLowerCase();n&&(a=k0(l)?i2:n),O0(l)&&(e=e||s2,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[v,A])=>`${m}${v}=${A},`,"");if(Hj(l)&&a!=="_self")return a2(e||"",a),new Ad(null);let p=window.open(e||"",a,h);W(p,t,"popup-blocked");try{p.focus()}catch{}return new Ad(p)}function a2(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var c2="__/auth/handler",u2="emulator/auth/handler",l2=encodeURIComponent("fac");function E0(t,e,n,r,i,s){return w(this,null,function*(){W(t.config.authDomain,t,"auth-domain-config-required"),W(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Gr,eventId:i};if(e instanceof Dd){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",KC(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(s||{}))o[h]=p}if(e instanceof xy){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${l2}=${encodeURIComponent(u)}`:"";return`${d2(t)}?${Qa(a).slice(1)}${l}`})}function d2({config:t}){return t.emulator?$y(t,u2):`https://${t.authDomain}/${c2}`}var wy="webStorageSupport",jy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ev,this._completeRedirectFn=LU,this._overrideRedirectResult=OU}_openPopup(e,n,r,i){return w(this,null,function*(){var s;Kr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield E0(e,n,r,Ey(),i);return o2(e,o,Y0())})}_openRedirect(e,n,r,i){return w(this,null,function*(){yield this._originValidation(e);let s=yield E0(e,n,r,Ey(),i);return vU(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Kr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return w(this,null,function*(){let n=yield e2(e),r=new Vy(e);return n.register("authEvent",i=>(W(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wy,{type:wy},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[wy];o!==void 0&&n(!!o),Tn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=HU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return U0()||Gy()||Sd()}},nA=jy;var D0="@firebase/auth",T0="1.7.4";var Uy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function h2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function f2(t){zr(new zt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;W(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:B0(t)},l=new Ry(r,i,s,u);return Xj(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),zr(new zt("auth-internal",e=>{let n=Li(e.getProvider("auth").getImmediate());return(r=>new Uy(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qe(D0,T0,h2(t)),qe(D0,T0,"esm2017")}var p2=5*60,g2=ey("authIdTokenMaxAge")||p2,b0=null,m2=t=>e=>w(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>g2)return;let i=n?.token;b0!==i&&(b0=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function tv(t=Ys()){let e=Za(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Wy(t,{popupRedirectResolver:nA,persistence:[eA,Q0,ev]}),r=ey("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=m2(s.toString());Xy(n,o,()=>o(n.currentUser)),Zy(n,a=>o(a))}}let i=Zm("auth");return i&&Ky(n,`http://${i}`),n}function y2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Kj({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Oi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",y2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});f2("Browser");var rA="auth",cc=class{constructor(e){return e}},uc=class{constructor(){return Xa(rA)}};var nv=new $("angularfire2.auth-instances");function cB(t,e){let n=ld(rA,t,e);return n&&new cc(n)}function uB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new cc(r)}}var lB={provide:uc,deps:[[new vt,nv]]},dB={provide:cc,useFactory:cB,deps:[[new vt,nv],ar]};function G8(t,...e){return qe("angularfire",xi.full,"auth"),nn([dB,lB,{provide:nv,useFactory:uB(t),multi:!0,deps:[ge,Be,Xs,Pi,[new vt,Zs],...e]}])}var W8=at(Yy,!0);var K8=at(tv,!0);var Q8=at(Jy,!0);var iA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},sA={};var Jr,rv;(function(){var t;function e(D,y){function _(){}_.prototype=y.prototype,D.D=y.prototype,D.prototype=new _,D.prototype.constructor=D,D.C=function(E,T,C){for(var I=Array(arguments.length-2),kn=2;kn<arguments.length;kn++)I[kn-2]=arguments[kn];return y.prototype[T].apply(E,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,y,_){_||(_=0);var E=Array(16);if(typeof y=="string")for(var T=0;16>T;++T)E[T]=y.charCodeAt(_++)|y.charCodeAt(_++)<<8|y.charCodeAt(_++)<<16|y.charCodeAt(_++)<<24;else for(T=0;16>T;++T)E[T]=y[_++]|y[_++]<<8|y[_++]<<16|y[_++]<<24;y=D.g[0],_=D.g[1],T=D.g[2];var C=D.g[3],I=y+(C^_&(T^C))+E[0]+3614090360&4294967295;y=_+(I<<7&4294967295|I>>>25),I=C+(T^y&(_^T))+E[1]+3905402710&4294967295,C=y+(I<<12&4294967295|I>>>20),I=T+(_^C&(y^_))+E[2]+606105819&4294967295,T=C+(I<<17&4294967295|I>>>15),I=_+(y^T&(C^y))+E[3]+3250441966&4294967295,_=T+(I<<22&4294967295|I>>>10),I=y+(C^_&(T^C))+E[4]+4118548399&4294967295,y=_+(I<<7&4294967295|I>>>25),I=C+(T^y&(_^T))+E[5]+1200080426&4294967295,C=y+(I<<12&4294967295|I>>>20),I=T+(_^C&(y^_))+E[6]+2821735955&4294967295,T=C+(I<<17&4294967295|I>>>15),I=_+(y^T&(C^y))+E[7]+4249261313&4294967295,_=T+(I<<22&4294967295|I>>>10),I=y+(C^_&(T^C))+E[8]+1770035416&4294967295,y=_+(I<<7&4294967295|I>>>25),I=C+(T^y&(_^T))+E[9]+2336552879&4294967295,C=y+(I<<12&4294967295|I>>>20),I=T+(_^C&(y^_))+E[10]+4294925233&4294967295,T=C+(I<<17&4294967295|I>>>15),I=_+(y^T&(C^y))+E[11]+2304563134&4294967295,_=T+(I<<22&4294967295|I>>>10),I=y+(C^_&(T^C))+E[12]+1804603682&4294967295,y=_+(I<<7&4294967295|I>>>25),I=C+(T^y&(_^T))+E[13]+4254626195&4294967295,C=y+(I<<12&4294967295|I>>>20),I=T+(_^C&(y^_))+E[14]+2792965006&4294967295,T=C+(I<<17&4294967295|I>>>15),I=_+(y^T&(C^y))+E[15]+1236535329&4294967295,_=T+(I<<22&4294967295|I>>>10),I=y+(T^C&(_^T))+E[1]+4129170786&4294967295,y=_+(I<<5&4294967295|I>>>27),I=C+(_^T&(y^_))+E[6]+3225465664&4294967295,C=y+(I<<9&4294967295|I>>>23),I=T+(y^_&(C^y))+E[11]+643717713&4294967295,T=C+(I<<14&4294967295|I>>>18),I=_+(C^y&(T^C))+E[0]+3921069994&4294967295,_=T+(I<<20&4294967295|I>>>12),I=y+(T^C&(_^T))+E[5]+3593408605&4294967295,y=_+(I<<5&4294967295|I>>>27),I=C+(_^T&(y^_))+E[10]+38016083&4294967295,C=y+(I<<9&4294967295|I>>>23),I=T+(y^_&(C^y))+E[15]+3634488961&4294967295,T=C+(I<<14&4294967295|I>>>18),I=_+(C^y&(T^C))+E[4]+3889429448&4294967295,_=T+(I<<20&4294967295|I>>>12),I=y+(T^C&(_^T))+E[9]+568446438&4294967295,y=_+(I<<5&4294967295|I>>>27),I=C+(_^T&(y^_))+E[14]+3275163606&4294967295,C=y+(I<<9&4294967295|I>>>23),I=T+(y^_&(C^y))+E[3]+4107603335&4294967295,T=C+(I<<14&4294967295|I>>>18),I=_+(C^y&(T^C))+E[8]+1163531501&4294967295,_=T+(I<<20&4294967295|I>>>12),I=y+(T^C&(_^T))+E[13]+2850285829&4294967295,y=_+(I<<5&4294967295|I>>>27),I=C+(_^T&(y^_))+E[2]+4243563512&4294967295,C=y+(I<<9&4294967295|I>>>23),I=T+(y^_&(C^y))+E[7]+1735328473&4294967295,T=C+(I<<14&4294967295|I>>>18),I=_+(C^y&(T^C))+E[12]+2368359562&4294967295,_=T+(I<<20&4294967295|I>>>12),I=y+(_^T^C)+E[5]+4294588738&4294967295,y=_+(I<<4&4294967295|I>>>28),I=C+(y^_^T)+E[8]+2272392833&4294967295,C=y+(I<<11&4294967295|I>>>21),I=T+(C^y^_)+E[11]+1839030562&4294967295,T=C+(I<<16&4294967295|I>>>16),I=_+(T^C^y)+E[14]+4259657740&4294967295,_=T+(I<<23&4294967295|I>>>9),I=y+(_^T^C)+E[1]+2763975236&4294967295,y=_+(I<<4&4294967295|I>>>28),I=C+(y^_^T)+E[4]+1272893353&4294967295,C=y+(I<<11&4294967295|I>>>21),I=T+(C^y^_)+E[7]+4139469664&4294967295,T=C+(I<<16&4294967295|I>>>16),I=_+(T^C^y)+E[10]+3200236656&4294967295,_=T+(I<<23&4294967295|I>>>9),I=y+(_^T^C)+E[13]+681279174&4294967295,y=_+(I<<4&4294967295|I>>>28),I=C+(y^_^T)+E[0]+3936430074&4294967295,C=y+(I<<11&4294967295|I>>>21),I=T+(C^y^_)+E[3]+3572445317&4294967295,T=C+(I<<16&4294967295|I>>>16),I=_+(T^C^y)+E[6]+76029189&4294967295,_=T+(I<<23&4294967295|I>>>9),I=y+(_^T^C)+E[9]+3654602809&4294967295,y=_+(I<<4&4294967295|I>>>28),I=C+(y^_^T)+E[12]+3873151461&4294967295,C=y+(I<<11&4294967295|I>>>21),I=T+(C^y^_)+E[15]+530742520&4294967295,T=C+(I<<16&4294967295|I>>>16),I=_+(T^C^y)+E[2]+3299628645&4294967295,_=T+(I<<23&4294967295|I>>>9),I=y+(T^(_|~C))+E[0]+4096336452&4294967295,y=_+(I<<6&4294967295|I>>>26),I=C+(_^(y|~T))+E[7]+1126891415&4294967295,C=y+(I<<10&4294967295|I>>>22),I=T+(y^(C|~_))+E[14]+2878612391&4294967295,T=C+(I<<15&4294967295|I>>>17),I=_+(C^(T|~y))+E[5]+4237533241&4294967295,_=T+(I<<21&4294967295|I>>>11),I=y+(T^(_|~C))+E[12]+1700485571&4294967295,y=_+(I<<6&4294967295|I>>>26),I=C+(_^(y|~T))+E[3]+2399980690&4294967295,C=y+(I<<10&4294967295|I>>>22),I=T+(y^(C|~_))+E[10]+4293915773&4294967295,T=C+(I<<15&4294967295|I>>>17),I=_+(C^(T|~y))+E[1]+2240044497&4294967295,_=T+(I<<21&4294967295|I>>>11),I=y+(T^(_|~C))+E[8]+1873313359&4294967295,y=_+(I<<6&4294967295|I>>>26),I=C+(_^(y|~T))+E[15]+4264355552&4294967295,C=y+(I<<10&4294967295|I>>>22),I=T+(y^(C|~_))+E[6]+2734768916&4294967295,T=C+(I<<15&4294967295|I>>>17),I=_+(C^(T|~y))+E[13]+1309151649&4294967295,_=T+(I<<21&4294967295|I>>>11),I=y+(T^(_|~C))+E[4]+4149444226&4294967295,y=_+(I<<6&4294967295|I>>>26),I=C+(_^(y|~T))+E[11]+3174756917&4294967295,C=y+(I<<10&4294967295|I>>>22),I=T+(y^(C|~_))+E[2]+718787259&4294967295,T=C+(I<<15&4294967295|I>>>17),I=_+(C^(T|~y))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+y&4294967295,D.g[1]=D.g[1]+(T+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+T&4294967295,D.g[3]=D.g[3]+C&4294967295}r.prototype.u=function(D,y){y===void 0&&(y=D.length);for(var _=y-this.blockSize,E=this.B,T=this.h,C=0;C<y;){if(T==0)for(;C<=_;)i(this,D,C),C+=this.blockSize;if(typeof D=="string"){for(;C<y;)if(E[T++]=D.charCodeAt(C++),T==this.blockSize){i(this,E),T=0;break}}else for(;C<y;)if(E[T++]=D[C++],T==this.blockSize){i(this,E),T=0;break}}this.h=T,this.o+=y},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var y=1;y<D.length-8;++y)D[y]=0;var _=8*this.o;for(y=D.length-8;y<D.length;++y)D[y]=_&255,_/=256;for(this.u(D),D=Array(16),y=_=0;4>y;++y)for(var E=0;32>E;E+=8)D[_++]=this.g[y]>>>E&255;return D};function s(D,y){var _=a;return Object.prototype.hasOwnProperty.call(_,D)?_[D]:_[D]=y(D)}function o(D,y){this.h=y;for(var _=[],E=!0,T=D.length-1;0<=T;T--){var C=D[T]|0;E&&C==y||(_[T]=C,E=!1)}this.g=_}var a={};function u(D){return-128<=D&&128>D?s(D,function(y){return new o([y|0],0>y?-1:0)}):new o([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return R(l(-D));for(var y=[],_=1,E=0;D>=_;E++)y[E]=D/_|0,_*=4294967296;return new o(y,0)}function h(D,y){if(D.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(D.charAt(0)=="-")return R(h(D.substring(1),y));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(y,8)),E=p,T=0;T<D.length;T+=8){var C=Math.min(8,D.length-T),I=parseInt(D.substring(T,T+C),y);8>C?(C=l(Math.pow(y,C)),E=E.j(C).add(l(I))):(E=E.j(_),E=E.add(l(I)))}return E}var p=u(0),m=u(1),v=u(16777216);t=o.prototype,t.m=function(){if(M(this))return-R(this).m();for(var D=0,y=1,_=0;_<this.g.length;_++){var E=this.i(_);D+=(0<=E?E:4294967296+E)*y,y*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(A(this))return"0";if(M(this))return"-"+R(this).toString(D);for(var y=l(Math.pow(D,6)),_=this,E="";;){var T=de(_,y).g;_=F(_,T.j(y));var C=((0<_.g.length?_.g[0]:_.h)>>>0).toString(D);if(_=T,A(_))return C+E;for(;6>C.length;)C="0"+C;E=C+E}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function A(D){if(D.h!=0)return!1;for(var y=0;y<D.g.length;y++)if(D.g[y]!=0)return!1;return!0}function M(D){return D.h==-1}t.l=function(D){return D=F(this,D),M(D)?-1:A(D)?0:1};function R(D){for(var y=D.g.length,_=[],E=0;E<y;E++)_[E]=~D.g[E];return new o(_,~D.h).add(m)}t.abs=function(){return M(this)?R(this):this},t.add=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0,T=0;T<=y;T++){var C=E+(this.i(T)&65535)+(D.i(T)&65535),I=(C>>>16)+(this.i(T)>>>16)+(D.i(T)>>>16);E=I>>>16,C&=65535,I&=65535,_[T]=I<<16|C}return new o(_,_[_.length-1]&-2147483648?-1:0)};function F(D,y){return D.add(R(y))}t.j=function(D){if(A(this)||A(D))return p;if(M(this))return M(D)?R(this).j(R(D)):R(R(this).j(D));if(M(D))return R(this.j(R(D)));if(0>this.l(v)&&0>D.l(v))return l(this.m()*D.m());for(var y=this.g.length+D.g.length,_=[],E=0;E<2*y;E++)_[E]=0;for(E=0;E<this.g.length;E++)for(var T=0;T<D.g.length;T++){var C=this.i(E)>>>16,I=this.i(E)&65535,kn=D.i(T)>>>16,No=D.i(T)&65535;_[2*E+2*T]+=I*No,Y(_,2*E+2*T),_[2*E+2*T+1]+=C*No,Y(_,2*E+2*T+1),_[2*E+2*T+1]+=I*kn,Y(_,2*E+2*T+1),_[2*E+2*T+2]+=C*kn,Y(_,2*E+2*T+2)}for(E=0;E<y;E++)_[E]=_[2*E+1]<<16|_[2*E];for(E=y;E<2*y;E++)_[E]=0;return new o(_,0)};function Y(D,y){for(;(D[y]&65535)!=D[y];)D[y+1]+=D[y]>>>16,D[y]&=65535,y++}function z(D,y){this.g=D,this.h=y}function de(D,y){if(A(y))throw Error("division by zero");if(A(D))return new z(p,p);if(M(D))return y=de(R(D),y),new z(R(y.g),R(y.h));if(M(y))return y=de(D,R(y)),new z(R(y.g),y.h);if(30<D.g.length){if(M(D)||M(y))throw Error("slowDivide_ only works with positive integers.");for(var _=m,E=y;0>=E.l(D);)_=Ae(_),E=Ae(E);var T=te(_,1),C=te(E,1);for(E=te(E,2),_=te(_,2);!A(E);){var I=C.add(E);0>=I.l(D)&&(T=T.add(_),C=I),E=te(E,1),_=te(_,1)}return y=F(D,T.j(y)),new z(T,y)}for(T=p;0<=D.l(y);){for(_=Math.max(1,Math.floor(D.m()/y.m())),E=Math.ceil(Math.log(_)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),C=l(_),I=C.j(y);M(I)||0<I.l(D);)_-=E,C=l(_),I=C.j(y);A(C)&&(C=m),T=T.add(C),D=F(D,I)}return new z(T,D)}t.A=function(D){return de(this,D).h},t.and=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)&D.i(E);return new o(_,this.h&D.h)},t.or=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)|D.i(E);return new o(_,this.h|D.h)},t.xor=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)^D.i(E);return new o(_,this.h^D.h)};function Ae(D){for(var y=D.g.length+1,_=[],E=0;E<y;E++)_[E]=D.i(E)<<1|D.i(E-1)>>>31;return new o(_,D.h)}function te(D,y){var _=y>>5;y%=32;for(var E=D.g.length-_,T=[],C=0;C<E;C++)T[C]=0<y?D.i(C+_)>>>y|D.i(C+_+1)<<32-y:D.i(C+_);return new o(T,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,rv=sA.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=h,Jr=sA.Integer=o}).apply(typeof iA<"u"?iA:typeof self<"u"?self:typeof window<"u"?window:{});var Nd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},dr={};var iv,sv,no,ov,lc,xd,av,cv,uv;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nd=="object"&&Nd];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var b=c[g];if(!(b in f))break e;f=f[b]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function s(c,d){c instanceof String&&(c+="");var f=0,g=!1,b={next:function(){if(!g&&f<c.length){var S=f++;return{value:d(S,c[S]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(c){return c||function(){return s(this,function(d,f){return f})}});var o=o||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),c.apply(d,b)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function v(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function A(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,b,S){for(var P=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)P[Ie-2]=arguments[Ie];return d.prototype[b].apply(g,P)}}function M(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let b=c.length||0,S=g.length||0;c.length=b+S;for(let P=0;P<S;P++)c[b+P]=g[P]}else c.push(g)}}class F{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function Y(c){return/^[\s\xa0]*$/.test(c)}function z(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function de(c){return de[" "](c),c}de[" "]=function(){};var Ae=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function te(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function D(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function y(c){let d={};for(let f in c)d[f]=c[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(c,d){let f,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(f in g)c[f]=g[f];for(let S=0;S<_.length;S++)f=_[S],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function T(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function C(c){a.setTimeout(()=>{throw c},0)}function I(){var c=jh;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class kn{constructor(){this.h=this.g=null}add(d,f){let g=No.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var No=new F(()=>new $R,c=>c.reset());class $R{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let xo,Po=!1,jh=new kn,xI=()=>{let c=a.Promise.resolve(void 0);xo=()=>{c.then(HR)}};var HR=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){C(f)}var d=No;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Po=!1};function gr(){this.s=this.s,this.C=this.C}gr.prototype.s=!1,gr.prototype.ma=function(){this.s||(this.s=!0,this.N())},gr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function et(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var qR=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Oo(c,d){if(et.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Ae){e:{try{de(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:zR[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Oo.aa.h.call(this)}}A(Oo,et);var zR={2:"touch",3:"pen",4:"mouse"};Oo.prototype.h=function(){Oo.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ko="closure_listenable_"+(1e6*Math.random()|0),GR=0;function WR(c,d,f,g,b){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=b,this.key=++GR,this.da=this.fa=!1}function Fc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Lc(c){this.src=c,this.g={},this.h=0}Lc.prototype.add=function(c,d,f,g,b){var S=c.toString();c=this.g[S],c||(c=this.g[S]=[],this.h++);var P=Bh(c,d,g,b);return-1<P?(d=c[P],f||(d.fa=!1)):(d=new WR(d,this.src,S,!!g,b),d.fa=f,c.push(d)),d};function Uh(c,d){var f=d.type;if(f in c.g){var g=c.g[f],b=Array.prototype.indexOf.call(g,d,void 0),S;(S=0<=b)&&Array.prototype.splice.call(g,b,1),S&&(Fc(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Bh(c,d,f,g){for(var b=0;b<c.length;++b){var S=c[b];if(!S.da&&S.listener==d&&S.capture==!!f&&S.ha==g)return b}return-1}var $h="closure_lm_"+(1e6*Math.random()|0),Hh={};function PI(c,d,f,g,b){if(g&&g.once)return kI(c,d,f,g,b);if(Array.isArray(d)){for(var S=0;S<d.length;S++)PI(c,d[S],f,g,b);return null}return f=Wh(f),c&&c[ko]?c.K(d,f,l(g)?!!g.capture:!!g,b):OI(c,d,f,!1,g,b)}function OI(c,d,f,g,b,S){if(!d)throw Error("Invalid event type");var P=l(b)?!!b.capture:!!b,Ie=zh(c);if(Ie||(c[$h]=Ie=new Lc(c)),f=Ie.add(d,f,g,P,S),f.proxy)return f;if(g=KR(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)qR||(b=P),b===void 0&&(b=!1),c.addEventListener(d.toString(),g,b);else if(c.attachEvent)c.attachEvent(LI(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function KR(){function c(f){return d.call(c.src,c.listener,f)}let d=QR;return c}function kI(c,d,f,g,b){if(Array.isArray(d)){for(var S=0;S<d.length;S++)kI(c,d[S],f,g,b);return null}return f=Wh(f),c&&c[ko]?c.L(d,f,l(g)?!!g.capture:!!g,b):OI(c,d,f,!0,g,b)}function FI(c,d,f,g,b){if(Array.isArray(d))for(var S=0;S<d.length;S++)FI(c,d[S],f,g,b);else g=l(g)?!!g.capture:!!g,f=Wh(f),c&&c[ko]?(c=c.i,d=String(d).toString(),d in c.g&&(S=c.g[d],f=Bh(S,f,g,b),-1<f&&(Fc(S[f]),Array.prototype.splice.call(S,f,1),S.length==0&&(delete c.g[d],c.h--)))):c&&(c=zh(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Bh(d,f,g,b)),(f=-1<c?d[c]:null)&&qh(f))}function qh(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[ko])Uh(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(LI(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=zh(d))?(Uh(f,c),f.h==0&&(f.src=null,d[$h]=null)):Fc(c)}}}function LI(c){return c in Hh?Hh[c]:Hh[c]="on"+c}function QR(c,d){if(c.da)c=!0;else{d=new Oo(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&qh(c),c=f.call(g,d)}return c}function zh(c){return c=c[$h],c instanceof Lc?c:null}var Gh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wh(c){return typeof c=="function"?c:(c[Gh]||(c[Gh]=function(d){return c.handleEvent(d)}),c[Gh])}function tt(){gr.call(this),this.i=new Lc(this),this.M=this,this.F=null}A(tt,gr),tt.prototype[ko]=!0,tt.prototype.removeEventListener=function(c,d,f,g){FI(this,c,d,f,g)};function lt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new et(d,c);else if(d instanceof et)d.target=d.target||c;else{var b=d;d=new et(g,c),E(d,b)}if(b=!0,f)for(var S=f.length-1;0<=S;S--){var P=d.g=f[S];b=Vc(P,g,!0,d)&&b}if(P=d.g=c,b=Vc(P,g,!0,d)&&b,b=Vc(P,g,!1,d)&&b,f)for(S=0;S<f.length;S++)P=d.g=f[S],b=Vc(P,g,!1,d)&&b}tt.prototype.N=function(){if(tt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Fc(f[g]);delete c.g[d],c.h--}}this.F=null},tt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},tt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Vc(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,S=0;S<d.length;++S){var P=d[S];if(P&&!P.da&&P.capture==f){var Ie=P.listener,Ye=P.ha||P.src;P.fa&&Uh(c.i,P),b=Ie.call(Ye,g)!==!1&&b}}return b&&!g.defaultPrevented}function VI(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function jI(c){c.g=VI(()=>{c.g=null,c.i&&(c.i=!1,jI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class YR extends gr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:jI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fo(c){gr.call(this),this.h=c,this.g={}}A(Fo,gr);var UI=[];function BI(c){te(c.g,function(d,f){this.g.hasOwnProperty(f)&&qh(d)},c),c.g={}}Fo.prototype.N=function(){Fo.aa.N.call(this),BI(this)},Fo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kh=a.JSON.stringify,JR=a.JSON.parse,ZR=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Qh(){}Qh.prototype.h=null;function $I(c){return c.h||(c.h=c.i())}function HI(){}var Lo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yh(){et.call(this,"d")}A(Yh,et);function Jh(){et.call(this,"c")}A(Jh,et);var ri={},qI=null;function jc(){return qI=qI||new tt}ri.La="serverreachability";function zI(c){et.call(this,ri.La,c)}A(zI,et);function Vo(c){let d=jc();lt(d,new zI(d))}ri.STAT_EVENT="statevent";function GI(c,d){et.call(this,ri.STAT_EVENT,c),this.stat=d}A(GI,et);function dt(c){let d=jc();lt(d,new GI(d,c))}ri.Ma="timingevent";function WI(c,d){et.call(this,ri.Ma,c),this.size=d}A(WI,et);function jo(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Uo(){this.g=!0}Uo.prototype.xa=function(){this.g=!1};function XR(c,d,f,g,b,S){c.info(function(){if(c.g)if(S)for(var P="",Ie=S.split("&"),Ye=0;Ye<Ie.length;Ye++){var ye=Ie[Ye].split("=");if(1<ye.length){var nt=ye[0];ye=ye[1];var rt=nt.split("_");P=2<=rt.length&&rt[1]=="type"?P+(nt+"="+ye+"&"):P+(nt+"=redacted&")}}else P=null;else P=S;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+f+`
`+P})}function eM(c,d,f,g,b,S,P){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+f+`
`+S+" "+P})}function Xi(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+nM(c,f)+(g?" "+g:"")})}function tM(c,d){c.info(function(){return"TIMEOUT: "+d})}Uo.prototype.info=function(){};function nM(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var S=b[0];if(S!="noop"&&S!="stop"&&S!="close")for(var P=1;P<b.length;P++)b[P]=""}}}}return Kh(f)}catch{return d}}var Uc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},KI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zh;function Bc(){}A(Bc,Qh),Bc.prototype.g=function(){return new XMLHttpRequest},Bc.prototype.i=function(){return{}},Zh=new Bc;function mr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Fo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new QI}function QI(){this.i=null,this.g="",this.h=!1}var YI={},Xh={};function ef(c,d,f){c.L=1,c.v=zc(Fn(d)),c.m=f,c.P=!0,JI(c,null)}function JI(c,d){c.F=Date.now(),$c(c),c.A=Fn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),dw(f.i,"t",g),c.C=0,f=c.j.J,c.h=new QI,c.g=Rw(c.j,f?d:null,!c.m),0<c.O&&(c.M=new YR(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var b="readystatechange";Array.isArray(b)||(b&&(UI[0]=b.toString()),b=UI);for(var S=0;S<b.length;S++){var P=PI(f,b[S],g||d.handleEvent,!1,d.h||d);if(!P)break;d.g[P.key]=P}d=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Vo(),XR(c.i,c.u,c.A,c.l,c.R,c.m)}mr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Ln(c)==3?d.j():this.Y(c)},mr.prototype.Y=function(c){try{if(c==this.g)e:{let rt=Ln(this.g);var d=this.g.Ba();let ns=this.g.Z();if(!(3>rt)&&(rt!=3||this.g&&(this.h.h||this.g.oa()||vw(this.g)))){this.J||rt!=4||d==7||(d==8||0>=ns?Vo(3):Vo(2)),tf(this);var f=this.g.Z();this.X=f;t:if(ZI(this)){var g=vw(this.g);c="";var b=g.length,S=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ii(this),Bo(this);var P="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(S&&d==b-1)});g.length=0,this.h.g+=c,this.C=0,P=this.h.g}else P=this.g.oa();if(this.o=f==200,eM(this.i,this.u,this.A,this.l,this.R,rt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ie,Ye=this.g;if((Ie=Ye.g?Ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(Ie)){var ye=Ie;break t}}ye=null}if(f=ye)Xi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nf(this,f);else{this.o=!1,this.s=3,dt(12),ii(this),Bo(this);break e}}if(this.P){f=!0;let Kt;for(;!this.J&&this.C<P.length;)if(Kt=rM(this,P),Kt==Xh){rt==4&&(this.s=4,dt(14),f=!1),Xi(this.i,this.l,null,"[Incomplete Response]");break}else if(Kt==YI){this.s=4,dt(15),Xi(this.i,this.l,P,"[Invalid Chunk]"),f=!1;break}else Xi(this.i,this.l,Kt,null),nf(this,Kt);if(ZI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rt!=4||P.length!=0||this.h.h||(this.s=1,dt(16),f=!1),this.o=this.o&&f,!f)Xi(this.i,this.l,P,"[Invalid Chunked Response]"),ii(this),Bo(this);else if(0<P.length&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.ba&&!nt.M&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),uf(nt),nt.M=!0,dt(11))}}else Xi(this.i,this.l,P,null),nf(this,P);rt==4&&ii(this),this.o&&!this.J&&(rt==4?bw(this.j,this):(this.o=!1,$c(this)))}else IM(this.g),f==400&&0<P.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),ii(this),Bo(this)}}}catch{}finally{}};function ZI(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function rM(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?Xh:(f=Number(d.substring(f,g)),isNaN(f)?YI:(g+=1,g+f>d.length?Xh:(d=d.slice(g,g+f),c.C=g+f,d)))}mr.prototype.cancel=function(){this.J=!0,ii(this)};function $c(c){c.S=Date.now()+c.I,XI(c,c.I)}function XI(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=jo(m(c.ba,c),d)}function tf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}mr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(tM(this.i,this.A),this.L!=2&&(Vo(),dt(17)),ii(this),this.s=2,Bo(this)):XI(this,this.S-c)};function Bo(c){c.j.G==0||c.J||bw(c.j,c)}function ii(c){tf(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,BI(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function nf(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||rf(f.h,c))){if(!c.K&&rf(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Yc(f),Kc(f);else break e;cf(f),dt(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=jo(m(f.Za,f),6e3));if(1>=nw(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else oi(f,11)}else if((c.K||f.g==c)&&Yc(f),!Y(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let ye=b[d];if(f.T=ye[0],ye=ye[1],f.G==2)if(ye[0]=="c"){f.K=ye[1],f.ia=ye[2];let nt=ye[3];nt!=null&&(f.la=nt,f.j.info("VER="+f.la));let rt=ye[4];rt!=null&&(f.Aa=rt,f.j.info("SVER="+f.Aa));let ns=ye[5];ns!=null&&typeof ns=="number"&&0<ns&&(g=1.5*ns,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Kt=c.g;if(Kt){let Zc=Kt.g?Kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zc){var S=g.h;S.g||Zc.indexOf("spdy")==-1&&Zc.indexOf("quic")==-1&&Zc.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(sf(S,S.h),S.h=null))}if(g.D){let lf=Kt.g?Kt.g.getResponseHeader("X-HTTP-Session-Id"):null;lf&&(g.ya=lf,De(g.I,g.D,lf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var P=c;if(g.qa=Sw(g,g.J?g.ia:null,g.W),P.K){rw(g.h,P);var Ie=P,Ye=g.L;Ye&&(Ie.I=Ye),Ie.B&&(tf(Ie),$c(Ie)),g.g=P}else Dw(g);0<f.i.length&&Qc(f)}else ye[0]!="stop"&&ye[0]!="close"||oi(f,7);else f.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?oi(f,7):af(f):ye[0]!="noop"&&f.l&&f.l.ta(ye),f.v=0)}}Vo(4)}catch{}}var iM=class{constructor(c,d){this.g=c,this.map=d}};function ew(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function tw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function nw(c){return c.h?1:c.g?c.g.size:0}function rf(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function sf(c,d){c.g?c.g.add(d):c.h=d}function rw(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}ew.prototype.cancel=function(){if(this.i=iw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function iw(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return M(c.i)}function sM(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function oM(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function sw(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=oM(c),g=sM(c),b=g.length,S=0;S<b;S++)d.call(void 0,g[S],f&&f[S],c)}var ow=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aM(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),b=null;if(0<=g){var S=c[f].substring(0,g);b=c[f].substring(g+1)}else S=c[f];d(S,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function si(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof si){this.h=c.h,Hc(this,c.j),this.o=c.o,this.g=c.g,qc(this,c.s),this.l=c.l;var d=c.i,f=new qo;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),aw(this,f),this.m=c.m}else c&&(d=String(c).match(ow))?(this.h=!1,Hc(this,d[1]||"",!0),this.o=$o(d[2]||""),this.g=$o(d[3]||"",!0),qc(this,d[4]),this.l=$o(d[5]||"",!0),aw(this,d[6]||"",!0),this.m=$o(d[7]||"")):(this.h=!1,this.i=new qo(null,this.h))}si.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Ho(d,cw,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Ho(d,cw,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Ho(f,f.charAt(0)=="/"?lM:uM,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Ho(f,hM)),c.join("")};function Fn(c){return new si(c)}function Hc(c,d,f){c.j=f?$o(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function qc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function aw(c,d,f){d instanceof qo?(c.i=d,fM(c.i,c.h)):(f||(d=Ho(d,dM)),c.i=new qo(d,c.h))}function De(c,d,f){c.i.set(d,f)}function zc(c){return De(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function $o(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ho(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,cM),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function cM(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var cw=/[#\/\?@]/g,uM=/[#\?:]/g,lM=/[#\?]/g,dM=/[#\?@]/g,hM=/#/g;function qo(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function yr(c){c.g||(c.g=new Map,c.h=0,c.i&&aM(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=qo.prototype,t.add=function(c,d){yr(this),this.i=null,c=es(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function uw(c,d){yr(c),d=es(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function lw(c,d){return yr(c),d=es(c,d),c.g.has(d)}t.forEach=function(c,d){yr(this),this.g.forEach(function(f,g){f.forEach(function(b){c.call(d,b,g,this)},this)},this)},t.na=function(){yr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let b=c[g];for(let S=0;S<b.length;S++)f.push(d[g])}return f},t.V=function(c){yr(this);let d=[];if(typeof c=="string")lw(this,c)&&(d=d.concat(this.g.get(es(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return yr(this),this.i=null,c=es(this,c),lw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function dw(c,d,f){uw(c,d),0<f.length&&(c.i=null,c.g.set(es(c,d),M(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let S=encodeURIComponent(String(g)),P=this.V(g);for(g=0;g<P.length;g++){var b=S;P[g]!==""&&(b+="="+encodeURIComponent(String(P[g]))),c.push(b)}}return this.i=c.join("&")};function es(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function fM(c,d){d&&!c.j&&(yr(c),c.i=null,c.g.forEach(function(f,g){var b=g.toLowerCase();g!=b&&(uw(this,g),dw(this,b,f))},c)),c.j=d}function pM(c,d){let f=new Uo;if(a.Image){let g=new Image;g.onload=v(vr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=v(vr,f,"TestLoadImage: error",!1,d,g),g.onabort=v(vr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=v(vr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function gM(c,d){let f=new Uo,g=new AbortController,b=setTimeout(()=>{g.abort(),vr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(S=>{clearTimeout(b),S.ok?vr(f,"TestPingServer: ok",!0,d):vr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),vr(f,"TestPingServer: error",!1,d)})}function vr(c,d,f,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(f)}catch{}}function mM(){this.g=new ZR}function yM(c,d,f){let g=f||"";try{sw(c,function(b,S){let P=b;l(b)&&(P=Kh(b)),d.push(g+S+"="+encodeURIComponent(P))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function zo(c){this.l=c.Ub||null,this.j=c.eb||!1}A(zo,Qh),zo.prototype.g=function(){return new Gc(this.l,this.j)},zo.prototype.i=function(c){return function(){return c}}({});function Gc(c,d){tt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Gc,tt),t=Gc.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Wo(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Go(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Wo(this)),this.g&&(this.readyState=3,Wo(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hw(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function hw(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Go(this):Wo(this),this.readyState==3&&hw(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Go(this))},t.Qa=function(c){this.g&&(this.response=c,Go(this))},t.ga=function(){this.g&&Go(this)};function Go(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Wo(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Wo(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Gc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function fw(c){let d="";return te(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function of(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=fw(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):De(c,d,f))}function Se(c){tt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Se,tt);var vM=/^https?$/i,_M=["POST","PUT"];t=Se.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zh.g(),this.v=this.o?$I(this.o):$I(Zh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(S){pw(this,S);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)f.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let S of g.keys())f.set(S,g.get(S));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(S=>S.toLowerCase()=="content-type"),b=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(_M,d,void 0))||g||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,P]of f)this.g.setRequestHeader(S,P);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{yw(this),this.u=!0,this.g.send(c),this.u=!1}catch(S){pw(this,S)}};function pw(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,gw(c),Wc(c)}function gw(c){c.A||(c.A=!0,lt(c,"complete"),lt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,lt(this,"complete"),lt(this,"abort"),Wc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wc(this,!0)),Se.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?mw(this):this.bb())},t.bb=function(){mw(this)};function mw(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Ln(c)!=4||c.Z()!=2)){if(c.u&&Ln(c)==4)VI(c.Ea,0,c);else if(lt(c,"readystatechange"),Ln(c)==4){c.h=!1;try{let P=c.Z();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=P===0){var b=String(c.D).match(ow)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),g=!vM.test(b?b.toLowerCase():"")}f=g}if(f)lt(c,"complete"),lt(c,"success");else{c.m=6;try{var S=2<Ln(c)?c.g.statusText:""}catch{S=""}c.l=S+" ["+c.Z()+"]",gw(c)}}finally{Wc(c)}}}}function Wc(c,d){if(c.g){yw(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||lt(c,"ready");try{f.onreadystatechange=g}catch{}}}function yw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Ln(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),JR(d)}};function vw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function IM(c){let d={};c=(c.g&&2<=Ln(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(Y(c[g]))continue;var f=T(c[g]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let S=d[b]||[];d[b]=S,S.push(f)}D(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ko(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function _w(c){this.Aa=0,this.i=[],this.j=new Uo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ko("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ko("baseRetryDelayMs",5e3,c),this.cb=Ko("retryDelaySeedMs",1e4,c),this.Wa=Ko("forwardChannelMaxRetries",2,c),this.wa=Ko("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ew(c&&c.concurrentRequestLimit),this.Da=new mM,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=_w.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){dt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=Sw(this,null,this.W),Qc(this)};function af(c){if(Iw(c),c.G==3){var d=c.U++,f=Fn(c.I);if(De(f,"SID",c.K),De(f,"RID",d),De(f,"TYPE","terminate"),Qo(c,f),d=new mr(c,c.j,d),d.L=2,d.v=zc(Fn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=Rw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),$c(d)}Aw(c)}function Kc(c){c.g&&(uf(c),c.g.cancel(),c.g=null)}function Iw(c){Kc(c),c.u&&(a.clearTimeout(c.u),c.u=null),Yc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Qc(c){if(!tw(c.h)&&!c.s){c.s=!0;var d=c.Ga;xo||xI(),Po||(xo(),Po=!0),jh.add(d,c),c.B=0}}function wM(c,d){return nw(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=jo(m(c.Ga,c,d),Cw(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let b=new mr(this,this.j,c),S=this.o;if(this.S&&(S?(S=y(S),E(S,this.S)):S=this.S),this.m!==null||this.O||(b.H=S,S=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=Ew(this,b,d),f=Fn(this.I),De(f,"RID",c),De(f,"CVER",22),this.D&&De(f,"X-HTTP-Session-Id",this.D),Qo(this,f),S&&(this.O?d="headers="+encodeURIComponent(String(fw(S)))+"&"+d:this.m&&of(f,this.m,S)),sf(this.h,b),this.Ua&&De(f,"TYPE","init"),this.P?(De(f,"$req",d),De(f,"SID","null"),b.T=!0,ef(b,f,null)):ef(b,f,d),this.G=2}}else this.G==3&&(c?ww(this,c):this.i.length==0||tw(this.h)||ww(this))};function ww(c,d){var f;d?f=d.l:f=c.U++;let g=Fn(c.I);De(g,"SID",c.K),De(g,"RID",f),De(g,"AID",c.T),Qo(c,g),c.m&&c.o&&of(g,c.m,c.o),f=new mr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=Ew(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),sf(c.h,f),ef(f,g,d)}function Qo(c,d){c.H&&te(c.H,function(f,g){De(d,g,f)}),c.l&&sw({},function(f,g){De(d,g,f)})}function Ew(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var b=c.i;let S=-1;for(;;){let P=["count="+f];S==-1?0<f?(S=b[0].g,P.push("ofs="+S)):S=0:P.push("ofs="+S);let Ie=!0;for(let Ye=0;Ye<f;Ye++){let ye=b[Ye].g,nt=b[Ye].map;if(ye-=S,0>ye)S=Math.max(0,b[Ye].g-100),Ie=!1;else try{yM(nt,P,"req"+ye+"_")}catch{g&&g(nt)}}if(Ie){g=P.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function Dw(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;xo||xI(),Po||(xo(),Po=!0),jh.add(d,c),c.v=0}}function cf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=jo(m(c.Fa,c),Cw(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Tw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=jo(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),Kc(this),Tw(this))};function uf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Tw(c){c.g=new mr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Fn(c.qa);De(d,"RID","rpc"),De(d,"SID",c.K),De(d,"AID",c.T),De(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&De(d,"TO",c.ja),De(d,"TYPE","xmlhttp"),Qo(c,d),c.m&&c.o&&of(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=zc(Fn(d)),f.m=null,f.P=!0,JI(f,c)}t.Za=function(){this.C!=null&&(this.C=null,Kc(this),cf(this),dt(19))};function Yc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function bw(c,d){var f=null;if(c.g==d){Yc(c),uf(c),c.g=null;var g=2}else if(rf(c.h,d))f=d.D,rw(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=c.B;g=jc(),lt(g,new WI(g,f)),Qc(c)}else Dw(c);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&wM(c,d)||g==2&&cf(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),b){case 1:oi(c,5);break;case 4:oi(c,10);break;case 3:oi(c,6);break;default:oi(c,2)}}}function Cw(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function oi(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let b=!g;g=new si(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Hc(g,"https"),zc(g),b?pM(g.toString(),f):gM(g.toString(),f)}else dt(2);c.G=0,c.l&&c.l.sa(d),Aw(c),Iw(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function Aw(c){if(c.G=0,c.ka=[],c.l){let d=iw(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function Sw(c,d,f){var g=f instanceof si?Fn(f):new si(f);if(g.g!="")d&&(g.g=d+"."+g.g),qc(g,g.s);else{var b=a.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var S=new si(null);g&&Hc(S,g),d&&(S.g=d),b&&qc(S,b),f&&(S.l=f),g=S}return f=c.D,d=c.ya,f&&d&&De(g,f,d),De(g,"VER",c.la),Qo(c,g),g}function Rw(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Se(new zo({eb:f})):new Se(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mw(){}t=Mw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Jc(){}Jc.prototype.g=function(c,d){return new Ct(c,d)};function Ct(c,d){tt.call(this),this.g=new _w(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!Y(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!Y(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new ts(this)}A(Ct,tt),Ct.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ct.prototype.close=function(){af(this.g)},Ct.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Kh(c),c=f);d.i.push(new iM(d.Ya++,c)),d.G==3&&Qc(d)},Ct.prototype.N=function(){this.g.l=null,delete this.j,af(this.g),delete this.g,Ct.aa.N.call(this)};function Nw(c){Yh.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}A(Nw,Yh);function xw(){Jh.call(this),this.status=1}A(xw,Jh);function ts(c){this.g=c}A(ts,Mw),ts.prototype.ua=function(){lt(this.g,"a")},ts.prototype.ta=function(c){lt(this.g,new Nw(c))},ts.prototype.sa=function(c){lt(this.g,new xw)},ts.prototype.ra=function(){lt(this.g,"b")},Jc.prototype.createWebChannel=Jc.prototype.g,Ct.prototype.send=Ct.prototype.o,Ct.prototype.open=Ct.prototype.m,Ct.prototype.close=Ct.prototype.close,uv=dr.createWebChannelTransport=function(){return new Jc},cv=dr.getStatEventTarget=function(){return jc()},av=dr.Event=ri,xd=dr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Uc.NO_ERROR=0,Uc.TIMEOUT=8,Uc.HTTP_ERROR=6,lc=dr.ErrorCode=Uc,KI.COMPLETE="complete",ov=dr.EventType=KI,HI.EventType=Lo,Lo.OPEN="a",Lo.CLOSE="b",Lo.ERROR="c",Lo.MESSAGE="d",tt.prototype.listen=tt.prototype.K,no=dr.WebChannel=HI,sv=dr.FetchXmlHttpFactory=zo,Se.prototype.listenOnce=Se.prototype.L,Se.prototype.getLastError=Se.prototype.Ka,Se.prototype.getLastErrorCode=Se.prototype.Ba,Se.prototype.getStatus=Se.prototype.Z,Se.prototype.getResponseJson=Se.prototype.Oa,Se.prototype.getResponseText=Se.prototype.oa,Se.prototype.send=Se.prototype.ea,Se.prototype.setWithCredentials=Se.prototype.Ha,iv=dr.XhrIo=Se}).apply(typeof Nd<"u"?Nd:typeof self<"u"?self:typeof window<"u"?window:{});var oA="@firebase/firestore";var Qe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");var To="10.12.1";var Bi=new Hr("@firebase/firestore");function dc(){return Bi.logLevel}function L(t,...e){if(Bi.logLevel<=ue.DEBUG){let n=e.map(z_);Bi.debug(`Firestore (${To}): ${t}`,...n)}}function hr(t,...e){if(Bi.logLevel<=ue.ERROR){let n=e.map(z_);Bi.error(`Firestore (${To}): ${t}`,...n)}}function uo(t,...e){if(Bi.logLevel<=ue.WARN){let n=e.map(z_);Bi.warn(`Firestore (${To}): ${t}`,...n)}}function z_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function K(t="Unexpected state"){let e=`FIRESTORE (${To}) INTERNAL ASSERTION FAILED: `+t;throw hr(e),new Error(e)}function Ee(t,e){t||K()}function X(t,e){return t}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},j=class extends Ft{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Cn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Ld=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},pv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qe.UNAUTHENTICATED))}shutdown(){}},gv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},mv=class{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new Cn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Cn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>w(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Cn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ee(typeof r.accessToken=="string"),new Ld(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Ee(e===null||typeof e=="string"),new Qe(e)}},yv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},vv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new yv(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},_v=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Iv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,L("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ee(typeof n.token=="string"),this.R=n.token,new _v(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function hB(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Vd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=hB(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function ve(t,e){return t<e?-1:t>e?1:0}function lo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Xe=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new j(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new j(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new j(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new j(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ee=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Xe(0,0))}static max(){return new t(new Xe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var jd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&K(),r===void 0?r=e.length-n:r>e.length-n&&K(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Ne=class t extends jd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new j(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},fB=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Vt=class t extends jd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return fB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new j(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new j(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new j(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new j(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var q=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ne.fromString(e))}static fromName(e){return new t(Ne.fromString(e).popFirst(5))}static empty(){return new t(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ne.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ne(e.slice()))}};var wv=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};wv.UNKNOWN_ID=-1;function pB(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ee.fromTimestamp(r===1e9?new Xe(n+1,0):new Xe(n,r));return new $i(i,q.empty(),e)}function gB(t){return new $i(t.readTime,t.key,-1)}var $i=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ee.min(),q.empty(),-1)}static max(){return new t(ee.max(),q.empty(),-1)}};function mB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=q.comparator(t.documentKey,e.documentKey),n!==0?n:ve(t.largestBatchId,e.largestBatchId))}var yB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ev=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Sc(t){return w(this,null,function*(){if(t.code!==N.FAILED_PRECONDITION||t.message!==yB)throw t;L("LocalStore","Unexpectedly lost primary lease")})}var x=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&K(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(h=>{o[l]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function vB(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Rc(t){return t.name==="IndexedDbTransactionError"}var kA=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function mh(t){return t==null}function yc(t){return t===0&&1/t==-1/0}function _B(t){return typeof t=="number"&&Number.isInteger(t)&&!yc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var IB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],uK=[...IB,"documentOverlays"],wB=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],EB=wB,lK=[...EB,"indexConfiguration","indexState","indexEntries"];function aA(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wi(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function FA(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var xe=class t{constructor(e,n){this.comparator=e,this.root=n||An.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,An.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,An.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oo(this.root,e,this.comparator,!1)}getReverseIterator(){return new oo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oo(this.root,e,this.comparator,!0)}},oo=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},An=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw K();let e=this.left.check();if(e!==this.right.check())throw K();return e+(this.isRed()?0:1)}};An.EMPTY=null,An.RED=!0,An.BLACK=!1;An.EMPTY=new class{constructor(){this.size=0}get key(){throw K()}get value(){throw K()}get color(){throw K()}get left(){throw K()}get right(){throw K()}copy(e,n,r,i,s){return this}insert(e,n,r){return new An(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ut=class t{constructor(e){this.comparator=e,this.data=new xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ud(this.data.getIterator())}getIteratorFrom(e){return new Ud(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Ud=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Gt=class t{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new t([])}unionWith(e){let n=new ut(Vt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return lo(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Bd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var wt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Bd("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};wt.EMPTY_BYTE_STRING=new wt("");var DB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fr(t){if(Ee(!!t),typeof t=="string"){let e=0,n=DB.exec(t);if(Ee(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Me(t.seconds),nanos:Me(t.nanos)}}function Me(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xr(t){return typeof t=="string"?wt.fromBase64String(t):wt.fromUint8Array(t)}function G_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function W_(t){let e=t.mapValue.fields.__previous_value__;return G_(e)?W_(e):e}function vc(t){let e=fr(t.mapValue.fields.__local_write_time__.timestampValue);return new Xe(e.seconds,e.nanos)}var Dv=class{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},$d=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Pd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Hi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?G_(t)?4:LA(t)?9007199254740991:10:K()}function Nn(t,e){if(t===e)return!0;let n=Hi(t);if(n!==Hi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vc(t).isEqual(vc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=fr(i.timestampValue),a=fr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Xr(i.bytesValue).isEqual(Xr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Me(i.geoPointValue.latitude)===Me(s.geoPointValue.latitude)&&Me(i.geoPointValue.longitude)===Me(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Me(i.integerValue)===Me(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Me(i.doubleValue),a=Me(s.doubleValue);return o===a?yc(o)===yc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return lo(t.arrayValue.values||[],e.arrayValue.values||[],Nn);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(aA(o)!==aA(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Nn(o[u],a[u])))return!1;return!0}(t,e);default:return K()}}function _c(t,e){return(t.values||[]).find(n=>Nn(n,e))!==void 0}function ho(t,e){if(t===e)return 0;let n=Hi(t),r=Hi(e);if(n!==r)return ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ve(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Me(s.integerValue||s.doubleValue),u=Me(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return cA(t.timestampValue,e.timestampValue);case 4:return cA(vc(t),vc(e));case 5:return ve(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Xr(s),u=Xr(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=ve(a[l],u[l]);if(h!==0)return h}return ve(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=ve(Me(s.latitude),Me(o.latitude));return a!==0?a:ve(Me(s.longitude),Me(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],u=o.values||[];for(let l=0;l<a.length&&l<u.length;++l){let h=ho(a[l],u[l]);if(h)return h}return ve(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Pd.mapValue&&o===Pd.mapValue)return 0;if(s===Pd.mapValue)return 1;if(o===Pd.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),l=o.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=ve(u[p],h[p]);if(m!==0)return m;let v=ho(a[u[p]],l[h[p]]);if(v!==0)return v}return ve(u.length,h.length)}(t.mapValue,e.mapValue);default:throw K()}}function cA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ve(t,e);let n=fr(t),r=fr(e),i=ve(n.seconds,r.seconds);return i!==0?i:ve(n.nanos,r.nanos)}function fo(t){return Tv(t)}function Tv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=fr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Xr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Tv(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Tv(n.fields[o])}`;return i+"}"}(t.mapValue):K()}function bv(t){return!!t&&"integerValue"in t}function K_(t){return!!t&&"arrayValue"in t}function uA(t){return!!t&&"nullValue"in t}function lA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function kd(t){return!!t&&"mapValue"in t}function fc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Wi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=fc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function LA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Lt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!kd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fc(n)}setAll(e){let n=Vt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=fc(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());kd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Nn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];kd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Wi(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(fc(this.value))}};function VA(t){let e=[];return Wi(t.fields,(n,r)=>{let i=new Vt([n]);if(kd(r)){let s=VA(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Gt(e)}var on=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ee.min(),ee.min(),ee.min(),Lt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ee.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ee.min(),ee.min(),Lt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ee.min(),ee.min(),Lt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Lt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Lt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var po=class{constructor(e,n){this.position=e,this.inclusive=n}};function dA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=q.comparator(q.fromName(o.referenceValue),n.key):r=ho(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function hA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Nn(t.position[n],e.position[n]))return!1;return!0}var go=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function TB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Hd=class{},ze=class t extends Hd{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Av(e,n,r):n==="array-contains"?new Mv(e,r):n==="in"?new Nv(e,r):n==="not-in"?new xv(e,r):n==="array-contains-any"?new Pv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Sv(e,r):new Rv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ho(n,this.value)):n!==null&&Hi(this.value)===Hi(n)&&this.matchesComparison(ho(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return K()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},xn=class t extends Hd{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return jA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function jA(t){return t.op==="and"}function UA(t){return bB(t)&&jA(t)}function bB(t){for(let e of t.filters)if(e instanceof xn)return!1;return!0}function Cv(t){if(t instanceof ze)return t.field.canonicalString()+t.op.toString()+fo(t.value);if(UA(t))return t.filters.map(e=>Cv(e)).join(",");{let e=t.filters.map(n=>Cv(n)).join(",");return`${t.op}(${e})`}}function BA(t,e){return t instanceof ze?function(r,i){return i instanceof ze&&r.op===i.op&&r.field.isEqual(i.field)&&Nn(r.value,i.value)}(t,e):t instanceof xn?function(r,i){return i instanceof xn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&BA(o,i.filters[a]),!0):!1}(t,e):void K()}function $A(t){return t instanceof ze?function(n){return`${n.field.canonicalString()} ${n.op} ${fo(n.value)}`}(t):t instanceof xn?function(n){return n.op.toString()+" {"+n.getFilters().map($A).join(" ,")+"}"}(t):"Filter"}var Av=class extends ze{constructor(e,n,r){super(e,n,r),this.key=q.fromName(r.referenceValue)}matches(e){let n=q.comparator(e.key,this.key);return this.matchesComparison(n)}},Sv=class extends ze{constructor(e,n){super(e,"in",n),this.keys=HA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Rv=class extends ze{constructor(e,n){super(e,"not-in",n),this.keys=HA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function HA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>q.fromName(r.referenceValue))}var Mv=class extends ze{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return K_(n)&&_c(n.arrayValue,this.value)}},Nv=class extends ze{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&_c(this.value.arrayValue,n)}},xv=class extends ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(_c(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!_c(this.value.arrayValue,n)}},Pv=class extends ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!K_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>_c(this.value.arrayValue,r))}};var Ov=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function fA(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Ov(t,e,n,r,i,s,o)}function Q_(t){let e=X(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Cv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),mh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>fo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>fo(r)).join(",")),e.ue=n}return e.ue}function Y_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!TB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!BA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!hA(t.startAt,e.startAt)&&hA(t.endAt,e.endAt)}function kv(t){return q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var mo=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function CB(t,e,n,r,i,s,o,a){return new mo(t,e,n,r,i,s,o,a)}function yh(t){return new mo(t)}function pA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function AB(t){return t.collectionGroup!==null}function pc(t){let e=X(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ut(Vt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new go(s,r))}),n.has(Vt.keyField().canonicalString())||e.ce.push(new go(Vt.keyField(),r))}return e.ce}function Sn(t){let e=X(t);return e.le||(e.le=SB(e,pc(t))),e.le}function SB(t,e){if(t.limitType==="F")return fA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new go(i.field,s)});let n=t.endAt?new po(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new po(t.startAt.position,t.startAt.inclusive):null;return fA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Fv(t,e,n){return new mo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function vh(t,e){return Y_(Sn(t),Sn(e))&&t.limitType===e.limitType}function qA(t){return`${Q_(Sn(t))}|lt:${t.limitType}`}function ro(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>$A(i)).join(", ")}]`),mh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>fo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>fo(i)).join(",")),`Target(${r})`}(Sn(t))}; limitType=${t.limitType})`}function _h(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):q.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of pc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let l=dA(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,pc(r),i)||r.endAt&&!function(o,a,u){let l=dA(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,pc(r),i))}(t,e)}function RB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function zA(t){return(e,n)=>{let r=!1;for(let i of pc(t)){let s=MB(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function MB(t,e,n){let r=t.field.isKeyField()?q.comparator(e.key,n.key):function(s,o,a){let u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?ho(u,l):K()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return K()}}var ei=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Wi(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return FA(this.inner)}size(){return this.innerSize}};var NB=new xe(q.comparator);function pr(){return NB}var GA=new xe(q.comparator);function hc(...t){let e=GA;for(let n of t)e=e.insert(n.key,n);return e}function WA(t){let e=GA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Vi(){return gc()}function KA(){return gc()}function gc(){return new ei(t=>t.toString(),(t,e)=>t.isEqual(e))}var xB=new xe(q.comparator),PB=new ut(q.comparator);function le(...t){let e=PB;for(let n of t)e=e.add(n);return e}var OB=new ut(ve);function kB(){return OB}function QA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yc(e)?"-0":e}}function YA(t){return{integerValue:""+t}}function FB(t,e){return _B(e)?YA(e):QA(t,e)}var yo=class{constructor(){this._=void 0}};function LB(t,e,n){return t instanceof vo?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&G_(s)&&(s=W_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof qi?ZA(t,e):t instanceof zi?XA(t,e):function(i,s){let o=JA(i,s),a=gA(o)+gA(i.Pe);return bv(o)&&bv(i.Pe)?YA(a):QA(i.serializer,a)}(t,e)}function VB(t,e,n){return t instanceof qi?ZA(t,e):t instanceof zi?XA(t,e):n}function JA(t,e){return t instanceof _o?function(r){return bv(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var vo=class extends yo{},qi=class extends yo{constructor(e){super(),this.elements=e}};function ZA(t,e){let n=eS(e);for(let r of t.elements)n.some(i=>Nn(i,r))||n.push(r);return{arrayValue:{values:n}}}var zi=class extends yo{constructor(e){super(),this.elements=e}};function XA(t,e){let n=eS(e);for(let r of t.elements)n=n.filter(i=>!Nn(i,r));return{arrayValue:{values:n}}}var _o=class extends yo{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function gA(t){return Me(t.integerValue||t.doubleValue)}function eS(t){return K_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function jB(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof qi&&i instanceof qi||r instanceof zi&&i instanceof zi?lo(r.elements,i.elements,Nn):r instanceof _o&&i instanceof _o?Nn(r.Pe,i.Pe):r instanceof vo&&i instanceof vo}(t.transform,e.transform)}var Lv=class{constructor(e,n){this.version=e,this.transformResults=n}},Rn=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Fd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Io=class{};function tS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ic(t.key,Rn.none()):new Gi(t.key,t.data,Rn.none());{let n=t.data,r=Lt.empty(),i=new ut(Vt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Pn(t.key,r,new Gt(i.toArray()),Rn.none())}}function UB(t,e,n){t instanceof Gi?function(i,s,o){let a=i.value.clone(),u=yA(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Pn?function(i,s,o){if(!Fd(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=yA(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(nS(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function mc(t,e,n,r){return t instanceof Gi?function(s,o,a,u){if(!Fd(s.precondition,o))return a;let l=s.value.clone(),h=vA(s.fieldTransforms,u,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Pn?function(s,o,a,u){if(!Fd(s.precondition,o))return a;let l=vA(s.fieldTransforms,u,o),h=o.data;return h.setAll(nS(s)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return Fd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function BB(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=JA(r.transform,i||null);s!=null&&(n===null&&(n=Lt.empty()),n.set(r.field,s))}return n||null}function mA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&lo(r,i,(s,o)=>jB(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Gi=class extends Io{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Pn=class extends Io{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function nS(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function yA(t,e,n){let r=new Map;Ee(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,VB(o,a,n[i]))}return r}function vA(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,LB(s,o,e))}return r}var Ic=class extends Io{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Vv=class extends Io{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var jv=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&UB(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=mc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=mc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=KA();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let u=tS(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),le())}isEqual(e){return this.batchId===e.batchId&&lo(this.mutations,e.mutations,(n,r)=>mA(n,r))&&lo(this.baseMutations,e.baseMutations,(n,r)=>mA(n,r))}},Uv=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ee(e.mutations.length===r.length);let i=function(){return xB}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var Bv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var $v=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var je,me;function $B(t){switch(t){default:return K();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function rS(t){if(t===void 0)return hr("GRPC error has no .code"),N.UNKNOWN;switch(t){case je.OK:return N.OK;case je.CANCELLED:return N.CANCELLED;case je.UNKNOWN:return N.UNKNOWN;case je.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case je.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case je.INTERNAL:return N.INTERNAL;case je.UNAVAILABLE:return N.UNAVAILABLE;case je.UNAUTHENTICATED:return N.UNAUTHENTICATED;case je.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case je.NOT_FOUND:return N.NOT_FOUND;case je.ALREADY_EXISTS:return N.ALREADY_EXISTS;case je.PERMISSION_DENIED:return N.PERMISSION_DENIED;case je.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case je.ABORTED:return N.ABORTED;case je.OUT_OF_RANGE:return N.OUT_OF_RANGE;case je.UNIMPLEMENTED:return N.UNIMPLEMENTED;case je.DATA_LOSS:return N.DATA_LOSS;default:return K()}}(me=je||(je={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";var _A=null;function HB(){return new TextEncoder}var qB=new Jr([4294967295,4294967295],0);function IA(t){let e=HB().encode(t),n=new rv;return n.update(e),new Uint8Array(n.digest())}function wA(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Jr([n,r],0),new Jr([i,s],0)]}var Hv=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ji(`Invalid padding: ${n}`);if(r<0)throw new ji(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ji(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ji(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Jr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Jr.fromNumber(r)));return i.compare(qB)===1&&(i=new Jr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=IA(e),[r,i]=wA(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=IA(e),[r,i]=wA(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},ji=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var qd=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,wc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ee.min(),i,new xe(ve),pr(),le())}},wc=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,le(),le(),le())}};var ao=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},zd=class{constructor(e,n){this.targetId=e,this.me=n}},Gd=class{constructor(e,n,r=wt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Wd=class{constructor(){this.fe=0,this.ge=DA(),this.pe=wt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=le(),n=le(),r=le();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:K()}}),new wc(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=DA()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ee(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},qv=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=pr(),this.qe=EA(),this.Qe=new xe(ve)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:K()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(kv(s))if(r===0){let o=new q(s.path);this.Ue(n,o,on.newNoDocument(o,ee.min()))}else Ee(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}_A?.et(function(h,p,m,v,A){var M,R,F,Y,z,de;let Ae={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},te=p.unchangedNames;return te&&(Ae.bloomFilter={applied:A===0,hashCount:(M=te?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(Y=(F=(R=te?.bits)===null||R===void 0?void 0:R.bitmap)===null||F===void 0?void 0:F.length)!==null&&Y!==void 0?Y:0,padding:(de=(z=te?.bits)===null||z===void 0?void 0:z.padding)!==null&&de!==void 0?de:0,mightContain:D=>{var y;return(y=v?.mightContain(D))!==null&&y!==void 0&&y}}),Ae}(o,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=Xr(r).toUint8Array()}catch(u){if(u instanceof Bd)return uo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Hv(o,i,s)}catch(u){return uo(u instanceof ji?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&kv(a.target)){let u=new q(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,on.newNoDocument(u,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=le();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new qd(e,n,this.Qe,this.ke,r);return this.ke=pr(),this.qe=EA(),this.Qe=new xe(ve),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Wd,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ut(ve),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||L("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Wd),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function EA(){return new xe(q.comparator)}function DA(){return new xe(q.comparator)}var zB={asc:"ASCENDING",desc:"DESCENDING"},GB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WB={and:"AND",or:"OR"},zv=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Gv(t,e){return t.useProto3Json||mh(e)?e:{value:e}}function Kd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function KB(t,e){return Kd(t,e.toTimestamp())}function Mn(t){return Ee(!!t),ee.fromTimestamp(function(n){let r=fr(n);return new Xe(r.seconds,r.nanos)}(t))}function J_(t,e){return Wv(t,e).canonicalString()}function Wv(t,e){let n=function(i){return new Ne(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function sS(t){let e=Ne.fromString(t);return Ee(lS(e)),e}function Kv(t,e){return J_(t.databaseId,e.path)}function lv(t,e){let n=sS(e);if(n.get(1)!==t.databaseId.projectId)throw new j(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new j(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new q(aS(n))}function oS(t,e){return J_(t.databaseId,e)}function QB(t){let e=sS(t);return e.length===4?Ne.emptyPath():aS(e)}function Qv(t){return new Ne(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function aS(t){return Ee(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function TA(t,e,n){return{name:Kv(t,e),fields:n.value.mapValue.fields}}function YB(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:K()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,h){return l.useProto3Json?(Ee(h===void 0||typeof h=="string"),wt.fromBase64String(h||"")):(Ee(h===void 0||h instanceof Buffer||h instanceof Uint8Array),wt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let h=l.code===void 0?N.UNKNOWN:rS(l.code);return new j(h,l.message||"")}(o);n=new Gd(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=lv(t,r.document.name),s=Mn(r.document.updateTime),o=r.document.createTime?Mn(r.document.createTime):ee.min(),a=new Lt({mapValue:{fields:r.document.fields}}),u=on.newFoundDocument(i,s,o,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new ao(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=lv(t,r.document),s=r.readTime?Mn(r.readTime):ee.min(),o=on.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ao([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=lv(t,r.document),s=r.removedTargetIds||[];n=new ao([],s,i,null)}else{if(!("filter"in e))return K();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new $v(i,s),a=r.targetId;n=new zd(a,o)}}return n}function JB(t,e){let n;if(e instanceof Gi)n={update:TA(t,e.key,e.value)};else if(e instanceof Ic)n={delete:Kv(t,e.key)};else if(e instanceof Pn)n={update:TA(t,e.key,e.data),updateMask:o$(e.fieldMask)};else{if(!(e instanceof Vv))return K();n={verify:Kv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof vo)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof qi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof zi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof _o)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw K()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:KB(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:K()}(t,e.precondition)),n}function ZB(t,e){return t&&t.length>0?(Ee(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Mn(i.updateTime):Mn(s);return o.isEqual(ee.min())&&(o=Mn(s)),new Lv(o,i.transformResults||[])}(n,e))):[]}function XB(t,e){return{documents:[oS(t,e.path)]}}function e$(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=oS(t,i);let s=function(l){if(l.length!==0)return uS(xn.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:io(m.field),direction:r$(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=Gv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function t$(t){let e=QB(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ee(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(p){let m=cS(p);return m instanceof xn&&UA(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(A){return new go(so(A.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,mh(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,v=p.values||[];return new po(v,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,v=p.values||[];return new po(v,m)}(n.endAt)),CB(e,i,o,s,a,"F",u,l)}function n$(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return K()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function cS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=so(n.unaryFilter.field);return ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=so(n.unaryFilter.field);return ze.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=so(n.unaryFilter.field);return ze.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=so(n.unaryFilter.field);return ze.create(o,"!=",{nullValue:"NULL_VALUE"});default:return K()}}(t):t.fieldFilter!==void 0?function(n){return ze.create(so(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return K()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return xn.create(n.compositeFilter.filters.map(r=>cS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return K()}}(n.compositeFilter.op))}(t):K()}function r$(t){return zB[t]}function i$(t){return GB[t]}function s$(t){return WB[t]}function io(t){return{fieldPath:t.canonicalString()}}function so(t){return Vt.fromServerFormat(t.fieldPath)}function uS(t){return t instanceof ze?function(n){if(n.op==="=="){if(lA(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NAN"}};if(uA(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(lA(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NAN"}};if(uA(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(n.field),op:i$(n.op),value:n.value}}}(t):t instanceof xn?function(n){let r=n.getFilters().map(i=>uS(i));return r.length===1?r[0]:{compositeFilter:{op:s$(n.op),filters:r}}}(t):K()}function o$(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function lS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Ec=class t{constructor(e,n,r,i,s=ee.min(),o=ee.min(),a=wt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Yv=class{constructor(e){this.ct=e}};function a$(t){let e=t$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Fv(e,e.limit,"L"):e}var Qd=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Me(e.integerValue));else if("doubleValue"in e){let r=Me(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),yc(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"&&(r=fr(r)),n.At(`${r.seconds||""}`),n.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Xr(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?LA(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):K()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),q.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};Qd.bt=new Qd;var Jv=class{constructor(){this._n=new Zv}addToCollectionParentIndex(e,n){return this._n.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve($i.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve($i.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}},Zv=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ut(Ne.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ut(Ne.comparator)).toArray()}};var hK=new Uint8Array(0);var bn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(41943040,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);var Dc=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var Xv=class{constructor(){this.changes=new ei(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var e_=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var t_=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&mc(r.mutation,i,Gt.empty(),Xe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=le()){let i=Vi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=hc();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Vi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,le()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=pr(),o=gc(),a=function(){return gc()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Pn)?s=s.insert(l.key,l):h!==void 0?(o.set(l.key,h.mutation.getFieldMask()),mc(h.mutation,l,h.mutation.getFieldMask(),Xe.now())):o.set(l.key,Gt.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,h)=>o.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new e_(h,(p=o.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=gc(),i=new xe((o,a)=>o-a),s=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||Gt.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||le()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=KA();h.forEach(m=>{if(!s.has(m)){let v=tS(n.get(m),r.get(m));v!==null&&p.set(m,v),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):AB(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):x.resolve(Vi()),a=-1,u=s;return o.next(l=>x.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(h)?x.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,le())).next(h=>({batchId:a,changes:WA(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new q(n)).next(r=>{let i=hc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=hc();return this.indexManager.getCollectionParents(e,s).next(a=>x.forEach(a,u=>{let l=function(p,m){return new mo(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let h=l.getKey();o.get(h)===null&&(o=o.insert(h,on.newInvalidDocument(h)))});let a=hc();return o.forEach((u,l)=>{let h=s.get(u);h!==void 0&&mc(h.mutation,l,Gt.empty(),Xe.now()),_h(n,l)&&(a=a.insert(u,l))}),a})}};var n_=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return x.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Mn(i.createTime)}}(n)),x.resolve()}getNamedQuery(e,n){return x.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:a$(i.bundledQuery),readTime:Mn(i.readTime)}}(n)),x.resolve()}};var r_=class{constructor(){this.overlays=new xe(q.comparator),this.hr=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Vi();return x.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),x.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){let i=Vi(),s=n.length+1,o=new q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new xe((l,h)=>l-h),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=s.get(l.largestBatchId);h===null&&(h=Vi(),s=s.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Vi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return x.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Bv(n,r));let s=this.hr.get(n);s===void 0&&(s=le(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}};var Tc=class{constructor(){this.Pr=new ut(Ue.Ir),this.Tr=new ut(Ue.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let r=new Ue(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Ue(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){let n=new q(new Ne([])),r=new Ue(n,e),i=new Ue(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new q(new Ne([])),r=new Ue(n,e),i=new Ue(n,e+1),s=le();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Ue(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ue=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return q.comparator(e.key,n.key)||ve(e.pr,n.pr)}static Er(e,n){return ve(e.pr,n.pr)||q.comparator(e.key,n.key)}};var i_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new ut(Ue.Ir)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new jv(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.wr=this.wr.add(new Ue(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(o)}lookupMutationBatch(e,n){return x.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.br(r),s=i<0?0:i;return x.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ue(n,0),i=new Ue(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{let a=this.Sr(o.pr);s.push(a)}),x.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ut(ve);return n.forEach(i=>{let s=new Ue(i,0),o=new Ue(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),x.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;q.isDocumentKey(s)||(s=s.child(""));let o=new Ue(new q(s),0),a=new ut(ve);return this.wr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.pr)),!0)},o),x.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ee(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return x.forEach(n.mutations,i=>{let s=new Ue(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){let r=new Ue(n,0),i=this.wr.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var s_=class{constructor(e){this.vr=e,this.docs=function(){return new xe(q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():on.newInvalidDocument(n))}getEntries(e,n){let r=pr();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():on.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=pr(),o=n.path,a=new q(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||mB(gB(h),r)<=0||(i.has(h.key)||_h(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return x.resolve(s)}getAllFromCollectionGroup(e,n,r,i){K()}Fr(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new o_(this)}getSize(e){return x.resolve(this.size)}},o_=class extends Xv{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var a_=class{constructor(e){this.persistence=e,this.Mr=new ei(n=>Q_(n),Y_),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Tc,this.targetCount=0,this.Lr=Dc.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),x.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Lr=new Dc(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.qn(n),x.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(s).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){let r=this.Mr.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),x.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),x.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Nr.gr(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.Nr.containsKey(n))}};var c_=class{constructor(e,n){this.Br={},this.overlays={},this.kr=new kA(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new a_(this),this.indexManager=new Jv,this.remoteDocumentCache=function(i){return new s_(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new Yv(n),this.$r=new n_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new r_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new i_(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){L("MemoryPersistence","Starting transaction:",e);let i=new u_(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return x.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}},u_=class extends Ev{constructor(e){super(),this.currentSequenceNumber=e}},l_=class t{constructor(e){this.persistence=e,this.zr=new Tc,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw K()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),x.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Jr,r=>{let i=q.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,ee.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return x.or([()=>x.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var d_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=le(),i=le();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var h_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var f_=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return GC()?8:vB(He())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new h_;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(dc()<=ue.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),x.resolve()):(dc()<=ue.DEBUG&&L("QueryEngine","Query:",ro(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(dc()<=ue.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sn(n))):x.resolve())}ji(e,n){if(pA(n))return x.resolve(null);let r=Sn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Fv(n,null,"F"),r=Sn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=le(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.Zi(n,a);return this.Xi(n,l,o,u.readTime)?this.ji(e,Fv(n,null,"F")):this.es(e,l,n,u)}))})))}Hi(e,n,r,i){return pA(n)||i.isEqual(ee.min())?x.resolve(null):this.zi.getDocuments(e,r).next(s=>{let o=this.Zi(n,s);return this.Xi(n,o,r,i)?x.resolve(null):(dc()<=ue.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ro(n)),this.es(e,o,n,pB(i,-1)).next(a=>a))})}Zi(e,n){let r=new ut(zA(e));return n.forEach((i,s)=>{_h(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return dc()<=ue.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",ro(n)),this.zi.getDocumentsMatchingQuery(e,n,$i.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var p_=class{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new xe(ve),this.rs=new ei(s=>Q_(s),Y_),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new t_(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function c$(t,e,n,r){return new p_(t,e,n,r)}function dS(t,e){return w(this,null,function*(){let n=X(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=le();for(let l of i){o.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of s){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({us:l,removedBatchIds:o,addedBatchIds:a}))})})})}function u$(t,e){let n=X(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),v=x.resolve();return m.forEach(A=>{v=v.next(()=>h.getEntry(u,A)).next(M=>{let R=l.docVersions.get(A);Ee(R!==null),M.version.compareTo(R)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),h.addEntry(M)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=le();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function hS(t){let e=X(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function l$(t,e){let n=X(t),r=e.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Qr.removeMatchingKeys(s,h.removedDocuments,p).next(()=>n.Qr.addMatchingKeys(s,h.addedDocuments,p)));let v=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(wt.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(p,v),function(M,R,F){return M.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(m,v,h)&&a.push(n.Qr.updateTargetData(s,v))});let u=pr(),l=le();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(d$(s,o,e.documentUpdates).next(h=>{u=h.cs,l=h.ls})),!r.isEqual(ee.min())){let h=n.Qr.getLastRemoteSnapshotVersion(s).next(p=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return x.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.ns=i,s))}function d$(t,e,n){let r=le(),i=le();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=pr();return n.forEach((a,u)=>{let l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ee.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):L("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{cs:o,ls:i}})}function h$(t,e){let n=X(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function f$(t,e){let n=X(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,x.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new Ec(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function g_(t,e,n){return w(this,null,function*(){let r=X(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Rc(o))throw o;L("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})}function bA(t,e,n){let r=X(t),i=ee.min(),s=le();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,h){let p=X(u),m=p.rs.get(h);return m!==void 0?x.resolve(p.ns.get(m)):p.Qr.getTargetData(l,h)}(r,o,Sn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:ee.min(),n?s:le())).next(a=>(p$(r,RB(e),a),{documents:a,hs:s})))}function p$(t,e,n){let r=t.ss.get(e)||ee.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}var Yd=class{constructor(){this.activeTargetIds=kB()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var m_=class{constructor(){this.no=new Yd,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Yd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var y_=class{io(e){}shutdown(){}};var Jd=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){L("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){L("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Od=null;function dv(){return Od===null?Od=function(){return 268435456+Math.round(2147483648*Math.random())}():Od++,"0x"+Od.toString(16)}var g$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var v_=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}};var ct="WebChannelConnection",__=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){let a=dv(),u=this.vo(n,r.toUriEncodedString());L("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(l,s,o),this.Mo(n,u,l,i).then(h=>(L("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw uo("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}xo(n,r,i,s,o,a){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+To}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){let i=g$[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){let s=dv();return new Promise((o,a)=>{let u=new iv;u.setWithCredentials(!0),u.listenOnce(ov.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case lc.NO_ERROR:let h=u.getResponseJson();L(ct,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case lc.TIMEOUT:L(ct,`RPC '${e}' ${s} timed out`),a(new j(N.DEADLINE_EXCEEDED,"Request time out"));break;case lc.HTTP_ERROR:let p=u.getStatus();if(L(ct,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let v=m?.error;if(v&&v.status&&v.message){let A=function(R){let F=R.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(F)>=0?F:N.UNKNOWN}(v.status);a(new j(A,v.message))}else a(new j(N.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new j(N.UNAVAILABLE,"Connection failed."));break;default:K()}}finally{L(ct,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);L(ct,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Oo(e,n,r){let i=dv(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=uv(),a=cv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new sv({})),this.Fo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=s.join("");L(ct,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=o.createWebChannel(h,u),m=!1,v=!1,A=new v_({lo:R=>{v?L(ct,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(L(ct,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),L(ct,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},ho:()=>p.close()}),M=(R,F,Y)=>{R.listen(F,z=>{try{Y(z)}catch(de){setTimeout(()=>{throw de},0)}})};return M(p,no.EventType.OPEN,()=>{v||(L(ct,`RPC '${e}' stream ${i} transport opened.`),A.mo())}),M(p,no.EventType.CLOSE,()=>{v||(v=!0,L(ct,`RPC '${e}' stream ${i} transport closed`),A.po())}),M(p,no.EventType.ERROR,R=>{v||(v=!0,uo(ct,`RPC '${e}' stream ${i} transport errored:`,R),A.po(new j(N.UNAVAILABLE,"The operation could not be completed")))}),M(p,no.EventType.MESSAGE,R=>{var F;if(!v){let Y=R.data[0];Ee(!!Y);let z=Y,de=z.error||((F=z[0])===null||F===void 0?void 0:F.error);if(de){L(ct,`RPC '${e}' stream ${i} received error:`,de);let Ae=de.status,te=function(_){let E=je[_];if(E!==void 0)return rS(E)}(Ae),D=de.message;te===void 0&&(te=N.INTERNAL,D="Unknown error status: "+Ae+" with message "+de.message),v=!0,A.po(new j(te,D)),p.close()}else L(ct,`RPC '${e}' stream ${i} received:`,Y),A.yo(Y)}}),M(a,av.STAT_EVENT,R=>{R.stat===xd.PROXY?L(ct,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===xd.NOPROXY&&L(ct,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.fo()},0),A}};function hv(){return typeof document<"u"?document:null}function Ih(t){return new zv(t,!0)}var Zd=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();let n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&L("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}};var Xd=class{constructor(e,n,r,i,s,o,a,u){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new Zd(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}stop(){return w(this,null,function*(){this.Zo()&&(yield this.close(0))})}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){return w(this,null,function*(){if(this.Xo())return this.close(0)})}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,n){return w(this,null,function*(){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(hr(n.toString()),hr("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Ao(n)})}__(){}auth(){this.state=1;let e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{let i=new j(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){let r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(()=>w(this,null,function*(){this.state=0,this.start()}))}c_(e){return L("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(L("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},I_=class extends Xd{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();let n=YB(this.serializer,e),r=function(s){if(!("targetChange"in s))return ee.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ee.min():o.readTime?Mn(o.readTime):ee.min()}(e);return this.listener.h_(n,r)}P_(e){let n={};n.database=Qv(this.serializer),n.addTarget=function(s,o){let a,u=o.target;if(a=kv(u)?{documents:XB(s,u)}:{query:e$(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=iS(s,o.resumeToken);let l=Gv(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(ee.min())>0){a.readTime=Kd(s,o.snapshotVersion.toTimestamp());let l=Gv(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=n$(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){let n={};n.database=Qv(this.serializer),n.removeTarget=e,this.i_(n)}},w_=class extends Xd{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(Ee(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();let n=ZB(e.writeResults,e.commitTime),r=Mn(e.commitTime);return this.listener.A_(r,n)}return Ee(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){let e={};e.database=Qv(this.serializer),this.i_(e)}d_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>JB(this.serializer,r))};this.i_(n)}};var E_=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new j(N.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,Wv(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new j(N.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,Wv(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new j(N.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}},D_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(hr(n),this.y_=!1):L("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var T_=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(()=>w(this,null,function*(){Ki(this)&&(L("RemoteStore","Restarting streams for network reachability change."),yield function(u){return w(this,null,function*(){let l=X(u);l.M_.add(4),yield Mc(l),l.N_.set("Unknown"),l.M_.delete(4),yield wh(l)})}(this))}))}),this.N_=new D_(r,i)}};function wh(t){return w(this,null,function*(){if(Ki(t))for(let e of t.x_)yield e(!0)})}function Mc(t){return w(this,null,function*(){for(let e of t.x_)yield e(!1)})}function fS(t,e){let n=X(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),tI(n)?eI(n):bo(n).Xo()&&X_(n,e))}function Z_(t,e){let n=X(t),r=bo(n);n.F_.delete(e),r.Xo()&&pS(n,e),n.F_.size===0&&(r.Xo()?r.n_():Ki(n)&&n.N_.set("Unknown"))}function X_(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bo(t).P_(e)}function pS(t,e){t.L_.xe(e),bo(t).I_(e)}function eI(t){t.L_=new qv({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),bo(t).start(),t.N_.w_()}function tI(t){return Ki(t)&&!bo(t).Zo()&&t.F_.size>0}function Ki(t){return X(t).M_.size===0}function gS(t){t.L_=void 0}function m$(t){return w(this,null,function*(){t.N_.set("Online")})}function y$(t){return w(this,null,function*(){t.F_.forEach((e,n)=>{X_(t,e)})})}function v$(t,e){return w(this,null,function*(){gS(t),tI(t)?(t.N_.D_(e),eI(t)):t.N_.set("Unknown")})}function _$(t,e,n){return w(this,null,function*(){if(t.N_.set("Online"),e instanceof Gd&&e.state===2&&e.cause)try{yield function(i,s){return w(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.F_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.F_.delete(a),i.L_.removeTarget(a))})}(t,e)}catch(r){L("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield eh(t,r)}else if(e instanceof ao?t.L_.Ke(e):e instanceof zd?t.L_.He(e):t.L_.We(e),!n.isEqual(ee.min()))try{let r=yield hS(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.L_.rt(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=s.F_.get(l);h&&s.F_.set(l,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{let h=s.F_.get(u);if(!h)return;s.F_.set(u,h.withResumeToken(wt.EMPTY_BYTE_STRING,h.snapshotVersion)),pS(s,u);let p=new Ec(h.target,u,l,h.sequenceNumber);X_(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){L("RemoteStore","Failed to raise snapshot:",r),yield eh(t,r)}})}function eh(t,e,n){return w(this,null,function*(){if(!Rc(e))throw e;t.M_.add(1),yield Mc(t),t.N_.set("Offline"),n||(n=()=>hS(t.localStore)),t.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){L("RemoteStore","Retrying IndexedDB access"),yield n(),t.M_.delete(1),yield wh(t)}))})}function mS(t,e){return e().catch(n=>eh(t,n,e))}function Eh(t){return w(this,null,function*(){let e=X(t),n=ti(e),r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;I$(e);)try{let i=yield h$(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,w$(e,i)}catch(i){yield eh(e,i)}yS(e)&&vS(e)})}function I$(t){return Ki(t)&&t.v_.length<10}function w$(t,e){t.v_.push(e);let n=ti(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function yS(t){return Ki(t)&&!ti(t).Zo()&&t.v_.length>0}function vS(t){ti(t).start()}function E$(t){return w(this,null,function*(){ti(t).V_()})}function D$(t){return w(this,null,function*(){let e=ti(t);for(let n of t.v_)e.d_(n.mutations)})}function T$(t,e,n){return w(this,null,function*(){let r=t.v_.shift(),i=Uv.from(r,e,n);yield mS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Eh(t)})}function b$(t,e){return w(this,null,function*(){e&&ti(t).E_&&(yield function(r,i){return w(this,null,function*(){if(function(o){return $B(o)&&o!==N.ABORTED}(i.code)){let s=r.v_.shift();ti(r).t_(),yield mS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Eh(r)}})}(t,e)),yS(t)&&vS(t)})}function CA(t,e){return w(this,null,function*(){let n=X(t);n.asyncQueue.verifyOperationInProgress(),L("RemoteStore","RemoteStore received new credentials");let r=Ki(n);n.M_.add(3),yield Mc(n),r&&n.N_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),yield wh(n)})}function C$(t,e){return w(this,null,function*(){let n=X(t);e?(n.M_.delete(2),yield wh(n)):e||(n.M_.add(2),yield Mc(n),n.N_.set("Unknown"))})}function bo(t){return t.B_||(t.B_=function(n,r,i){let s=X(n);return s.f_(),new I_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:m$.bind(null,t),To:y$.bind(null,t),Ao:v$.bind(null,t),h_:_$.bind(null,t)}),t.x_.push(e=>w(this,null,function*(){e?(t.B_.t_(),tI(t)?eI(t):t.N_.set("Unknown")):(yield t.B_.stop(),gS(t))}))),t.B_}function ti(t){return t.k_||(t.k_=function(n,r,i){let s=X(n);return s.f_(),new w_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:E$.bind(null,t),Ao:b$.bind(null,t),R_:D$.bind(null,t),A_:T$.bind(null,t)}),t.x_.push(e=>w(this,null,function*(){e?(t.k_.t_(),yield Eh(t)):(yield t.k_.stop(),t.v_.length>0&&(L("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))}))),t.k_}var b_=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Cn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new j(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function nI(t,e){if(hr("AsyncQueue",`${e}: ${t}`),Rc(t))return new j(N.UNAVAILABLE,`${e}: ${t}`);throw t}var th=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||q.comparator(n.key,r.key):(n,r)=>q.comparator(n.key,r.key),this.keyedMap=hc(),this.sortedSet=new xe(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var nh=class{constructor(){this.q_=new xe(q.comparator)}track(e){let n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):K():this.q_=this.q_.insert(n,e)}Q_(){let e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}},wo=class t{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,th.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var C_=class{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}},A_=class{constructor(){this.queries=new ei(e=>qA(e),vh),this.onlineState="Unknown",this.z_=new Set}};function _S(t,e){return w(this,null,function*(){let n=X(t),r=3,i=e.query,s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new C_,r=e.G_()?0:1);try{switch(r){case 0:s.K_=yield n.onListen(i,!0);break;case 1:s.K_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=nI(o,`Initialization of query '${ro(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&rI(n)})}function IS(t,e){return w(this,null,function*(){let n=X(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function A$(t,e){let n=X(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.U_)a.H_(i)&&(r=!0);o.K_=i}}r&&rI(n)}function S$(t,e,n){let r=X(t),i=r.queries.get(e);if(i)for(let s of i.U_)s.onError(n);r.queries.delete(e)}function rI(t){t.z_.forEach(e=>{e.next()})}var S_,AA;(AA=S_||(S_={})).J_="default",AA.Cache="cache";var rh=class{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new wo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;let r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;let n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=wo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==S_.Cache}};var ih=class{constructor(e){this.key=e}},sh=class{constructor(e){this.key=e}},R_=class{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=le(),this.mutatedKeys=le(),this.Ia=zA(e),this.Ta=new th(this.Ia)}get Ea(){return this.la}da(e,n){let r=n?n.Aa:new nh,i=n?n.Ta:this.Ta,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),v=_h(this.query,p)?p:null,A=!!m&&this.mutatedKeys.has(m.key),M=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),R=!1;m&&v?m.data.isEqual(v.data)?A!==M&&(r.track({type:3,doc:v}),R=!0):this.Ra(m,v)||(r.track({type:2,doc:v}),R=!0,(u&&this.Ia(v,u)>0||l&&this.Ia(v,l)<0)&&(a=!0)):!m&&v?(r.track({type:0,doc:v}),R=!0):m&&!v&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(v?(o=o.add(v),s=M?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ta:o,Aa:r,Xi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;let o=e.Aa.Q_();o.sort((h,p)=>function(v,A){let M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K()}};return M(v)-M(A)}(h.type,p.type)||this.Ia(h.doc,p.doc)),this.Va(r),i=i!=null&&i;let a=n&&!i?this.ma():[],u=this.Pa.size===0&&this.current&&!i?1:0,l=u!==this.ha;return this.ha=u,o.length!==0||l?{snapshot:new wo(this.query,e.Ta,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new nh,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];let e=this.Pa;this.Pa=le(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});let n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new sh(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new ih(r))}),n}pa(e){this.la=e.hs,this.Pa=le();let n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return wo.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}},M_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},N_=class{constructor(e){this.key=e,this.wa=!1}},x_=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new ei(a=>qA(a),vh),this.Da=new Map,this.Ca=new Set,this.va=new xe(q.comparator),this.Fa=new Map,this.Ma=new Tc,this.xa={},this.Oa=new Map,this.Na=Dc.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function R$(t,e,n=!0){return w(this,null,function*(){let r=CS(t),i,s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=yield wS(r,e,n,!0),i})}function M$(t,e){return w(this,null,function*(){let n=CS(t);yield wS(n,e,!0,!1)})}function wS(t,e,n,r){return w(this,null,function*(){let i=yield f$(t.localStore,Sn(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current",a;return r&&(a=yield N$(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&fS(t.remoteStore,i),a})}function N$(t,e,n,r,i){return w(this,null,function*(){t.Ba=(p,m,v)=>function(M,R,F,Y){return w(this,null,function*(){let z=R.view.da(F);z.Xi&&(z=yield bA(M.localStore,R.query,!1).then(({documents:D})=>R.view.da(D,z)));let de=Y&&Y.targetChanges.get(R.targetId),Ae=Y&&Y.targetMismatches.get(R.targetId)!=null,te=R.view.applyChanges(z,M.isPrimaryClient,de,Ae);return RA(M,R.targetId,te.fa),te.snapshot})}(t,p,m,v);let s=yield bA(t.localStore,e,!0),o=new R_(e,s.hs),a=o.da(s.documents),u=wc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,u);RA(t,n,l.fa);let h=new M_(e,n,o);return t.ba.set(e,h),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),l.snapshot})}function x$(t,e,n){return w(this,null,function*(){let r=X(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!vh(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield g_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Z_(r.remoteStore,i.targetId),P_(r,i.targetId)}).catch(Sc))):(P_(r,i.targetId),yield g_(r.localStore,i.targetId,!0))})}function P$(t,e){return w(this,null,function*(){let n=X(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Z_(n.remoteStore,r.targetId))})}function O$(t,e,n){return w(this,null,function*(){let r=B$(t);try{let i=yield function(o,a){let u=X(o),l=Xe.now(),h=a.reduce((v,A)=>v.add(A.key),le()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let A=pr(),M=le();return u.os.getEntries(v,h).next(R=>{A=R,A.forEach((F,Y)=>{Y.isValidDocument()||(M=M.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,A)).next(R=>{p=R;let F=[];for(let Y of a){let z=BB(Y,p.get(Y.key).overlayedDocument);z!=null&&F.push(new Pn(Y.key,z,VA(z.value.mapValue),Rn.exists(!0)))}return u.mutationQueue.addMutationBatch(v,l,F,a)}).next(R=>{m=R;let F=R.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(v,R.batchId,F)})}).then(()=>({batchId:m.batchId,changes:WA(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.xa[o.currentUser.toKey()];l||(l=new xe(ve)),l=l.insert(a,u),o.xa[o.currentUser.toKey()]=l}(r,i.batchId,n),yield Nc(r,i.changes),yield Eh(r.remoteStore)}catch(i){let s=nI(i,"Failed to persist write");n.reject(s)}})}function ES(t,e){return w(this,null,function*(){let n=X(t);try{let r=yield l$(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Fa.get(s);o&&(Ee(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?Ee(o.wa):i.removedDocuments.size>0&&(Ee(o.wa),o.wa=!1))}),yield Nc(n,r,e)}catch(r){yield Sc(r)}})}function SA(t,e,n){let r=X(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ba.forEach((s,o)=>{let a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=X(o);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.U_)m.j_(a)&&(l=!0)}),l&&rI(u)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function k$(t,e,n){return w(this,null,function*(){let r=X(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Fa.get(e),s=i&&i.key;if(s){let o=new xe(q.comparator);o=o.insert(s,on.newNoDocument(s,ee.min()));let a=le().add(s),u=new qd(ee.min(),new Map,new xe(ve),o,a);yield ES(r,u),r.va=r.va.remove(s),r.Fa.delete(e),iI(r)}else yield g_(r.localStore,e,!1).then(()=>P_(r,e,n)).catch(Sc)})}function F$(t,e){return w(this,null,function*(){let n=X(t),r=e.batch.batchId;try{let i=yield u$(n.localStore,e);TS(n,r,null),DS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Nc(n,i)}catch(i){yield Sc(i)}})}function L$(t,e,n){return w(this,null,function*(){let r=X(t);try{let i=yield function(o,a){let u=X(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Ee(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);TS(r,e,n),DS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Nc(r,i)}catch(i){yield Sc(i)}})}function DS(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function TS(t,e,n){let r=X(t),i=r.xa[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function P_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||bS(t,r)})}function bS(t,e){t.Ca.delete(e.path.canonicalString());let n=t.va.get(e);n!==null&&(Z_(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),iI(t))}function RA(t,e,n){for(let r of n)r instanceof ih?(t.Ma.addReference(r.key,e),V$(t,r)):r instanceof sh?(L("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||bS(t,r.key)):K()}function V$(t,e){let n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(L("SyncEngine","New document in limbo: "+n),t.Ca.add(r),iI(t))}function iI(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){let e=t.Ca.values().next().value;t.Ca.delete(e);let n=new q(Ne.fromString(e)),r=t.Na.next();t.Fa.set(r,new N_(n)),t.va=t.va.insert(n,r),fS(t.remoteStore,new Ec(Sn(yh(n.path)),r,"TargetPurposeLimboResolution",kA.oe))}}function Nc(t,e,n){return w(this,null,function*(){let r=X(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,u)=>{o.push(r.Ba(u,e,n).then(l=>{if((l||n)&&r.isPrimaryClient){let h=l&&!l.fromCache;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(l){i.push(l);let h=d_.Ki(u.targetId,l);s.push(h)}}))}),yield Promise.all(o),r.Sa.h_(i),yield function(u,l){return w(this,null,function*(){let h=X(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,m=>x.forEach(m.qi,v=>h.persistence.referenceDelegate.addReference(p,m.targetId,v)).next(()=>x.forEach(m.Qi,v=>h.persistence.referenceDelegate.removeReference(p,m.targetId,v)))))}catch(p){if(!Rc(p))throw p;L("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let v=h.ns.get(m),A=v.snapshotVersion,M=v.withLastLimboFreeSnapshotVersion(A);h.ns=h.ns.insert(m,M)}}})}(r.localStore,s))})}function j$(t,e){return w(this,null,function*(){let n=X(t);if(!n.currentUser.isEqual(e)){L("SyncEngine","User change. New user:",e.toKey());let r=yield dS(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(u=>{u.reject(new j(N.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Nc(n,r.us)}})}function U$(t,e){let n=X(t),r=n.Fa.get(e);if(r&&r.wa)return le().add(r.key);{let i=le(),s=n.Da.get(e);if(!s)return i;for(let o of s){let a=n.ba.get(o);i=i.unionWith(a.view.Ea)}return i}}function CS(t){let e=X(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ES.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=U$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=k$.bind(null,e),e.Sa.h_=A$.bind(null,e.eventManager),e.Sa.ka=S$.bind(null,e.eventManager),e}function B$(t){let e=X(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=F$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=L$.bind(null,e),e}var oh=class{constructor(){this.synchronizeTabs=!1}initialize(e){return w(this,null,function*(){this.serializer=Ih(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return c$(this.persistence,new f_,e.initialUser,this.serializer)}createPersistence(e){return new c_(l_.Hr,this.serializer)}createSharedClientState(e){return new m_}terminate(){return w(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var O_=class{initialize(e,n){return w(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>SA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=j$.bind(null,this.syncEngine),yield C$(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new A_}()}createDatastore(e){let n=Ih(e.databaseInfo.databaseId),r=function(s){return new __(s)}(e.databaseInfo);return function(s,o,a,u){return new E_(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new T_(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>SA(this.syncEngine,n,0),function(){return Jd.D()?new Jd:new y_}())}createSyncEngine(e,n){return function(i,s,o,a,u,l,h){let p=new x_(i,s,o,a,u,l);return h&&(p.La=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return w(this,null,function*(){var e;yield function(r){return w(this,null,function*(){let i=X(r);L("RemoteStore","RemoteStore shutting down."),i.M_.add(5),yield Mc(i),i.O_.shutdown(),i.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var ah=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):hr("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var k_=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Qe.UNAUTHENTICATED,this.clientId=Vd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>w(this,null,function*(){L("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(L("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new j(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Cn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=nI(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function fv(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),L("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield dS(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function MA(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield H$(t);L("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>CA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>CA(e.remoteStore,i)),t._onlineComponents=e})}function $$(t){return t.name==="FirebaseError"?t.code===N.FAILED_PRECONDITION||t.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function H$(t){return w(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){L("FirestoreClient","Using user provided OfflineComponentProvider");try{yield fv(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!$$(n))throw n;uo("Error using user provided cache. Falling back to memory cache: "+n),yield fv(t,new oh)}}else L("FirestoreClient","Using default OfflineComponentProvider"),yield fv(t,new oh);return t._offlineComponents})}function AS(t){return w(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(L("FirestoreClient","Using user provided OnlineComponentProvider"),yield MA(t,t._uninitializedComponentsProvider._online)):(L("FirestoreClient","Using default OnlineComponentProvider"),yield MA(t,new O_))),t._onlineComponents})}function q$(t){return AS(t).then(e=>e.syncEngine)}function F_(t){return w(this,null,function*(){let e=yield AS(t),n=e.eventManager;return n.onListen=R$.bind(null,e.syncEngine),n.onUnlisten=x$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=M$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=P$.bind(null,e.syncEngine),n})}function z$(t,e,n={}){let r=new Cn;return t.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return function(s,o,a,u,l){let h=new ah({next:m=>{o.enqueueAndForget(()=>IS(s,p));let v=m.docs.has(a);!v&&m.fromCache?l.reject(new j(N.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&m.fromCache&&u&&u.source==="server"?l.reject(new j(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new rh(yh(a.path),h,{includeMetadataChanges:!0,ra:!0});return _S(s,p)}(yield F_(t),t.asyncQueue,e,n,r)})),r.promise}function SS(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var NA=new Map;function RS(t,e,n){if(!n)throw new j(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function G$(t,e,n,r){if(e===!0&&r===!0)throw new j(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function xA(t){if(!q.isDocumentKey(t))throw new j(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function PA(t){if(q.isDocumentKey(t))throw new j(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function sI(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":K()}function Wt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new j(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=sI(t);throw new j(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var ch=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new j(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new j(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}G$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=SS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new j(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new j(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new j(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Eo=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ch({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new j(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new j(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ch(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new pv;switch(r.type){case"firstParty":return new vv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new j(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=NA.get(n);r&&(L("ComponentProvider","Removing Datastore"),NA.delete(n),r.terminate())}(this),Promise.resolve()}};function MS(t,e,n,r={}){var i;let s=(t=Wt(t,Eo))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Qe.MOCK_USER;else{a=BC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new j(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Qe(l)}t._authCredentials=new gv(new Ld(a,u))}}var uh=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},It=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Zr=class t extends uh{constructor(e,n,r){super(e,n,yh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new It(this.firestore,null,new q(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function NS(t,e,...n){if(t=Ke(t),RS("collection","path",e),t instanceof Eo){let r=Ne.fromString(e,...n);return PA(r),new Zr(t,null,r)}{if(!(t instanceof It||t instanceof Zr))throw new j(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ne.fromString(e,...n));return PA(r),new Zr(t.firestore,null,r)}}function oI(t,e,...n){if(t=Ke(t),arguments.length===1&&(e=Vd.newId()),RS("doc","path",e),t instanceof Eo){let r=Ne.fromString(e,...n);return xA(r),new It(t,null,new q(r))}{if(!(t instanceof It||t instanceof Zr))throw new j(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ne.fromString(e,...n));return xA(r),new It(t.firestore,t instanceof Zr?t.converter:null,new q(r))}}var L_=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new Zd(this,"async_queue_retry"),this.hu=()=>{let n=hv();n&&L("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};let e=hv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let n=hv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let n=new Cn;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return w(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Rc(e))throw e;L("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}})}Iu(e){let n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw hr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);let i=b_.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&K()}verifyOperationInProgress(){}du(){return w(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let n=this._u.indexOf(e);this._u.splice(n,1)}};function OA(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var On=class extends Eo{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new L_}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||PS(this),this._firestoreClient.terminate()}};function xS(t,e){let n=typeof t=="object"?t:Ys(),r=typeof t=="string"?t:e||"(default)",i=Za(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=UC("firestore");s&&MS(i,...s)}return i}function aI(t){return t._firestoreClient||PS(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function PS(t){var e,n,r;let i=t._freezeSettings(),s=function(a,u,l,h){return new Dv(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,SS(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new k_(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var bc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(wt.fromBase64String(e))}catch(n){throw new j(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Do=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new j(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Cc=class{constructor(e){this._methodName=e}};var Ac=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new j(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new j(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}};var W$=/^__.*__$/,V_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Pn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Gi(e,this.data,n,this.fieldTransforms)}},lh=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Pn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function OS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K()}}var j_=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return hh(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(OS(this.fu)&&W$.test(e))throw this.Du('Document fields cannot begin and end with "__"')}},U_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ih(e)}Fu(e,n,r,i=!1){return new j_({fu:e,methodName:n,vu:r,path:Vt.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function cI(t){let e=t._freezeSettings(),n=Ih(t._databaseId);return new U_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function kS(t,e,n,r,i,s={}){let o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);uI("Data must be an object, but it was:",o,r);let a=FS(r,o),u,l;if(s.merge)u=new Gt(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let h=[];for(let p of s.mergeFields){let m=B_(e,p,n);if(!o.contains(m))throw new j(N.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);VS(h,m)||h.push(m)}u=new Gt(h),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new V_(new Lt(a),u,l)}var dh=class t extends Cc{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function K$(t,e,n,r){let i=t.Fu(1,e,n);uI("Data must be an object, but it was:",i,r);let s=[],o=Lt.empty();Wi(r,(u,l)=>{let h=lI(e,u,n);l=Ke(l);let p=i.Su(h);if(l instanceof dh)s.push(h);else{let m=Dh(l,p);m!=null&&(s.push(h),o.set(h,m))}});let a=new Gt(s);return new lh(o,a,i.fieldTransforms)}function Q$(t,e,n,r,i,s){let o=t.Fu(1,e,n),a=[B_(e,r,n)],u=[i];if(s.length%2!=0)throw new j(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(B_(e,s[m])),u.push(s[m+1]);let l=[],h=Lt.empty();for(let m=a.length-1;m>=0;--m)if(!VS(l,a[m])){let v=a[m],A=u[m];A=Ke(A);let M=o.Su(v);if(A instanceof dh)l.push(v);else{let R=Dh(A,M);R!=null&&(l.push(v),h.set(v,R))}}let p=new Gt(l);return new lh(h,p,o.fieldTransforms)}function Dh(t,e){if(LS(t=Ke(t)))return uI("Unsupported field value:",e,t),FS(t,e);if(t instanceof Cc)return function(r,i){if(!OS(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let u=Dh(a,i.bu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ke(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return FB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Xe.fromDate(r);return{timestampValue:Kd(i.serializer,s)}}if(r instanceof Xe){let s=new Xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kd(i.serializer,s)}}if(r instanceof Ac)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof bc)return{bytesValue:iS(i.serializer,r._byteString)};if(r instanceof It){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:J_(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${sI(r)}`)}(t,e)}function FS(t,e){let n={};return FA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wi(t,(r,i)=>{let s=Dh(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function LS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Xe||t instanceof Ac||t instanceof bc||t instanceof It||t instanceof Cc)}function uI(t,e,n){if(!LS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=sI(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function B_(t,e,n){if((e=Ke(e))instanceof Do)return e._internalPath;if(typeof e=="string")return lI(t,e);throw hh("Field path arguments must be of type string or ",t,!1,void 0,n)}var Y$=new RegExp("[~\\*/\\[\\]]");function lI(t,e,n){if(e.search(Y$)>=0)throw hh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Do(...e.split("."))._internalPath}catch{throw hh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function hh(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new j(N.INVALID_ARGUMENT,a+t+u)}function VS(t,e){return t.some(n=>n.isEqual(e))}var fh=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new It(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new $_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(jS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},$_=class extends fh{data(){return super.data()}};function jS(t,e){return typeof e=="string"?lI(t,e):e instanceof Do?e._internalPath:e._delegate._internalPath}function J$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new j(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var H_=class{convertValue(e,n="none"){switch(Hi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw K()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Wi(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Ac(Me(e.latitude),Me(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=W_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(vc(e));default:return null}}convertTimestamp(e){let n=fr(e);return new Xe(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ne.fromString(e);Ee(lS(r));let i=new $d(r.get(1),r.get(3)),s=new q(r.popFirst(5));return i.isEqual(n)||hr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function US(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Ui=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},ph=class extends fh{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new co(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(jS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},co=class extends ph{data(e={}){return super.data(e)}},q_=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ui(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new co(this._firestore,this._userDataWriter,r.key,r,new Ui(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new j(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let u=new co(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ui(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let u=new co(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ui(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:Z$(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function Z$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K()}}function BS(t){t=Wt(t,It);let e=Wt(t.firestore,On);return z$(aI(e),t._key).then(n=>GS(e,t,n))}var gh=class extends H_{constructor(e){super(),this.firestore=e}convertBytes(e){return new bc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new It(this.firestore,null,n)}};function $S(t,e,n){t=Wt(t,It);let r=Wt(t.firestore,On),i=US(t.converter,e,n);return Th(r,[kS(cI(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Rn.none())])}function HS(t,e,n,...r){t=Wt(t,It);let i=Wt(t.firestore,On),s=cI(i),o;return o=typeof(e=Ke(e))=="string"||e instanceof Do?Q$(s,"updateDoc",t._key,e,n,r):K$(s,"updateDoc",t._key,e),Th(i,[o.toMutation(t._key,Rn.exists(!0))])}function qS(t){return Th(Wt(t.firestore,On),[new Ic(t._key,Rn.none())])}function zS(t,e){let n=Wt(t.firestore,On),r=oI(t),i=US(t.converter,e);return Th(n,[kS(cI(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Rn.exists(!1))]).then(()=>r)}function dI(t,...e){var n,r,i;t=Ke(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||OA(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(OA(e[o])){let p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof It)l=Wt(t.firestore,On),h=yh(t._key.path),u={next:p=>{e[o]&&e[o](GS(l,t,p))},error:e[o+1],complete:e[o+2]};else{let p=Wt(t,uh);l=Wt(p.firestore,On),h=p._query;let m=new gh(l);u={next:v=>{e[o]&&e[o](new q_(l,m,p,v))},error:e[o+1],complete:e[o+2]},J$(t._query)}return function(m,v,A,M){let R=new ah(M),F=new rh(v,R,A);return m.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return _S(yield F_(m),F)})),()=>{R.$a(),m.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return IS(yield F_(m),F)}))}}(aI(l),h,a,u)}function Th(t,e){return function(r,i){let s=new Cn;return r.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return O$(yield q$(r),i,s)})),s.promise}(aI(t),e)}function GS(t,e,n){let r=n.docs.get(e._key),i=new gh(t);return new ph(t,i,e._key,r,new Ui(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){To=i})(Gr),zr(new zt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new On(new mv(r.getProvider("auth-internal")),new Iv(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new j(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $d(l.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),qe(oA,"4.6.3",e),qe(oA,"4.6.3","esm2017")})();var bh=function(){return bh=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},bh.apply(this,arguments)};var tH={includeMetadataChanges:!1};function WS(t,e){return e===void 0&&(e=tH),new se(function(n){var r=dI(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function KS(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:bh(bh({},r),(n={},n[e.idField]=t.id,n))}function QS(t){return WS(t,{includeMetadataChanges:!0}).pipe(J(function(e){return e.docs}))}function YS(t,e){return e===void 0&&(e={}),QS(t).pipe(J(function(n){return n.map(function(r){return KS(r,e)})}))}var Qi=class{constructor(e){return e}},JS="firestore",hI=class{constructor(){return Xa(JS)}};var fI=new $("angularfire2.firestore-instances");function nH(t,e){let n=ld(JS,t,e);return n&&new Qi(n)}function rH(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Qi(r)}}var iH={provide:hI,deps:[[new vt,fI]]},sH={provide:Qi,useFactory:nH,deps:[[new vt,fI],ar]};function $7(t,...e){return qe("angularfire",xi.full,"fst"),nn([sH,iH,{provide:fI,useFactory:rH(t),multi:!0,deps:[ge,Be,Xs,Pi,[new vt,uc],[new vt,Zs],...e]}])}var pI=at(YS,!0);var gI=at(zS,!0);var Yi=at(NS,!0);var ZS=at(qS,!0);var xc=at(oI,!0);var XS=at(BS,!0);var H7=at(xS,!0);var eR=at($S,!0);var tR=at(HS,!0);var G7=(()=>{let e=class e{constructor(r){this.firestore=r}addUsuarios(r){let i=xc(this.firestore,"usuarios",r.email);return eR(i,r)}addActor(r){let i=Yi(this.firestore,"repatidor");return gI(i,r)}getRepartidor(){let r=Yi(this.firestore,"repatidor");return pI(r,{idField:"id"})}addHelado(r){let i=Yi(this.firestore,"helados");return gI(i,r)}getHelados(){let r=Yi(this.firestore,"helados");return pI(r,{idField:"id"})}updateHelado(r,i){let s=Yi(this.firestore,"helados"),o=xc(s,r);return tR(o,i)}delete(r){let i=Yi(this.firestore,"helados"),s=xc(i,r);ZS(s)}getRol(r){return w(this,null,function*(){let i=xc(this.firestore,"usuarios",r),s=yield XS(i);return s.exists()?s.data().rol:null})}};e.\u0275fac=function(i){return new(i||e)(U(Qi))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var hR=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(H(yn),H(Bt))},e.\u0275dir=Re({type:e});let t=e;return t})(),Ph=(()=>{let e=class e extends hR{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Pr(e)))(s||e)}})(),e.\u0275dir=Re({type:e,features:[Ht]});let t=e;return t})(),So=new $(""),aH={provide:So,useExisting:fn(()=>cH),multi:!0},cH=(()=>{let e=class e extends Ph{writeValue(r){this.setProperty("checked",r)}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Pr(e)))(s||e)}})(),e.\u0275dir=Re({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,s){i&1&&bt("change",function(a){return s.onChange(a.target.checked)})("blur",function(){return s.onTouched()})},features:[kr([aH]),Ht]});let t=e;return t})(),uH={provide:So,useExisting:fn(()=>fR),multi:!0};function lH(){let t=rr()?rr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var dH=new $(""),fR=(()=>{let e=class e extends hR{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!lH())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(H(yn),H(Bt),H(dH,8))},e.\u0275dir=Re({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&bt("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[kr([uH]),Ht]});let t=e;return t})();function ni(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function pR(t){return t!=null&&typeof t.length=="number"}var II=new $(""),wI=new $(""),hH=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,nR=class{static min(e){return fH(e)}static max(e){return pH(e)}static required(e){return gH(e)}static requiredTrue(e){return mH(e)}static email(e){return yH(e)}static minLength(e){return vH(e)}static maxLength(e){return _H(e)}static pattern(e){return IH(e)}static nullValidator(e){return gR(e)}static compose(e){return wR(e)}static composeAsync(e){return DR(e)}};function fH(t){return e=>{if(ni(e.value)||ni(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function pH(t){return e=>{if(ni(e.value)||ni(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function gH(t){return ni(t.value)?{required:!0}:null}function mH(t){return t.value===!0?null:{required:!0}}function yH(t){return ni(t.value)||hH.test(t.value)?null:{email:!0}}function vH(t){return e=>ni(e.value)||!pR(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function _H(t){return e=>pR(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function IH(t){if(!t)return gR;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(ni(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function gR(t){return null}function mR(t){return t!=null}function yR(t){return Di(t)?Te(t):t}function vR(t){let e={};return t.forEach(n=>{e=n!=null?O(O({},e),n):e}),Object.keys(e).length===0?null:e}function _R(t,e){return e.map(n=>n(t))}function wH(t){return!t.validate}function IR(t){return t.map(e=>wH(e)?e:n=>e.validate(n))}function wR(t){if(!t)return null;let e=t.filter(mR);return e.length==0?null:function(n){return vR(_R(n,e))}}function ER(t){return t!=null?wR(IR(t)):null}function DR(t){if(!t)return null;let e=t.filter(mR);return e.length==0?null:function(n){let r=_R(n,e).map(yR);return Rf(r).pipe(J(vR))}}function TR(t){return t!=null?DR(IR(t)):null}function rR(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function bR(t){return t._rawValidators}function CR(t){return t._rawAsyncValidators}function mI(t){return t?Array.isArray(t)?t:[t]:[]}function Ah(t,e){return Array.isArray(t)?t.includes(e):t===e}function iR(t,e){let n=mI(e);return mI(t).forEach(i=>{Ah(n,i)||n.push(i)}),n}function sR(t,e){return mI(e).filter(n=>!Ah(t,n))}var Sh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ER(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=TR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Ji=class extends Sh{get formDirective(){return null}get path(){return null}},Zi=class extends Sh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Rh=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},EH={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},lQ=he(O({},EH),{"[class.ng-submitted]":"isSubmitted"}),dQ=(()=>{let e=class e extends Rh{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(H(Zi,2))},e.\u0275dir=Re({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&Sl("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Ht]});let t=e;return t})(),hQ=(()=>{let e=class e extends Rh{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(H(Ji,10))},e.\u0275dir=Re({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&Sl("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Ht]});let t=e;return t})();var Pc="VALID",Ch="INVALID",Co="PENDING",Oc="DISABLED";function EI(t){return(Oh(t)?t.validators:t)||null}function DH(t){return Array.isArray(t)?ER(t):t||null}function DI(t,e){return(Oh(e)?e.asyncValidators:t)||null}function TH(t){return Array.isArray(t)?TR(t):t||null}function Oh(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function AR(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new B(1e3,"");if(!r[n])throw new B(1001,"")}function SR(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new B(1002,"")})}var Ao=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Pc}get invalid(){return this.status===Ch}get pending(){return this.status==Co}get disabled(){return this.status===Oc}get enabled(){return this.status!==Oc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(iR(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(iR(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(sR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(sR(e,this._rawAsyncValidators))}hasValidator(e){return Ah(this._rawValidators,e)}hasAsyncValidator(e){return Ah(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Co,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Oc,this.errors=null,this._forEachChild(r=>{r.disable(he(O({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(he(O({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Pc,this._forEachChild(r=>{r.enable(he(O({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(he(O({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Pc||this.status===Co)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Oc:Pc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Co,this._hasOwnPendingAsyncValidator=!0;let n=yR(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ze,this.statusChanges=new Ze}_calculateStatus(){return this._allControlsDisabled()?Oc:this.errors?Ch:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Co)?Co:this._anyControlsHaveStatus(Ch)?Ch:Pc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Oh(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=DH(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=TH(this._rawAsyncValidators)}},Mh=class extends Ao{constructor(e,n,r){super(EI(n),DI(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){SR(this,!0,e),Object.keys(e).forEach(r=>{AR(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var yI=class extends Mh{};var kh=new $("CallSetDisabledState",{providedIn:"root",factory:()=>Fh}),Fh="always";function RR(t,e){return[...e.path,t]}function vI(t,e,n=Fh){TI(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),CH(t,e),SH(t,e),AH(t,e),bH(t,e)}function oR(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),xh(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Nh(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function bH(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function TI(t,e){let n=bR(t);e.validator!==null?t.setValidators(rR(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=CR(t);e.asyncValidator!==null?t.setAsyncValidators(rR(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Nh(e._rawValidators,i),Nh(e._rawAsyncValidators,i)}function xh(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=bR(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=CR(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return Nh(e._rawValidators,r),Nh(e._rawAsyncValidators,r),n}function CH(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&MR(t,e)})}function AH(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&MR(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function MR(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function SH(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function RH(t,e){t==null,TI(t,e)}function MH(t,e){return xh(t,e)}function NR(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function NH(t){return Object.getPrototypeOf(t.constructor)===Ph}function xH(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function xR(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===fR?n=s:NH(s)?r=s:i=s}),i||r||n||null}function PH(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function aR(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function cR(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var kc=class extends Ao{constructor(e=null,n,r){super(EI(n),DI(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Oh(n)&&(n.nonNullable||n.initialValueIsDefault)&&(cR(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){aR(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){aR(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){cR(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var OH=t=>t instanceof kc;var kH={provide:Zi,useExisting:fn(()=>FH)},uR=Promise.resolve(),FH=(()=>{let e=class e extends Zi{constructor(r,i,s,o,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new kc,this._registered=!1,this.name="",this.update=new Ze,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=xR(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),NR(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){vI(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){uR.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&bi(i);uR.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?RR(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(H(Ji,9),H(II,10),H(wI,10),H(So,10),H(Ti,8),H(kh,8))},e.\u0275dir=Re({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Le.None,"disabled","isDisabled"],model:[Le.None,"ngModel","model"],options:[Le.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[kr([kH]),Ht,Kn]});let t=e;return t})(),pQ=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Re({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var PR=new $("");var LH={provide:Ji,useExisting:fn(()=>VH)},VH=(()=>{let e=class e extends Ji{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ze,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(xh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return vI(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){oR(r.control||null,r,!1),PH(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,xH(this.form,this.directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,s=this.form.get(r.path);i!==s&&(oR(i||null,r),OH(s)&&(vI(s,r,this.callSetDisabledState),r.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);RH(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&MH(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){TI(this.form,this),this._oldForm&&xh(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(H(II,10),H(wI,10),H(kh,8))},e.\u0275dir=Re({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,s){i&1&&bt("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[Le.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[kr([LH]),Ht,Kn]});let t=e;return t})();var jH={provide:Zi,useExisting:fn(()=>UH)},UH=(()=>{let e=class e extends Zi{set isDisabled(r){}constructor(r,i,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Ze,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=xR(this,o)}ngOnChanges(r){this._added||this._setUpControl(),NR(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return RR(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(H(Ji,13),H(II,10),H(wI,10),H(So,10),H(PR,8))},e.\u0275dir=Re({type:e,selectors:[["","formControlName",""]],inputs:{name:[Le.None,"formControlName","name"],isDisabled:[Le.None,"disabled","isDisabled"],model:[Le.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[kr([jH]),Ht,Kn]});let t=e;return t})(),BH={provide:So,useExisting:fn(()=>kR),multi:!0};function OR(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function $H(t){return t.split(":")[0]}var kR=(()=>{let e=class e extends Ph{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),s=OR(i,r);this.setProperty("value",s)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=$H(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Pr(e)))(s||e)}})(),e.\u0275dir=Re({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,s){i&1&&bt("change",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[kr([BH]),Ht]});let t=e;return t})(),gQ=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(OR(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(H(Bt),H(yn),H(kR,9))},e.\u0275dir=Re({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),HH={provide:So,useExisting:fn(()=>FR),multi:!0};function lR(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function qH(t){return t.split(":")[0]}var FR=(()=>{let e=class e extends Ph{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let s=r.map(o=>this._getOptionId(o));i=(o,a)=>{o._setSelected(s.indexOf(a.toString())>-1)}}else i=(s,o)=>{s._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let s=[],o=i.selectedOptions;if(o!==void 0){let a=o;for(let u=0;u<a.length;u++){let l=a[u],h=this._getOptionValue(l.value);s.push(h)}}else{let a=i.options;for(let u=0;u<a.length;u++){let l=a[u];if(l.selected){let h=this._getOptionValue(l.value);s.push(h)}}}this.value=s,r(s)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=qH(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Pr(e)))(s||e)}})(),e.\u0275dir=Re({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,s){i&1&&bt("change",function(a){return s.onChange(a.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[kr([HH]),Ht]});let t=e;return t})(),mQ=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(lR(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(lR(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(H(Bt),H(yn),H(FR,9))},e.\u0275dir=Re({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var LR=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=tn({type:e}),e.\u0275inj=en({});let t=e;return t})(),_I=class extends Ao{constructor(e,n,r){super(EI(n),DI(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){SR(this,!1,e),e.forEach((r,i)=>{AR(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function dR(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var yQ=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let r=new e;return r.useNonNullable=!0,r}group(r,i=null){let s=this._reduceControls(r),o={};return dR(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Mh(s,o)}record(r,i=null){let s=this._reduceControls(r);return new yI(s,i)}control(r,i,s){let o={};return this.useNonNullable?(dR(i)?o=i:(o.validators=i,o.asyncValidators=s),new kc(r,he(O({},o),{nonNullable:!0}))):new kc(r,i,s)}array(r,i,s){let o=r.map(a=>this._createControl(a));return new _I(o,i,s)}_reduceControls(r){let i={};return Object.keys(r).forEach(s=>{i[s]=this._createControl(r[s])}),i}_createControl(r){if(r instanceof kc)return r;if(r instanceof Ao)return r;if(Array.isArray(r)){let i=r[0],s=r.length>1?r[1]:null,o=r.length>2?r[2]:null;return this.control(i,s,o)}else return this.control(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var vQ=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:kh,useValue:r.callSetDisabledState??Fh}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=tn({type:e}),e.\u0275inj=en({imports:[LR]});let t=e;return t})(),_Q=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:PR,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:kh,useValue:r.callSetDisabledState??Fh}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=tn({type:e}),e.\u0275inj=en({imports:[LR]});let t=e;return t})();var Ro=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(Ro||{});function VR(t,e){return{type:Ro.Trigger,name:t,definitions:e,options:{}}}function bI(t,e=null){return{type:Ro.Animate,styles:e,timings:t}}function Lh(t){return{type:Ro.Style,styles:t,offset:null}}function Vh(t,e,n){return{type:Ro.State,name:t,styles:e,options:n}}function CI(t,e,n=null){return{type:Ro.Transition,expr:t,animation:e,options:n}}var jR=["toast-component",""];function zH(t,e){if(t&1){let n=Lg();xt(0,"button",5),bt("click",function(){og(n);let i=Pt();return ag(i.remove())}),xt(1,"span",6),Xn(2,"\xD7"),rn()()}}function GH(t,e){if(t&1&&(Rl(0),Xn(1),Ml()),t&2){let n=Pt(2);$e(),er("[",n.duplicatesCount+1,"]")}}function WH(t,e){if(t&1&&(xt(0,"div"),Xn(1),Mr(2,GH,2,1,"ng-container",4),rn()),t&2){let n=Pt();Zn(n.options.titleClass),Jn("aria-label",n.title),$e(),er(" ",n.title," "),$e(),ot("ngIf",n.duplicatesCount)}}function KH(t,e){if(t&1&&Or(0,"div",7),t&2){let n=Pt();Zn(n.options.messageClass),ot("innerHTML",n.message,Ig)}}function QH(t,e){if(t&1&&(xt(0,"div",8),Xn(1),rn()),t&2){let n=Pt();Zn(n.options.messageClass),Jn("aria-label",n.message),$e(),er(" ",n.message," ")}}function YH(t,e){if(t&1&&(xt(0,"div"),Or(1,"div",9),rn()),t&2){let n=Pt();$e(),Ei("width",n.width+"%")}}function JH(t,e){if(t&1){let n=Lg();xt(0,"button",5),bt("click",function(){og(n);let i=Pt();return ag(i.remove())}),xt(1,"span",6),Xn(2,"\xD7"),rn()()}}function ZH(t,e){if(t&1&&(Rl(0),Xn(1),Ml()),t&2){let n=Pt(2);$e(),er("[",n.duplicatesCount+1,"]")}}function XH(t,e){if(t&1&&(xt(0,"div"),Xn(1),Mr(2,ZH,2,1,"ng-container",4),rn()),t&2){let n=Pt();Zn(n.options.titleClass),Jn("aria-label",n.title),$e(),er(" ",n.title," "),$e(),ot("ngIf",n.duplicatesCount)}}function eq(t,e){if(t&1&&Or(0,"div",7),t&2){let n=Pt();Zn(n.options.messageClass),ot("innerHTML",n.message,Ig)}}function tq(t,e){if(t&1&&(xt(0,"div",8),Xn(1),rn()),t&2){let n=Pt();Zn(n.options.messageClass),Jn("aria-label",n.message),$e(),er(" ",n.message," ")}}function nq(t,e){if(t&1&&(xt(0,"div"),Or(1,"div",9),rn()),t&2){let n=Pt();$e(),Ei("width",n.width+"%")}}var AI=class{_attachedHost;component;viewContainerRef;injector;constructor(e,n){this.component=e,this.injector=n}attach(e,n){return this._attachedHost=e,e.attach(this,n)}detach(){let e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},SI=class{_attachedPortal;_disposeFn;attach(e,n){return this._attachedPortal=e,this.attachComponentPortal(e,n)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}},RI=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new be;_activate=new be;_manualClose=new be;_resetTimeout=new be;_countDuplicate=new be;constructor(e){this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,n){e&&this._resetTimeout.next(),n&&this._countDuplicate.next(++this.duplicatesCount)}},Mo=class{toastId;config;message;title;toastType;toastRef;_onTap=new be;_onAction=new be;constructor(e,n,r,i,s,o){this.toastId=e,this.config=n,this.message=r,this.title=i,this.toastType=s,this.toastRef=o,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}},UR={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},rq=new $("ToastConfig"),MI=class extends SI{_hostDomElement;_componentFactoryResolver;_appRef;constructor(e,n,r){super(),this._hostDomElement=e,this._componentFactoryResolver=n,this._appRef=r}attachComponentPortal(e,n){let r=this._componentFactoryResolver.resolveComponentFactory(e.component),i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),n?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}},iq=(()=>{class t{_document=k(Ge);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let n=this._document.createElement("div");n.classList.add("overlay-container"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),this._containerElement=n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),NI=class{_portalHost;constructor(e){this._portalHost=e}attach(e,n=!0){return this._portalHost.attach(e,n)}detach(){return this._portalHost.detach()}},sq=(()=>{class t{_overlayContainer=k(iq);_componentFactoryResolver=k(Fs);_appRef=k(tr);_document=k(Ge);_paneElements=new Map;create(n,r){return this._createOverlayRef(this.getPaneElement(n,r))}getPaneElement(n="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[n]||(this._paneElements.get(r)[n]=this._createPaneElement(n,r)),this._paneElements.get(r)[n]}_createPaneElement(n,r){let i=this._document.createElement("div");return i.id="toast-container",i.classList.add(n),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(n){return new MI(n,this._componentFactoryResolver,this._appRef)}_createOverlayRef(n){return new NI(this._createPortalHost(n))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),BR=(()=>{class t{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(n,r,i,s,o){this.overlay=r,this._injector=i,this.sanitizer=s,this.ngZone=o,this.toastrConfig=O(O({},n.default),n.config),n.config.iconClasses&&(this.toastrConfig.iconClasses=O(O({},n.default.iconClasses),n.config.iconClasses))}show(n,r,i={},s=""){return this._preBuildNotification(s,n,r,this.applyConfig(i))}success(n,r,i={}){let s=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(s,n,r,this.applyConfig(i))}error(n,r,i={}){let s=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(s,n,r,this.applyConfig(i))}info(n,r,i={}){let s=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(s,n,r,this.applyConfig(i))}warning(n,r,i={}){let s=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(s,n,r,this.applyConfig(i))}clear(n){for(let r of this.toasts)if(n!==void 0){if(r.toastId===n){r.toastRef.manualClose();return}}else r.toastRef.manualClose()}remove(n){let r=this._findToast(n);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(n="",r="",i,s){let{includeTitleDuplicates:o}=this.toastrConfig;for(let a of this.toasts){let u=o&&a.title===n;if((!o||u)&&a.message===r)return a.toastRef.onDuplicate(i,s),a}return null}applyConfig(n={}){return O(O({},this.toastrConfig),n)}_findToast(n){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===n)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(n,r,i,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(n,r,i,s)):this._buildNotification(n,r,i,s)}_buildNotification(n,r,i,s){if(!s.toastComponent)throw new Error("toastComponent required");let o=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&o!==null)return o;this.previousToastMessage=r;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let u=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let l=r;r&&s.enableHtml&&(l=this.sanitizer.sanitize(Nt.HTML,r));let h=new RI(u),p=new Mo(this.index,s,l,i,n,h),m=[{provide:Mo,useValue:p}],v=Be.create({providers:m,parent:this._injector}),A=new AI(s.toastComponent,v),M=u.attach(A,s.newestOnTop);h.componentInstance=M.instance;let R={toastId:this.index,title:i||"",message:r||"",toastRef:h,onShown:h.afterActivate(),onHidden:h.afterClosed(),onTap:p.onTap(),onAction:p.onAction(),portal:M};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{R.toastRef.activate()})),this.toasts.push(R),R}static \u0275fac=function(r){return new(r||t)(U(rq),U(sq),U(Be),U(um),U(ge))};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),oq=(()=>{class t{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if(this.state.value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(n,r,i){this.toastrService=n,this.toastPackage=r,this.ngZone=i,this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=he(O({},this.state),{value:"active"}),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width===0||this.width===100||!this.options.timeOut)return;let n=new Date().getTime(),r=this.hideTime-n;this.width=r/this.options.timeOut*100,this.options.progressAnimation==="increasing"&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=he(O({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state.value!=="removed"&&(clearTimeout(this.timeout),this.state=he(O({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state.value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state.value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state.value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(n,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(n),r)):this.timeout=setTimeout(()=>n(),r)}outsideInterval(n,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(n),r)):this.intervalId=setInterval(()=>n(),r)}runInsideAngular(n){this.ngZone?this.ngZone.run(()=>n()):n()}static \u0275fac=function(r){return new(r||t)(H(BR),H(Mo),H(ge))};static \u0275cmp=ma({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(r,i){r&1&&bt("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),r&2&&(Vg("@flyInOut",i.state),Zn(i.toastClasses),Ei("display",i.displayStyle))},standalone:!0,features:[wa],attrs:jR,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,i){r&1&&Mr(0,zH,3,0,"button",0)(1,WH,3,5,"div",1)(2,KH,1,3,"div",2)(3,QH,2,4,"div",3)(4,YH,2,2,"div",4),r&2&&(ot("ngIf",i.options.closeButton),$e(),ot("ngIf",i.title),$e(),ot("ngIf",i.message&&i.options.enableHtml),$e(),ot("ngIf",i.message&&!i.options.enableHtml),$e(),ot("ngIf",i.options.progressBar))},dependencies:[Wg],encapsulation:2,data:{animation:[VR("flyInOut",[Vh("inactive",Lh({opacity:0})),Vh("active",Lh({opacity:1})),Vh("removed",Lh({opacity:0})),CI("inactive => active",bI("{{ easeTime }}ms {{ easing }}")),CI("active => removed",bI("{{ easeTime }}ms {{ easing }}"))])]}})}return t})(),OQ=he(O({},UR),{toastComponent:oq});var aq=(()=>{class t{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";get displayStyle(){return this.state==="inactive"?"none":null}state="inactive";timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(n,r,i){this.toastrService=n,this.toastPackage=r,this.appRef=i,this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width===0||this.width===100||!this.options.timeOut)return;let n=new Date().getTime(),r=this.hideTime-n;this.width=r/this.options.timeOut*100,this.options.progressAnimation==="increasing"&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state!=="removed"&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(r){return new(r||t)(H(BR),H(Mo),H(tr))};static \u0275cmp=ma({type:t,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(r,i){r&1&&bt("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),r&2&&(Zn(i.toastClasses),Ei("display",i.displayStyle))},standalone:!0,features:[wa],attrs:jR,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,i){r&1&&Mr(0,JH,3,0,"button",0)(1,XH,3,5,"div",1)(2,eq,1,3,"div",2)(3,tq,2,4,"div",3)(4,nq,2,2,"div",4),r&2&&(ot("ngIf",i.options.closeButton),$e(),ot("ngIf",i.title),$e(),ot("ngIf",i.message&&i.options.enableHtml),$e(),ot("ngIf",i.message&&!i.options.enableHtml),$e(),ot("ngIf",i.options.progressBar))},dependencies:[Wg],encapsulation:2})}return t})(),kQ=he(O({},UR),{toastComponent:aq});export{w as a,V as b,en as c,U as d,k as e,ma as f,tn as g,fD as h,Kn as i,og as j,ag as k,Ze as l,mP as m,$e as n,H as o,Mr as p,ot as q,k9 as r,F9 as s,L9 as t,V9 as u,xt as v,rn as w,Or as x,Rl as y,Ml as z,Lg as A,bt as B,Pt as C,j9 as D,U9 as E,Zk as F,Xn as G,t1 as H,er as I,n1 as J,B9 as K,r1 as L,wa as M,$9 as N,H9 as O,q9 as P,g6 as Q,Wg as R,m6 as S,O1 as T,w6 as U,B6 as V,LF as W,sr as X,c5 as Y,u5 as Z,l5 as _,Z5 as $,X5 as aa,cc as ba,G8 as ca,W8 as da,K8 as ea,Q8 as fa,$7 as ga,H7 as ha,G7 as ia,cH as ja,fR as ka,nR as la,dQ as ma,hQ as na,FH as oa,pQ as pa,VH as qa,UH as ra,kR as sa,gQ as ta,mQ as ua,yQ as va,vQ as wa,_Q as xa,BR as ya};
